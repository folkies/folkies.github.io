var H7=Object.create;var dy=Object.defineProperty,z7=Object.defineProperties,U7=Object.getOwnPropertyDescriptor,q7=Object.getOwnPropertyDescriptors,$7=Object.getOwnPropertyNames,qp=Object.getOwnPropertySymbols,W7=Object.getPrototypeOf,uy=Object.prototype.hasOwnProperty,z2=Object.prototype.propertyIsEnumerable;var H2=(t,n,e)=>n in t?dy(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,G=(t,n)=>{for(var e in n||={})uy.call(n,e)&&H2(t,e,n[e]);if(qp)for(var e of qp(n))z2.call(n,e)&&H2(t,e,n[e]);return t},nt=(t,n)=>z7(t,q7(n));var U2=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(n,e)=>(typeof require<"u"?require:n)[e]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var hy=(t,n)=>{var e={};for(var i in t)uy.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&qp)for(var i of qp(t))n.indexOf(i)<0&&z2.call(t,i)&&(e[i]=t[i]);return e};var P=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var G7=(t,n,e,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of $7(n))!uy.call(t,r)&&r!==e&&dy(t,r,{get:()=>n[r],enumerable:!(i=U7(n,r))||i.enumerable});return t};var no=(t,n,e)=>(e=t!=null?H7(W7(t)):{},G7(n||!t||!t.__esModule?dy(e,"default",{value:t,enumerable:!0}):e,t));var te=(t,n,e)=>new Promise((i,r)=>{var o=l=>{try{s(e.next(l))}catch(c){r(c)}},a=l=>{try{s(e.throw(l))}catch(c){r(c)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(t,n)).next())});var BC=P(()=>{var SA;(function(t){(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=r(t);typeof e.Reflect>"u"?e.Reflect=t:i=r(e.Reflect,i),n(i);function r(o,a){return function(s,l){typeof o[s]!="function"&&Object.defineProperty(o,s,{configurable:!0,writable:!0,value:l}),a&&a(s,l)}}})(function(n){var e=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",r=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",s={__proto__:[]}instanceof Array,l=!a&&!s,c={create:a?function(){return zt(Object.create(null))}:s?function(){return zt({__proto__:null})}:function(){return zt({})},has:l?function(S,I){return e.call(S,I)}:function(S,I){return I in S},get:l?function(S,I){return e.call(S,I)?S[I]:void 0}:function(S,I){return S[I]}},u=Object.getPrototypeOf(Function),d=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",h=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ur(),f=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:In(),p=!d&&typeof WeakMap=="function"?WeakMap:Fe(),g=new p;function v(S,I,V,B){if(J(V)){if(!ke(S))throw new TypeError;if(!dt(I))throw new TypeError;return U(S,I)}else{if(!ke(S))throw new TypeError;if(!Ae(I))throw new TypeError;if(!Ae(B)&&!J(B)&&!Ve(B))throw new TypeError;return Ve(B)&&(B=void 0),V=St(V),de(S,I,V,B)}}n("decorate",v);function _(S,I){function V(B,q){if(!Ae(B))throw new TypeError;if(!J(q)&&!Tt(q))throw new TypeError;w(S,I,B,q)}return V}n("metadata",_);function y(S,I,V,B){if(!Ae(V))throw new TypeError;return J(B)||(B=St(B)),w(S,I,V,B)}n("defineMetadata",y);function D(S,I,V){if(!Ae(I))throw new TypeError;return J(V)||(V=St(V)),Z(S,I,V)}n("hasMetadata",D);function b(S,I,V){if(!Ae(I))throw new TypeError;return J(V)||(V=St(V)),me(S,I,V)}n("hasOwnMetadata",b);function C(S,I,V){if(!Ae(I))throw new TypeError;return J(V)||(V=St(V)),we(S,I,V)}n("getMetadata",C);function k(S,I,V){if(!Ae(I))throw new TypeError;return J(V)||(V=St(V)),oe(S,I,V)}n("getOwnMetadata",k);function O(S,I){if(!Ae(S))throw new TypeError;return J(I)||(I=St(I)),T(S,I)}n("getMetadataKeys",O);function H(S,I){if(!Ae(S))throw new TypeError;return J(I)||(I=St(I)),R(S,I)}n("getOwnMetadataKeys",H);function F(S,I,V){if(!Ae(I))throw new TypeError;J(V)||(V=St(V));var B=X(I,V,!1);if(J(B)||!B.delete(S))return!1;if(B.size>0)return!0;var q=g.get(I);return q.delete(V),q.size>0||g.delete(I),!0}n("deleteMetadata",F);function U(S,I){for(var V=S.length-1;V>=0;--V){var B=S[V],q=B(I);if(!J(q)&&!Ve(q)){if(!dt(q))throw new TypeError;I=q}}return I}function de(S,I,V,B){for(var q=S.length-1;q>=0;--q){var Me=S[q],fe=Me(I,V,B);if(!J(fe)&&!Ve(fe)){if(!Ae(fe))throw new TypeError;B=fe}}return B}function X(S,I,V){var B=g.get(S);if(J(B)){if(!V)return;B=new h,g.set(S,B)}var q=B.get(I);if(J(q)){if(!V)return;q=new h,B.set(I,q)}return q}function Z(S,I,V){var B=me(S,I,V);if(B)return!0;var q=ci(I);return Ve(q)?!1:Z(S,q,V)}function me(S,I,V){var B=X(I,V,!1);return J(B)?!1:jt(B.has(S))}function we(S,I,V){var B=me(S,I,V);if(B)return oe(S,I,V);var q=ci(I);if(!Ve(q))return we(S,q,V)}function oe(S,I,V){var B=X(I,V,!1);if(!J(B))return B.get(S)}function w(S,I,V,B){var q=X(V,B,!0);q.set(S,I)}function T(S,I){var V=R(S,I),B=ci(S);if(B===null)return V;var q=T(B,I);if(q.length<=0)return V;if(V.length<=0)return q;for(var Me=new f,fe=[],pe=0,K=V;pe<K.length;pe++){var Se=K[pe],Ue=Me.has(Se);Ue||(Me.add(Se),fe.push(Se))}for(var Et=0,ut=q;Et<ut.length;Et++){var Se=ut[Et],Ue=Me.has(Se);Ue||(Me.add(Se),fe.push(Se))}return fe}function R(S,I){var V=[],B=X(S,I,!1);if(J(B))return V;for(var q=B.keys(),Me=lr(q),fe=0;;){var pe=cr(Me);if(!pe)return V.length=fe,V;var K=Ai(pe);try{V[fe]=K}catch(Se){try{dr(Me)}finally{throw Se}}fe++}}function N(S){if(S===null)return 1;switch(typeof S){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return S===null?1:6;default:return 6}}function J(S){return S===void 0}function Ve(S){return S===null}function Te(S){return typeof S=="symbol"}function Ae(S){return typeof S=="object"?S!==null:typeof S=="function"}function yi(S,I){switch(N(S)){case 0:return S;case 1:return S;case 2:return S;case 3:return S;case 4:return S;case 5:return S}var V=I===3?"string":I===5?"number":"default",B=Jt(S,r);if(B!==void 0){var q=B.call(S,V);if(Ae(q))throw new TypeError;return q}return Ii(S,V==="default"?"number":V)}function Ii(S,I){if(I==="string"){var V=S.toString;if(Ht(V)){var B=V.call(S);if(!Ae(B))return B}var q=S.valueOf;if(Ht(q)){var B=q.call(S);if(!Ae(B))return B}}else{var q=S.valueOf;if(Ht(q)){var B=q.call(S);if(!Ae(B))return B}var Me=S.toString;if(Ht(Me)){var B=Me.call(S);if(!Ae(B))return B}}throw new TypeError}function jt(S){return!!S}function sn(S){return""+S}function St(S){var I=yi(S,3);return Te(I)?I:sn(I)}function ke(S){return Array.isArray?Array.isArray(S):S instanceof Object?S instanceof Array:Object.prototype.toString.call(S)==="[object Array]"}function Ht(S){return typeof S=="function"}function dt(S){return typeof S=="function"}function Tt(S){switch(N(S)){case 3:return!0;case 4:return!0;default:return!1}}function Jt(S,I){var V=S[I];if(V!=null){if(!Ht(V))throw new TypeError;return V}}function lr(S){var I=Jt(S,o);if(!Ht(I))throw new TypeError;var V=I.call(S);if(!Ae(V))throw new TypeError;return V}function Ai(S){return S.value}function cr(S){var I=S.next();return I.done?!1:I}function dr(S){var I=S.return;I&&I.call(S)}function ci(S){var I=Object.getPrototypeOf(S);if(typeof S!="function"||S===u||I!==u)return I;var V=S.prototype,B=V&&Object.getPrototypeOf(V);if(B==null||B===Object.prototype)return I;var q=B.constructor;return typeof q!="function"||q===S?I:q}function ur(){var S={},I=[],V=(function(){function fe(pe,K,Se){this._index=0,this._keys=pe,this._values=K,this._selector=Se}return fe.prototype["@@iterator"]=function(){return this},fe.prototype[o]=function(){return this},fe.prototype.next=function(){var pe=this._index;if(pe>=0&&pe<this._keys.length){var K=this._selector(this._keys[pe],this._values[pe]);return pe+1>=this._keys.length?(this._index=-1,this._keys=I,this._values=I):this._index++,{value:K,done:!1}}return{value:void 0,done:!0}},fe.prototype.throw=function(pe){throw this._index>=0&&(this._index=-1,this._keys=I,this._values=I),pe},fe.prototype.return=function(pe){return this._index>=0&&(this._index=-1,this._keys=I,this._values=I),{value:pe,done:!0}},fe})();return(function(){function fe(){this._keys=[],this._values=[],this._cacheKey=S,this._cacheIndex=-2}return Object.defineProperty(fe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),fe.prototype.has=function(pe){return this._find(pe,!1)>=0},fe.prototype.get=function(pe){var K=this._find(pe,!1);return K>=0?this._values[K]:void 0},fe.prototype.set=function(pe,K){var Se=this._find(pe,!0);return this._values[Se]=K,this},fe.prototype.delete=function(pe){var K=this._find(pe,!1);if(K>=0){for(var Se=this._keys.length,Ue=K+1;Ue<Se;Ue++)this._keys[Ue-1]=this._keys[Ue],this._values[Ue-1]=this._values[Ue];return this._keys.length--,this._values.length--,pe===this._cacheKey&&(this._cacheKey=S,this._cacheIndex=-2),!0}return!1},fe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=S,this._cacheIndex=-2},fe.prototype.keys=function(){return new V(this._keys,this._values,B)},fe.prototype.values=function(){return new V(this._keys,this._values,q)},fe.prototype.entries=function(){return new V(this._keys,this._values,Me)},fe.prototype["@@iterator"]=function(){return this.entries()},fe.prototype[o]=function(){return this.entries()},fe.prototype._find=function(pe,K){return this._cacheKey!==pe&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=pe)),this._cacheIndex<0&&K&&(this._cacheIndex=this._keys.length,this._keys.push(pe),this._values.push(void 0)),this._cacheIndex},fe})();function B(fe,pe){return fe}function q(fe,pe){return pe}function Me(fe,pe){return[fe,pe]}}function In(){return(function(){function S(){this._map=new h}return Object.defineProperty(S.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),S.prototype.has=function(I){return this._map.has(I)},S.prototype.add=function(I){return this._map.set(I,I),this},S.prototype.delete=function(I){return this._map.delete(I)},S.prototype.clear=function(){this._map.clear()},S.prototype.keys=function(){return this._map.keys()},S.prototype.values=function(){return this._map.values()},S.prototype.entries=function(){return this._map.entries()},S.prototype["@@iterator"]=function(){return this.keys()},S.prototype[o]=function(){return this.keys()},S})()}function Fe(){var S=16,I=c.create(),V=B();return(function(){function K(){this._key=B()}return K.prototype.has=function(Se){var Ue=q(Se,!1);return Ue!==void 0?c.has(Ue,this._key):!1},K.prototype.get=function(Se){var Ue=q(Se,!1);return Ue!==void 0?c.get(Ue,this._key):void 0},K.prototype.set=function(Se,Ue){var Et=q(Se,!0);return Et[this._key]=Ue,this},K.prototype.delete=function(Se){var Ue=q(Se,!1);return Ue!==void 0?delete Ue[this._key]:!1},K.prototype.clear=function(){this._key=B()},K})();function B(){var K;do K="@@WeakMap@@"+pe();while(c.has(I,K));return I[K]=!0,K}function q(K,Se){if(!e.call(K,V)){if(!Se)return;Object.defineProperty(K,V,{value:c.create()})}return K[V]}function Me(K,Se){for(var Ue=0;Ue<Se;++Ue)K[Ue]=Math.random()*255|0;return K}function fe(K){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(K)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(K)):Me(new Uint8Array(K),K):Me(new Array(K),K)}function pe(){var K=fe(S);K[6]=K[6]&79|64,K[8]=K[8]&191|128;for(var Se="",Ue=0;Ue<S;++Ue){var Et=K[Ue];(Ue===4||Ue===6||Ue===8)&&(Se+="-"),Et<16&&(Se+="0"),Se+=Et.toString(16).toLowerCase()}return Se}}function zt(S){return S.__=void 0,delete S.__,S}})})(SA||(SA={}))});var Q0=P(Y0=>{Object.defineProperty(Y0,"__esModule",{value:!0});Y0.getFunctionName=function(t){if(t.name!=="")return t.name;var n=t.toString().substring(9);return n=n.substring(0,n.indexOf("(")),n&&n.trim()?n:"anonymous"};Y0.isArray=function(t){return typeof t=="object"&&t instanceof Array}});var jC=P(K0=>{Object.defineProperty(K0,"__esModule",{value:!0});var Vq=Ll(),kA=new Set;kA.add("isMatch");var VC=new Map,jq=function(t){if(t instanceof Vq.LogFilter){var n=new t;kA.forEach(function(e){if(!n[e]||!(n[e]instanceof Function))throw new Error("Invalid filter: missing/invalid method: "+e)})}};K0.addFilter=function(t,n){return jq(t),VC.has(n)||VC.set(n,t),t};K0.getFilter=function(t){return VC.get(t)}});var HC=P(X0=>{Object.defineProperty(X0,"__esModule",{value:!0});var Hq;(function(t){t.ALLOW="ALLOW",t.NEUTRAL="NEUTRAL",t.DENY="DENY"})(Hq=X0.LogFilterAction||(X0.LogFilterAction={}))});var MA=P(zC=>{Object.defineProperty(zC,"__esModule",{value:!0});var zq=jC(),Z0=HC(),Uq=(function(){function t(n,e){this._config=e,this._appender=new n(e.config),this._appender.setLayout(e.layout),this._isPassThrough=!e||!e.filters||e.filters.length===0,this._isPassThrough?this._filters=[]:this._filters=e.filters.map(function(i){return{filter:i.filter instanceof Function?new i.filter(i.config):new(zq.getFilter(i.filter))(i.config),config:i.config,onMatch:i.onMatch,onMismatch:i.onMismatch}})}return Object.defineProperty(t.prototype,"appender",{get:function(){return this._appender},enumerable:!0,configurable:!0}),t.prototype.append=function(n){this.isMatch(n)&&this._appender.append(n)},t.prototype.isMatch=function(n){return this._isPassThrough||this._isMatch(n)},t.prototype._isMatch=function(n){for(var e,i=this._filters.length,r=0;r<i;r++)if(e=this._filters[r],e.filter.isMatch(n)){if(e.onMatch===Z0.LogFilterAction.DENY)return!1;if(e.onMatch===Z0.LogFilterAction.ALLOW)return!0}else{if(e.onMismatch===Z0.LogFilterAction.DENY)return!1;if(e.onMismatch===Z0.LogFilterAction.ALLOW)return!0}return!0},t})();zC.AppenderWrapper=Uq});var Wh=P(J0=>{Object.defineProperty(J0,"__esModule",{value:!0});var qq;(function(t){t[t.OFF=0]="OFF",t[t.FATAL=100]="FATAL",t[t.ERROR=200]="ERROR",t[t.WARN=300]="WARN",t[t.INFO=400]="INFO",t[t.DEBUG=500]="DEBUG",t[t.TRACE=600]="TRACE",t[t.ALL=2147483647]="ALL"})(qq=J0.LogLevel||(J0.LogLevel={}))});var IA=P(Yi=>{Object.defineProperty(Yi,"__esModule",{value:!0});var $q=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,Wq=/[^-+\dA-Z]/g;Yi.padLeft=function(t,n,e){e===void 0&&(e=" ");for(var i=String(t);i.length<n;)i=e+i;return i};var TA;(function(t){t.DEFAULT="yyyy-MM-dd HH:mm:ss,S",t.ABSOLUTE="HH:mm:ss,S",t.COMPACT="yyyyMMddHHmmssS",t.DATE="dd MMM yyyy HH:mm:ss,S",t.ISO8601="yyyy-MM-ddTHH:mm:ss,S",t.ISO8601_BASIC="yyyyMMddTHHmmss,S"})(TA=Yi.DateTimeFormat||(Yi.DateTimeFormat={}));var eg={d:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},UC={},Gq={d:function(t){return t.getDate()},dd:function(t){return Yi.padLeft(t.getDate(),2,"0")},ddd:function(t){return eg.d[t.getDay()]},dddd:function(t){return eg.d[t.getDay()+7]},M:function(t){return t.getMonth()+1},MM:function(t){return Yi.padLeft(t.getMonth()+1,2,"0")},MMM:function(t){return eg.m[t.getMonth()]},MMMM:function(t){return eg.m[t.getMonth()+12]},yy:function(t,n){return String(n?t.getFullYear():t.getUTCFullYear()).slice(2)},yyyy:function(t,n){return n?t.getFullYear():t.getUTCFullYear()},h:function(t){return t.getHours()%12||12},hh:function(t){return Yi.padLeft(t.getHours()%12||12,2,"0")},H:function(t){return t.getHours()},HH:function(t){return Yi.padLeft(t.getHours(),2,"0")},m:function(t){return t.getMinutes()},mm:function(t){return Yi.padLeft(t.getMinutes(),2,"0")},s:function(t){return t.getSeconds()},ss:function(t){return Yi.padLeft(t.getSeconds(),2,"0")},S:function(t){return Yi.padLeft(t.getMilliseconds(),1)},a:function(t){return t.getHours()<12?"a":"p"},aa:function(t){return t.getHours()<12?"am":"pm"},A:function(t){return t.getHours()<12?"A":"P"},AA:function(t){return t.getHours()<12?"AM":"PM"},Z:function(t,n){return n?"UTC":String(t).match($q).pop().replace(Wq,"")},o:function(t,n){var e=n?0:t.getTimezoneOffset();return(e>0?"-":"+")+Yi.padLeft(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4,"0")}};function Yq(t){if(UC[t]instanceof Array)return UC[t];for(var n=[],e=/(.)\1+|(.)/,i=t,r,o;r=i.match(e);)o=r[0],n.push(Gq[o]||o),i=i.substring(o.length);return UC[t]=n,n}Yi.formatDate=function(t,n){t instanceof Date||(t=new Date(t)),n=String(n||TA.DEFAULT);var e=n.slice(0,4)==="UTC:";return e&&(n=n.slice(4)),Yq(n).map(function(i){return i instanceof Function?i(t,e):i}).join("")}});var RA=P((AEe,AA)=>{AA.exports=function(n){return n&&typeof n=="object"&&typeof n.copy=="function"&&typeof n.fill=="function"&&typeof n.readUInt8=="function"}});var OA=P((REe,qC)=>{typeof Object.create=="function"?qC.exports=function(n,e){n.super_=e,n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:qC.exports=function(n,e){n.super_=e;var i=function(){};i.prototype=e.prototype,n.prototype=new i,n.prototype.constructor=n}});var LA=P(an=>{var Qq=/%[sdj%]/g;an.format=function(t){if(!sg(t)){for(var n=[],e=0;e<arguments.length;e++)n.push(Ss(arguments[e]));return n.join(" ")}for(var e=1,i=arguments,r=i.length,o=String(t).replace(Qq,function(s){if(s==="%%")return"%";if(e>=r)return s;switch(s){case"%s":return String(i[e++]);case"%d":return Number(i[e++]);case"%j":try{return JSON.stringify(i[e++])}catch(l){return"[Circular]"}default:return s}}),a=i[e];e<r;a=i[++e])ag(a)||!vd(a)?o+=" "+a:o+=" "+Ss(a);return o};an.deprecate=function(t,n){if(Va(global.process))return function(){return an.deprecate(t,n).apply(this,arguments)};if(process.noDeprecation===!0)return t;var e=!1;function i(){if(!e){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),e=!0}return t.apply(this,arguments)}return i};var tg={},$C;an.debuglog=function(t){if(Va($C)&&($C=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!tg[t])if(new RegExp("\\b"+t+"\\b","i").test($C)){var n=process.pid;tg[t]=function(){var e=an.format.apply(an,arguments);console.error("%s %d: %s",t,n,e)}}else tg[t]=function(){};return tg[t]};function Ss(t,n){var e={seen:[],stylize:Xq};return arguments.length>=3&&(e.depth=arguments[2]),arguments.length>=4&&(e.colors=arguments[3]),KC(n)?e.showHidden=n:n&&an._extend(e,n),Va(e.showHidden)&&(e.showHidden=!1),Va(e.depth)&&(e.depth=2),Va(e.colors)&&(e.colors=!1),Va(e.customInspect)&&(e.customInspect=!0),e.colors&&(e.stylize=Kq),og(e,t,e.depth)}an.inspect=Ss;Ss.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Ss.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Kq(t,n){var e=Ss.styles[n];return e?"\x1B["+Ss.colors[e][0]+"m"+t+"\x1B["+Ss.colors[e][1]+"m":t}function Xq(t,n){return t}function Zq(t){var n={};return t.forEach(function(e,i){n[e]=!0}),n}function og(t,n,e){if(t.customInspect&&n&&rg(n.inspect)&&n.inspect!==an.inspect&&!(n.constructor&&n.constructor.prototype===n)){var i=n.inspect(e,t);return sg(i)||(i=og(t,i,e)),i}var r=Jq(t,n);if(r)return r;var o=Object.keys(n),a=Zq(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),ig(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return WC(n);if(o.length===0){if(rg(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(ng(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(QC(n))return t.stylize(Date.prototype.toString.call(n),"date");if(ig(n))return WC(n)}var l="",c=!1,u=["{","}"];if(NA(n)&&(c=!0,u=["[","]"]),rg(n)){var d=n.name?": "+n.name:"";l=" [Function"+d+"]"}if(ng(n)&&(l=" "+RegExp.prototype.toString.call(n)),QC(n)&&(l=" "+Date.prototype.toUTCString.call(n)),ig(n)&&(l=" "+WC(n)),o.length===0&&(!c||n.length==0))return u[0]+l+u[1];if(e<0)return ng(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var h;return c?h=e$(t,n,e,a,o):h=o.map(function(f){return YC(t,n,e,a,f,c)}),t.seen.pop(),t$(h,l,u)}function Jq(t,n){if(Va(n))return t.stylize("undefined","undefined");if(sg(n)){var e="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(e,"string")}if(FA(n))return t.stylize(""+n,"number");if(KC(n))return t.stylize(""+n,"boolean");if(ag(n))return t.stylize("null","null")}function WC(t){return"["+Error.prototype.toString.call(t)+"]"}function e$(t,n,e,i,r){for(var o=[],a=0,s=n.length;a<s;++a)PA(n,String(a))?o.push(YC(t,n,e,i,String(a),!0)):o.push("");return r.forEach(function(l){l.match(/^\d+$/)||o.push(YC(t,n,e,i,l,!0))}),o}function YC(t,n,e,i,r,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(n,r)||{value:n[r]},l.get?l.set?s=t.stylize("[Getter/Setter]","special"):s=t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),PA(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(ag(e)?s=og(t,l.value,null):s=og(t,l.value,e-1),s.indexOf(`
`)>-1&&(o?s=s.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):s=`
`+s.split(`
`).map(function(c){return"   "+c}).join(`
`))):s=t.stylize("[Circular]","special")),Va(a)){if(o&&r.match(/^\d+$/))return s;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function t$(t,n,e){var i=0,r=t.reduce(function(o,a){return i++,a.indexOf(`
`)>=0&&i++,o+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?e[0]+(n===""?"":n+`
 `)+" "+t.join(`,
  `)+" "+e[1]:e[0]+n+" "+t.join(", ")+" "+e[1]}function NA(t){return Array.isArray(t)}an.isArray=NA;function KC(t){return typeof t=="boolean"}an.isBoolean=KC;function ag(t){return t===null}an.isNull=ag;function n$(t){return t==null}an.isNullOrUndefined=n$;function FA(t){return typeof t=="number"}an.isNumber=FA;function sg(t){return typeof t=="string"}an.isString=sg;function i$(t){return typeof t=="symbol"}an.isSymbol=i$;function Va(t){return t===void 0}an.isUndefined=Va;function ng(t){return vd(t)&&XC(t)==="[object RegExp]"}an.isRegExp=ng;function vd(t){return typeof t=="object"&&t!==null}an.isObject=vd;function QC(t){return vd(t)&&XC(t)==="[object Date]"}an.isDate=QC;function ig(t){return vd(t)&&(XC(t)==="[object Error]"||t instanceof Error)}an.isError=ig;function rg(t){return typeof t=="function"}an.isFunction=rg;function r$(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}an.isPrimitive=r$;an.isBuffer=RA();function XC(t){return Object.prototype.toString.call(t)}function GC(t){return t<10?"0"+t.toString(10):t.toString(10)}var o$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function a$(){var t=new Date,n=[GC(t.getHours()),GC(t.getMinutes()),GC(t.getSeconds())].join(":");return[t.getDate(),o$[t.getMonth()],n].join(" ")}an.log=function(){console.log("%s - %s",a$(),an.format.apply(an,arguments))};an.inherits=OA();an._extend=function(t,n){if(!n||!vd(n))return t;for(var e=Object.keys(n),i=e.length;i--;)t[e[i]]=n[e[i]];return t};function PA(t,n){return Object.prototype.hasOwnProperty.call(t,n)}});var jA=P((NEe,Yh)=>{"use strict";var s$=process.platform==="win32",bo=LA();function lg(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];!r||r==="."||(r===".."?e.length&&e[e.length-1]!==".."?e.pop():n&&e.push(".."):e.push(r))}return e}function Gh(t){for(var n=t.length-1,e=0;e<=n&&!t[e];e++);for(var i=n;i>=0&&!t[i];i--);return e===0&&i===n?t:e>i?[]:t.slice(e,i+1)}var BA=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,l$=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,Pn={};function cg(t){var n=BA.exec(t),e=(n[1]||"")+(n[2]||""),i=n[3]||"",r=l$.exec(i),o=r[1],a=r[2],s=r[3];return[e,o,a,s]}function ZC(t){var n=BA.exec(t),e=n[1]||"",i=!!e&&e[1]!==":";return{device:e,isUnc:i,isAbsolute:i||!!n[2],tail:n[3]}}function VA(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}Pn.resolve=function(){for(var t="",n="",e=!1,i=arguments.length-1;i>=-1;i--){var r;if(i>=0?r=arguments[i]:t?(r=process.env["="+t],(!r||r.substr(0,3).toLowerCase()!==t.toLowerCase()+"\\")&&(r=t+"\\")):r=process.cwd(),bo.isString(r)){if(!r)continue}else throw new TypeError("Arguments to path.resolve must be strings");var o=ZC(r),a=o.device,s=o.isUnc,l=o.isAbsolute,c=o.tail;if(!(a&&t&&a.toLowerCase()!==t.toLowerCase())&&(t||(t=a),e||(n=c+"\\"+n,e=l),t&&e))break}return s&&(t=VA(t)),n=lg(n.split(/[\\\/]+/),!e).join("\\"),t+(e?"\\":"")+n||"."};Pn.normalize=function(t){var n=ZC(t),e=n.device,i=n.isUnc,r=n.isAbsolute,o=n.tail,a=/[\\\/]$/.test(o);return o=lg(o.split(/[\\\/]+/),!r).join("\\"),!o&&!r&&(o="."),o&&a&&(o+="\\"),i&&(e=VA(e)),e+(r?"\\":"")+o};Pn.isAbsolute=function(t){return ZC(t).isAbsolute};Pn.join=function(){for(var t=[],n=0;n<arguments.length;n++){var e=arguments[n];if(!bo.isString(e))throw new TypeError("Arguments to path.join must be strings");e&&t.push(e)}var i=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(i=i.replace(/^[\\\/]{2,}/,"\\")),Pn.normalize(i)};Pn.relative=function(t,n){t=Pn.resolve(t),n=Pn.resolve(n);for(var e=t.toLowerCase(),i=n.toLowerCase(),r=Gh(n.split("\\")),o=Gh(e.split("\\")),a=Gh(i.split("\\")),s=Math.min(o.length,a.length),l=s,c=0;c<s;c++)if(o[c]!==a[c]){l=c;break}if(l==0)return n;for(var u=[],c=l;c<o.length;c++)u.push("..");return u=u.concat(r.slice(l)),u.join("\\")};Pn._makeLong=function(t){if(!bo.isString(t))return t;if(!t)return"";var n=Pn.resolve(t);return/^[a-zA-Z]\:\\/.test(n)?"\\\\?\\"+n:/^\\\\[^?.]/.test(n)?"\\\\?\\UNC\\"+n.substring(2):t};Pn.dirname=function(t){var n=cg(t),e=n[0],i=n[1];return!e&&!i?".":(i&&(i=i.substr(0,i.length-1)),e+i)};Pn.basename=function(t,n){var e=cg(t)[2];return n&&e.substr(-1*n.length)===n&&(e=e.substr(0,e.length-n.length)),e};Pn.extname=function(t){return cg(t)[3]};Pn.format=function(t){if(!bo.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var n=t.root||"";if(!bo.isString(n))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var e=t.dir,i=t.base||"";return e?e[e.length-1]===Pn.sep?e+i:e+Pn.sep+i:i};Pn.parse=function(t){if(!bo.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var n=cg(t);if(!n||n.length!==4)throw new TypeError("Invalid path '"+t+"'");return{root:n[0],dir:n[0]+n[1].slice(0,-1),base:n[2],ext:n[3],name:n[2].slice(0,n[2].length-n[3].length)}};Pn.sep="\\";Pn.delimiter=";";var c$=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,$n={};function dg(t){return c$.exec(t).slice(1)}$n.resolve=function(){for(var t="",n=!1,e=arguments.length-1;e>=-1&&!n;e--){var i=e>=0?arguments[e]:process.cwd();if(bo.isString(i)){if(!i)continue}else throw new TypeError("Arguments to path.resolve must be strings");t=i+"/"+t,n=i[0]==="/"}return t=lg(t.split("/"),!n).join("/"),(n?"/":"")+t||"."};$n.normalize=function(t){var n=$n.isAbsolute(t),e=t&&t[t.length-1]==="/";return t=lg(t.split("/"),!n).join("/"),!t&&!n&&(t="."),t&&e&&(t+="/"),(n?"/":"")+t};$n.isAbsolute=function(t){return t.charAt(0)==="/"};$n.join=function(){for(var t="",n=0;n<arguments.length;n++){var e=arguments[n];if(!bo.isString(e))throw new TypeError("Arguments to path.join must be strings");e&&(t?t+="/"+e:t+=e)}return $n.normalize(t)};$n.relative=function(t,n){t=$n.resolve(t).substr(1),n=$n.resolve(n).substr(1);for(var e=Gh(t.split("/")),i=Gh(n.split("/")),r=Math.min(e.length,i.length),o=r,a=0;a<r;a++)if(e[a]!==i[a]){o=a;break}for(var s=[],a=o;a<e.length;a++)s.push("..");return s=s.concat(i.slice(o)),s.join("/")};$n._makeLong=function(t){return t};$n.dirname=function(t){var n=dg(t),e=n[0],i=n[1];return!e&&!i?".":(i&&(i=i.substr(0,i.length-1)),e+i)};$n.basename=function(t,n){var e=dg(t)[2];return n&&e.substr(-1*n.length)===n&&(e=e.substr(0,e.length-n.length)),e};$n.extname=function(t){return dg(t)[3]};$n.format=function(t){if(!bo.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var n=t.root||"";if(!bo.isString(n))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var e=t.dir?t.dir+$n.sep:"",i=t.base||"";return e+i};$n.parse=function(t){if(!bo.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var n=dg(t);if(!n||n.length!==4)throw new TypeError("Invalid path '"+t+"'");return n[1]=n[1]||"",n[2]=n[2]||"",n[3]=n[3]||"",{root:n[0],dir:n[0]+n[1].slice(0,-1),base:n[2],ext:n[3],name:n[2].slice(0,n[2].length-n[3].length)}};$n.sep="/";$n.delimiter=":";s$?Yh.exports=Pn:Yh.exports=$n;Yh.exports.posix=$n;Yh.exports.win32=Pn});var qA=P(nx=>{Object.defineProperty(nx,"__esModule",{value:!0});var _d=Wh(),d$=Q0(),HA=IA();function u$(t,n){return A$(k$(t),n)}nx.format=u$;var ex=new Map,JC={"c|logger":h$,"d|date":f$,"ex|exception|throwable":p$,"F|file":m$,"K|map|MAP":_$,"L|line":g$,column:v$,"m|msg|message":b$,"M|method":C$,marker:y$,markerSimpleName:w$,n:x$,"p|level":D$,"r|relative":E$,"sn|sequenceNumber":S$};function h$(t){return t.logger}function f$(t,n){return HA.formatDate(t.date,HA.DateTimeFormat[n[0]]||n[0])}function p$(t){var n="";if(t.error!=null)if(t.error.stack){var e=t.error.stack.split(/\n/g);n+=e.reduce(function(i,r){return i+("	"+r+`
`)})}else t.error.message!=null&&t.error.message!==""&&(n+="	"+t.error.name+": "+t.error.message+`
`);return n}function m$(t){return t.file||tx(t),t.file}function g$(t){return t.lineNumber||tx(t),""+t.lineNumber}function v$(t){return t.column||tx(t),""+t.column}function _$(t,n){var e=null;if(t.properties){e=[];for(var i in t.properties)n[0]?n[0]===i&&e.push(t.properties[i]):e.push("{"+i+","+t.properties[i]+"}");return"{"+e.join(",")+"}"}return e}function b$(t){return t.message}function UA(t){if(t.hasParents()){var n=t.getParents().map(function(e){return UA(e)});return t.name+"[ "+n+" ]"}else return""+t.name}function y$(t){return t.marker?UA(t.marker):""}function w$(t){return t.marker?t.marker.name:""}function C$(t){return d$.getFunctionName(t.method)}function x$(){return`
`}function D$(t){switch(t.level){case _d.LogLevel.FATAL:return"FATAL";case _d.LogLevel.ERROR:return"ERROR";case _d.LogLevel.WARN:return"WARN";case _d.LogLevel.INFO:return"INFO";case _d.LogLevel.DEBUG:return"DEBUG";case _d.LogLevel.TRACE:default:return"TRACE"}}function E$(t){return""+t.relative}function S$(t){return""+t.sequence}function k$(t){return ex.has(t)?ex.get(t):M$(t)}function M$(t){var n=t.match(/(%\w+({[\w-]+}|)|.)/g).map(function(e){return T$(e)});return ex.set(t,n),n}function T$(t){var n=/%(\w+)(?:{([\w-]+)})*/g.exec(t);if(n==null)return t;if(n.length<3)return{formatter:zA(n[1]),params:[]};var e=zA(n[1]);if(!e)return null;var i=I$(n[2]);return{formatter:e,params:i}}function zA(t){var n;for(var e in JC)if(JC.hasOwnProperty(e)&&(n=new RegExp("^("+e+")$"),n.exec(t)))return JC[e];return null}function I$(t){return t?t.split(","):[]}function A$(t,n){for(var e,i="",r=t.length,o=0;o<r;o++)t[o]!==null&&(t[o]instanceof Object?(e=t[o].formatter(n,t[o].params),e!=null&&(i+=e)):i+=t[o]);return i.trim()}function tx(t){if(t.logErrorStack){var n=t.logErrorStack.stack.split(/\n/g),e=n[3];e=e.replace(/at (.*\(|)(file|http|https|)(:|)(\/|)*/,""),e=e.replace(")",""),e=e.replace(typeof location<"u"?location.host:"","").trim();var i=e.split(/:/g);if(t.column=i.pop(),t.lineNumber=i.pop(),typeof define<"u"){var r=jA(),o=r.dirname(U2.main.filename);(!i[0]||!i[0].startsWith(o))&&(o=""),t.filename=i.join(":").replace(o,"").replace(/^([\\\/])/,"")}else t.filename=i.join(":")}else t.column="?",t.filename="anonymous",t.lineNumber="?";t.file=t.filename}});var ug=P(ix=>{Object.defineProperty(ix,"__esModule",{value:!0});var R$=qA(),O$=(function(){function t(n){}return t.prototype.isActive=function(){return this.active===!0},t.prototype.append=function(n){},t.prototype.getLogLevel=function(){return this.logLevel},t.prototype.setLogLevel=function(n){this.logLevel=n},t.prototype.setLayout=function(n){this.layout=n},t.prototype.getLayout=function(){return this.layout},t.prototype.format=function(n){return R$.format(this.getLayout(),n)},t})();ix.LogAppender=O$});var fg=P(yo=>{Object.defineProperty(yo,"__esModule",{value:!0});var N$=Q0(),$A=MA(),F$=ug(),Bl=new Set;Bl.add("append");Bl.add("isActive");Bl.add("setLogLevel");Bl.add("setLayout");Bl.add("getLayout");Bl.add("format");var Qh=new Map,hg=new Map,P$=function(t){t instanceof F$.LogAppender&&Bl.forEach(function(n){if(!t.prototype[n]||!(t.prototype[n]instanceof Function))throw new Error("Invalid appender: missing/invalid method: "+n)})};yo.getAppenderName=function(t){return t.name||N$.getFunctionName(t)};yo.addAppender=function(t,n){P$(t);var e=n||yo.getAppenderName(t);return Qh.has(e)||Qh.set(e,t),t};yo.registerAppender=function(t){var n=yo.getAppenderName(t);return Qh.has(n)&&yo.addAppender(t),Qh.set(n,t),t};yo.getAppender=function(t){return Qh.get(t)};yo.getLoggerAppenderInstances=function(t){if(t&&t.length>0)return t.map(function(e){if(hg.has(e)){var i=hg.get(e);return new $A.AppenderWrapper(i.appender,i)}throw new Error("Invalid appender reference '"+e+"'")});var n=[];return hg.forEach(function(e){return n.push(new $A.AppenderWrapper(e.appender,e))}),n};yo.setLoggerAppenderConfig=function(t,n){hg.set(t,n)}});var ox=P(rx=>{Object.defineProperty(rx,"__esModule",{value:!0});var L$=fg();function B$(t){return function(n){return L$.addAppender(n,t),n}}rx.Appender=B$});var ax=P(pg=>{Object.defineProperty(pg,"__esModule",{value:!0});var Mt,WA=!0;pg.useVirtualConsole=function(t){WA=t};pg.getVirtualConsole=function(t){if(!WA)return console;var n=(function(){function e(){this.isVirtual=!0,this.memory={}}return e.prototype.assert=function(i,r){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];Mt.assert.call(arguments)},e.prototype.clear=function(){Mt.clear()},e.prototype.count=function(i){Mt.count(i)},e.prototype.dir=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];Mt.dir.apply(Mt,[i].concat(r))},e.prototype.dirxml=function(i){Mt.dirxml(i)},e.prototype.group=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];Mt.group.apply(Mt,[i].concat(r))},e.prototype.groupCollapsed=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];Mt.groupCollapsed.apply(Mt,[i].concat(r))},e.prototype.groupEnd=function(){Mt.groupEnd()},e.prototype.markTimeline=function(i){typeof Mt.markTimeline=="function"&&Mt.markTimeline(i)},e.prototype.msIsIndependentlyComposed=function(i){if(typeof Mt.msIsIndependentlyComposed=="function")return Mt.msIsIndependentlyComposed(i)},e.prototype.profile=function(i){typeof Mt.profile=="function"&&Mt.profile(i)},e.prototype.profileEnd=function(){typeof Mt.profileEnd=="function"&&Mt.profileEnd()},e.prototype.table=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];Mt.table.apply(Mt,i)},e.prototype.time=function(i){Mt.time(i)},e.prototype.timeEnd=function(i){typeof Mt.timeEnd=="function"&&Mt.timeEnd(i)},e.prototype.timeStamp=function(i){typeof Mt.timeStamp=="function"&&Mt.timeStamp(i)},e.prototype.timeline=function(i){typeof Mt.timeline=="function"&&Mt.timeline(i)},e.prototype.timelineEnd=function(i){typeof Mt.timelineEnd=="function"&&Mt.timelineEnd(i)},e.prototype.debug=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.debug.apply(t,[i].concat(r))},e.prototype.error=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.error.apply(t,[i].concat(r))},e.prototype.exception=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.error.apply(t,[i].concat(r))},e.prototype.info=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.info.apply(t,[i].concat(r))},e.prototype.log=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.debug.apply(t,[i].concat(r))},e.prototype.trace=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.trace.apply(t,[i].concat(r))},e.prototype.warn=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.warn.apply(t,[i].concat(r))},e.prototype.countReset=function(i){Mt.countReset(i)},e.prototype.timeLog=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];Mt.timeLog.apply(Mt,[i].concat(r))},e})();return Mt||(Mt=console,console=new n),Mt}});var sx=P(Vl=>{var V$=Vl&&Vl.__extends||(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},t(n,e)};return function(n,e){t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),j$=Vl&&Vl.__decorate||function(t,n,e,i){var r=arguments.length,o=r<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(n,e,o):a(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o};Object.defineProperty(Vl,"__esModule",{value:!0});var bd=Wh(),H$=ox(),Kh=ax(),z$=ug(),U$=(function(t){V$(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.append=function(e){e.level<=this.getLogLevel()&&this._appendToConsole(e)},n.prototype._appendToConsole=function(e){var i=this.format(e);switch(e.level){case bd.LogLevel.FATAL:case bd.LogLevel.ERROR:{e.error?Kh.getVirtualConsole().error(i,e.error):Kh.getVirtualConsole().error(i);break}case bd.LogLevel.WARN:{Kh.getVirtualConsole().warn(i);break}case bd.LogLevel.INFO:{Kh.getVirtualConsole().info(i);break}case bd.LogLevel.DEBUG:case bd.LogLevel.TRACE:{Kh.getVirtualConsole().debug(i);break}default:break}},n=j$([H$.Appender("Console")],n),n})(z$.LogAppender);Vl.ConsoleAppender=U$});var cx=P(lx=>{Object.defineProperty(lx,"__esModule",{value:!0});var q$=(function(){function t(n){this._parents=new Set,this._name=n}return t.getMarker=function(n){return t._markers.hasOwnProperty(n)||(t._markers[n]=new t(n)),t._markers[n]},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.getParents=function(){var n=[];return this._parents.forEach(function(e){return n.push(e)}),n},t.prototype.hasParents=function(){return this._parents.size>0},t.prototype.remove=function(n){return this._parents.delete(n),this},t.prototype.setParents=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var i=n.length;i--;)this._parents.add(n[i]);return this},t._markers={},t})();lx.Marker=q$});var mg=P(dx=>{Object.defineProperty(dx,"__esModule",{value:!0});var yd=Ll(),$$=cx(),W$=(function(){function t(n,e){this._appenders=e,this._logContext=n,this._logSequence=0,this._relative=new Date().getTime()}return t.prototype.log=function(n,e){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=arguments;this._appenders.forEach(function(s){return s.append(i._constructLogEvent(n,a,1))})},t.prototype.fatal=function(n){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=arguments;this._appenders.forEach(function(a){return a.append(e._constructLogEvent(yd.LogLevel.FATAL,o))})},t.prototype.error=function(n){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=arguments;this._appenders.forEach(function(a){return a.append(e._constructLogEvent(yd.LogLevel.ERROR,o))})},t.prototype.warn=function(n){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=arguments;this._appenders.forEach(function(a){return a.append(e._constructLogEvent(yd.LogLevel.WARN,o))})},t.prototype.info=function(n){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=arguments;this._appenders.forEach(function(a){return a.append(e._constructLogEvent(yd.LogLevel.INFO,o))})},t.prototype.debug=function(n){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=arguments;this._appenders.forEach(function(a){return a.append(e._constructLogEvent(yd.LogLevel.DEBUG,o))})},t.prototype.trace=function(n){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=arguments;this._appenders.forEach(function(a){return a.append(e._constructLogEvent(yd.LogLevel.TRACE,o))})},t.prototype._constructLogEvent=function(n,e,i){i===void 0&&(i=0);var r=new Date,o=null;try{throw new Error}catch(c){o=c}for(var a={date:r,error:null,logErrorStack:o,file:null,level:n,lineNumber:null,logger:this._logContext,message:"",method:this._isNotStrict()?e.callee.caller:0,properties:void 0,relative:r.getTime()-this._relative,sequence:this._logSequence++},s=/\{\}/g,l=i;l<e.length;l++)l===i||l===i+1&&a.marker?e[l]instanceof $$.Marker?a.marker=e[l]:a.message=e[l]:s.exec(a.message)?a.message=a.message.replace(/\{\}/,e[l]):e[l]instanceof Error?a.error=e[l]:a.properties=e[l];return a},t.prototype._isNotStrict=function(){var n=this;return(function(){return!n})()},t})();dx.Logger=W$});var GA=P(Xh=>{Object.defineProperty(Xh,"__esModule",{value:!0});var G$=fg(),Y$=mg();Xh.MAIN_LOGGER="main";var ux=new Map;Xh.addLogger=function(t,n){ux.set(t,n)};Xh.getLogger=function(t,n){if(ux.has(t))return ux.get(t);var e=G$.getLoggerAppenderInstances(n.appenders).map(function(i){return i.appender.setLogLevel(n.level),i.appender.setLayout(n.layout),i});return new Y$.Logger(t,e)}});var JA=P(wd=>{var Zh=wd&&wd.__assign||function(){return Zh=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)};Object.defineProperty(wd,"__esModule",{value:!0});var ja=fg(),Q$=sx(),hx=Wh(),br=GA(),YA=mg(),gg=Q0(),QA=ax(),XA=(function(){return[Q$.ConsoleAppender]})(),fx="%d [%p] %c - %m",K$=(function(){return{appenders:XA,loggers:[{level:hx.LogLevel.ERROR}],layout:"%d [%p] %c - %m"}})(),mx=null,KA=function(t){var n=[];return ja.getLoggerAppenderInstances(t.appenders).forEach(function(e){e.appender.setLogLevel(t.level),e.appender.setLayout(t.layout),n.push(e)}),n},X$=function(t){var n=t.loggers,e=!1;if(gg.isArray(n)?n.forEach(function(r){r.tag=r.tag||br.MAIN_LOGGER,e=e||r.tag===br.MAIN_LOGGER,(!r.layout||typeof r.layout!="string")&&(r.layout=t.layout),r.layout=r.layout||fx,r.level=r.level||t.level||hx.LogLevel.ERROR,br.addLogger(r.tag,new YA.Logger(r.tag,KA(r)))}):n=[],!e){var i={tag:br.MAIN_LOGGER,level:t.level||hx.LogLevel.ERROR,layout:t.layout||fx};n.push(i),br.addLogger(br.MAIN_LOGGER,new YA.Logger(br.MAIN_LOGGER,KA(i)))}return Zh({},t,{loggers:n})},Z$=function(t){var n=t.appenders;gg.isArray(n)||(n=XA);var e=n.map(function(i){var r,o;if(typeof i=="string")r=ja.getAppender(i),o={name:ja.getAppenderName(r),appender:r};else if(i.appender)typeof i.appender=="string"?r=ja.getAppender(i.appender):r=ja.registerAppender(i.appender),o=Zh({},i,{name:i.name||ja.getAppenderName(r),appender:r});else if(i.prototype.append)r=ja.registerAppender(i),o={name:ja.getAppenderName(r),appender:r};else throw new Error("Invalid appender: '"+i+"'");return ja.setLoggerAppenderConfig(o.name,o),o});return Zh({},t,{appenders:e})};function ZA(t){t.layout||(t.layout=fx),t=Z$(t),t=X$(t),mx=t,t.virtualConsole!==!1?QA.getVirtualConsole(br.getLogger(br.MAIN_LOGGER,px(br.MAIN_LOGGER))):QA.useVirtualConsole(!1)}wd.configure=ZA;wd.getLogger=function(t){mx||ZA(K$);var n=J$(t),e=px(n)||px(br.MAIN_LOGGER);return br.getLogger(n,e)};function px(t){return mx.loggers.filter(function(n){return n.tag===t})[0]}function J$(t){return typeof t=="string"?t:typeof t=="function"?gg.getFunctionName(t):typeof t=="object"?(t=gg.getFunctionName(t.constructor),t==="Object"?"anonymous":t):br.MAIN_LOGGER}});var vg=P(gx=>{Object.defineProperty(gx,"__esModule",{value:!0});var eW=jC();function tW(t){return function(n){return eW.addFilter(n,t),n}}gx.Filter=tW});var t3=P(_g=>{Object.defineProperty(_g,"__esModule",{value:!0});var nW=Ll();BC();var e3=Symbol("logMarker");function iW(t){return function(n,e){Reflect.defineMetadata(e3,t,n,e)}}_g.LogMarker=iW;function rW(t,n){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return function(r,o,a){var s=a.value;return a.value=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var u=Reflect.getOwnMetadata(e3,r,o),d=nW.getLogger(r);return u?d.log.apply(d,[t,u,n].concat(e)):d.log.apply(d,[t,n].concat(e)),s.call(this,l)},a}}_g.Log=rW});var bg=P(vx=>{Object.defineProperty(vx,"__esModule",{value:!0});var oW=(function(){function t(n){this.configuration=n}return t})();vx.LogFilter=oW});var n3=P(jl=>{var aW=jl&&jl.__extends||(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},t(n,e)};return function(n,e){t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),sW=jl&&jl.__decorate||function(t,n,e,i){var r=arguments.length,o=r<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(n,e,o):a(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o};Object.defineProperty(jl,"__esModule",{value:!0});var lW=vg(),cW=bg(),dW=(function(t){aW(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.isMatch=function(e){return e.marker?e.marker.name===this.configuration.marker||this._isParentMarkerMatch(e.marker):!1},n.prototype._isParentMarkerMatch=function(e){var i=this;return e.hasParents()?e.getParents().every(function(r){return r.name===i.configuration.marker||i._isParentMarkerMatch(r)}):!1},n=sW([lW.Filter("Marker")],n),n})(cW.LogFilter);jl.MarkerFilter=dW});var i3=P(Hl=>{var uW=Hl&&Hl.__extends||(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},t(n,e)};return function(n,e){t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),hW=Hl&&Hl.__decorate||function(t,n,e,i){var r=arguments.length,o=r<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(n,e,o):a(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o};Object.defineProperty(Hl,"__esModule",{value:!0});var fW=vg(),pW=bg(),mW=(function(t){uW(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.isMatch=function(e){return e.level<=this.configuration.level},n=hW([fW.Filter("Threshold")],n),n})(pW.LogFilter);Hl.ThresholdFilter=mW});var Ll=P(hi=>{function gW(t){for(var n in t)hi.hasOwnProperty(n)||(hi[n]=t[n])}Object.defineProperty(hi,"__esModule",{value:!0});BC();gW(JA());var vW=mg();hi.Logger=vW.Logger;var _W=Wh();hi.LogLevel=_W.LogLevel;var bW=ug();hi.LogAppender=bW.LogAppender;var yW=sx();hi.ConsoleAppender=yW.ConsoleAppender;var wW=cx();hi.Marker=wW.Marker;var CW=ox();hi.Appender=CW.Appender;var xW=vg();hi.Filter=xW.Filter;var r3=t3();hi.Log=r3.Log;hi.LogMarker=r3.LogMarker;var DW=HC();hi.LogFilterAction=DW.LogFilterAction;var EW=bg();hi.LogFilter=EW.LogFilter;var SW=n3();hi.MarkerFilter=SW.MarkerFilter;var kW=i3();hi.ThresholdFilter=kW.ThresholdFilter});var n4=P((Y9e,t4)=>{var _te="6.6.1";t4.exports=_te});var Z_=P((Q9e,i4)=>{var bte=function(t,n){var e=this;if(n||(n={}),e.qpm=n.qpm?parseInt(n.qpm,10):null,!e.qpm){var i=t.metaText?t.metaText.tempo:null;e.qpm=t.getBpm(i)}e.extraMeasuresAtBeginning=n.extraMeasuresAtBeginning?parseInt(n.extraMeasuresAtBeginning,10):0,e.beatCallback=n.beatCallback,e.eventCallback=n.eventCallback,e.lineEndCallback=n.lineEndCallback,e.lineEndAnticipation=n.lineEndAnticipation?parseInt(n.lineEndAnticipation,10):0,e.beatSubdivisions=n.beatSubdivisions?parseInt(n.beatSubdivisions,10):1,e.beatSubdivisions||(e.beatSubdivisions=1),e.joggerTimer=null,e.replaceTarget=function(o){if(e.noteTimings=o.setTiming(e.qpm,e.extraMeasuresAtBeginning),o.noteTimings.length===0&&(e.noteTimings=o.setTiming(0,0)),e.lineEndCallback&&(e.lineEndTimings=yte(o.noteTimings,e.lineEndAnticipation)),e.startTime=null,e.currentBeat=0,e.currentEvent=0,e.currentLine=0,e.currentTime=0,e.isPaused=!1,e.isRunning=!1,e.pausedPercent=null,e.justUnpaused=!1,e.newSeekPercent=0,e.lastTimestamp=0,e.noteTimings.length!==0){e.millisecondsPerBeat=1e3/(e.qpm/60)/e.beatSubdivisions,e.lastMoment=e.noteTimings[e.noteTimings.length-1].milliseconds;var a=o.getMeter(),s="";if(a&&a.type==="specified"&&a.value&&a.value.length>0&&a.value[0].num.indexOf("+")>0&&(s=a.value[0].num),e.beatStarts=[],s){for(var l=e.noteTimings[e.noteTimings.length-1].millisecondsPerMeasure,c=e.lastMoment/l,u=s.split("+"),d=0;d<u.length;d++)u[d]=parseInt(u[d],10)/2;for(var h=0,f=0,p=0;p<c;p++)for(var g=p*l,v=0,_=0;_<u.length;_++){var y=u[_];if(e.beatSubdivisions===1)e.beatSubdivisions===1&&h<e.lastMoment&&e.beatStarts.push({b:f,ts:h}),h+=y*e.millisecondsPerBeat;else for(var D=y*e.beatSubdivisions,b=0;b<Math.floor(D);b++){var C=b/D,k=Math.round(g+v*e.millisecondsPerBeat);k<e.lastMoment&&e.beatStarts.push({b:f+C,ts:k}),v++}f++}e.beatStarts.push({b:c*u.length,ts:e.lastMoment}),e.totalBeats=e.beatStarts.length}else{e.totalBeats=Math.round(e.lastMoment/e.millisecondsPerBeat);for(var O=0;O<e.totalBeats+1;O++)e.beatStarts.push({b:O/e.beatSubdivisions,ts:Math.round(O*e.millisecondsPerBeat)})}}},e.replaceTarget(t),e.doTiming=function(o){if(e.lastTimestamp!==o&&(e.lastTimestamp=o,!e.isPaused&&e.isRunning)){for(e.startTime||(e.startTime=o),e.currentTime=o-e.startTime,e.currentTime+=16;e.noteTimings.length>e.currentEvent&&e.noteTimings[e.currentEvent].milliseconds<e.currentTime;){if(e.eventCallback&&e.noteTimings[e.currentEvent].type==="event"){var a=e.startTime;e.eventCallback(e.noteTimings[e.currentEvent]),a!==e.startTime&&(e.currentTime=o-e.startTime)}e.currentEvent++}if(e.lineEndCallback&&e.lineEndTimings.length>e.currentLine&&e.lineEndTimings[e.currentLine].milliseconds<e.currentTime&&e.currentEvent<e.noteTimings.length){var s=e.noteTimings[e.currentEvent].milliseconds===e.currentTime?e.noteTimings[e.currentEvent]:e.noteTimings[e.currentEvent-1];e.lineEndCallback(e.lineEndTimings[e.currentLine],s,{line:e.currentLine,endTimings:e.lineEndTimings,currentTime:e.currentTime}),e.currentLine++}if(e.currentTime<e.lastMoment){if(requestAnimationFrame(e.doTiming),e.currentBeat<e.beatStarts.length&&e.beatStarts[e.currentBeat].ts<=e.currentTime){var l=e.doBeatCallback(o);e.currentBeat++,l!==null&&(e.currentTime=l)}}else if(e.currentBeat<=e.totalBeats&&e.beatCallback){var c=e.doBeatCallback(o);e.currentBeat++,c!==null&&(e.currentTime=c),requestAnimationFrame(e.doTiming)}if(e.currentTime>=e.lastMoment)if(e.eventCallback){var u=e.eventCallback(null);e.shouldStop(u).then(function(d){d&&e.stop()})}else e.stop()}},e.shouldStop=function(o){return new Promise(function(a){if(!o)return a(!0);if(o==="continue")return a(!1);o.then&&o.then(function(s){a(s!=="continue")})})},e.doBeatCallback=function(o){if(e.beatCallback){for(var a=e.currentEvent;a<e.noteTimings.length&&e.noteTimings[a].left===null;)a++;var s,l;if(a<e.noteTimings.length){for(s=e.noteTimings[a].milliseconds,a=Math.max(0,e.currentEvent-1);a>=0&&e.noteTimings[a].left===null;)a--;l=e.noteTimings[a]}var c={},u={};if(l){c.top=l.top,c.height=l.height;var d=Math.max(0,o-e.startTime-l.milliseconds),h=s-l.milliseconds,f=l.endX-l.left,p=h?d*f/h:0;c.left=l.left+p,e.currentEvent===0&&l.milliseconds>o-e.startTime&&(c.left=void 0),u={timestamp:o,startTime:e.startTime,ev:l,endMs:s,offMs:d,offPx:p,gapMs:h,gapPx:f}}else u={timestamp:o,startTime:e.startTime};var g=e.startTime;if(e.beatCallback(e.beatStarts[e.currentBeat].b,e.totalBeats/e.beatSubdivisions,e.lastMoment,c,u),g!==e.startTime)return o-e.startTime}return null};var r=60;e.animationJogger=function(){e.isRunning&&(e.doTiming(performance.now()),e.joggerTimer=setTimeout(e.animationJogger,r))},e.start=function(o,a){if(e.isRunning=!0,e.isPaused&&(e.isPaused=!1,o===void 0&&(e.justUnpaused=!0)),o)e.setProgress(o,a);else if(o===0)e.reset();else if(e.pausedPercent!==null){var s=performance.now();e.currentTime=e.lastMoment*e.pausedPercent,e.startTime=s-e.currentTime,e.pausedPercent=null,e.reportNext=!0}requestAnimationFrame(e.doTiming),e.joggerTimer=setTimeout(e.animationJogger,r)},e.pause=function(){e.isPaused=!0;var o=performance.now();e.pausedPercent=(o-e.startTime)/e.lastMoment,e.isRunning=!1,e.joggerTimer&&(clearTimeout(e.joggerTimer),e.joggerTimer=null)},e.currentMillisecond=function(){return e.currentTime},e.reset=function(){e.currentBeat=0,e.currentEvent=0,e.currentLine=0,e.startTime=null,e.pausedPercent=null},e.stop=function(){e.pause(),e.reset()},e.setProgress=function(o,a){var s;switch(a){case"seconds":e.currentTime=o*1e3,e.currentTime<0&&(e.currentTime=0),e.currentTime>e.lastMoment&&(e.currentTime=e.lastMoment),s=e.currentTime/e.lastMoment;break;case"beats":e.currentTime=o*e.millisecondsPerBeat*e.beatSubdivisions,e.currentTime<0&&(e.currentTime=0),e.currentTime>e.lastMoment&&(e.currentTime=e.lastMoment),s=e.currentTime/e.lastMoment;break;default:s=o,s<0&&(s=0),s>1&&(s=1),e.currentTime=e.lastMoment*s;break}e.isRunning||(e.pausedPercent=s);var l=performance.now();for(e.startTime=l-e.currentTime,e.currentEvent=0;e.noteTimings.length>e.currentEvent&&e.noteTimings[e.currentEvent].milliseconds<e.currentTime;)e.currentEvent++;if(e.lineEndCallback)for(e.currentLine=0;e.lineEndTimings.length>e.currentLine&&e.lineEndTimings[e.currentLine].milliseconds+e.lineEndAnticipation<e.currentTime;)e.currentLine++;var c=e.currentBeat;for(e.currentBeat=0;e.currentBeat<e.beatStarts.length&&!(e.beatStarts[e.currentBeat].ts>e.currentTime);e.currentBeat++);e.currentBeat--,e.beatCallback&&c!==e.currentBeat&&(e.doBeatCallback(e.startTime+e.currentTime),e.currentBeat++),e.eventCallback&&e.currentEvent>=0&&e.noteTimings[e.currentEvent].type==="event"&&e.eventCallback(e.noteTimings[e.currentEvent]),e.lineEndCallback&&e.lineEndCallback(e.lineEndTimings[e.currentLine],e.noteTimings[e.currentEvent],{line:e.currentLine,endTimings:e.lineEndTimings}),e.joggerTimer=setTimeout(e.animationJogger,r)}};function yte(t,n){for(var e=[],i=null,r=0;r<t.length;r++){var o=t[r];o.type!=="end"&&o.top!==i&&(e.push({measureNumber:o.measureNumber,milliseconds:o.milliseconds-n,top:o.top,bottom:o.top+o.height}),i=o.top)}return e}i4.exports=bte});var o4=P((K9e,r4)=>{var wte=Z_(),J_={};(function(){"use strict";var t,n;J_.startAnimation=function(e,i,r){t&&(t.stop(),t=void 0),r.showCursor&&(n=e.querySelector(".abcjs-cursor"),n||(n=document.createElement("DIV"),n.className="abcjs-cursor cursor",n.style.position="absolute",e.appendChild(n),e.style.position="relative"));function o(h){for(var f=0;f<h.length;f++){var p=h[f];p.classList.contains("abcjs-bar")||(p.style.display="none")}}var a;function s(h){if(a){var f=e.querySelectorAll(a);o(f)}a=h}function l(h){var f=e.querySelectorAll(h);o(f)}function c(h){r.hideCurrentMeasure?l(h):r.hideFinishedMeasures&&s(h)}function u(h){return".abcjs-l"+h.line+".abcjs-m"+h.measureNumber}function d(h){if(h){if(h.measureStart){var f=u(h);f&&c(f)}n&&(n.style.left=h.left+"px",n.style.top=h.top+"px",n.style.width=h.width+"px",n.style.height=h.height+"px")}else t.stop(),t=void 0}t=new wte(i,{qpm:r.bpm,eventCallback:d}),t.start()},J_.pauseAnimation=function(e){t&&(e?t.pause():t.start())},J_.stopAnimation=function(){t&&(t.stop(),t=void 0)}})();r4.exports=J_});var Ao=P((X9e,a4)=>{var Ja={};Ja.cloneArray=function(t){for(var n=[],e=0;e<t.length;e++)n.push(Object.assign({},t[e]));return n};Ja.cloneHashOfHash=function(t){var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=Object.assign({},t[e]));return n};Ja.cloneHashOfArrayOfHash=function(t){var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=Ja.cloneArray(t[e]));return n};Ja.strip=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")};Ja.startsWith=function(t,n){return t.indexOf(n)===0};Ja.endsWith=function(t,n){var e=t.length-n.length;return e>=0&&t.lastIndexOf(n)===e};Ja.last=function(t){return t.length===0?null:t[t.length-1]};a4.exports=Ja});var eb=P((Z9e,l4)=>{var s4=Ao(),_c={};(function(){"use strict";var t,n,e,i,r;_c.initialize=function(w,T,R,N,J){t=w,n=T,e=R,i=N,r=J,o()};function o(){e.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},e.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},e.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},e.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},e.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},e.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},e.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},e.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},e.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},e.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},e.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},i.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},i.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},i.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},i.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},i.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},i.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},i.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},i.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},i.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},i.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},i.formatting.annotationfont=e.annotationfont,i.formatting.gchordfont=e.gchordfont,i.formatting.historyfont=e.historyfont,i.formatting.infofont=e.infofont,i.formatting.measurefont=e.measurefont,i.formatting.partsfont=e.partsfont,i.formatting.repeatfont=e.repeatfont,i.formatting.textfont=e.textfont,i.formatting.tripletfont=e.tripletfont,i.formatting.vocalfont=e.vocalfont,i.formatting.wordsfont=e.wordsfont}var a={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},s=function(w){switch(w){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},l=function(w,T,R,N,J){function Ve(){var lr=parseInt(w[0].token);return w.shift(),T?w.length===0?{face:T.face,weight:T.weight,style:T.style,decoration:T.decoration,size:lr}:w.length===1&&w[0].token==="box"&&a[J]?{face:T.face,weight:T.weight,style:T.style,decoration:T.decoration,size:lr,box:!0}:(n("Extra parameters in font definition.",R,N),{face:T.face,weight:T.weight,style:T.style,decoration:T.decoration,size:lr}):(n("Can't set just the size of the font since there is no default value.",R,N),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:lr})}if(w[0].token==="*"){if(w.shift(),w[0].type==="number")return Ve();n("Expected font size number after *.",R,N)}if(w[0].type==="number")return Ve();for(var Te=[],Ae,yi="normal",Ii="normal",jt="none",sn=!1,St="face",ke=!1;w.length;){var Ht=w.shift(),dt=Ht.token.toLowerCase();switch(St){case"face":ke||dt!=="utf"&&Ht.type!=="number"&&dt!=="bold"&&dt!=="italic"&&dt!=="underline"&&dt!=="box"?Te.length>0&&Ht.token==="-"?(ke=!0,Te[Te.length-1]=Te[Te.length-1]+Ht.token):ke?(ke=!1,Te[Te.length-1]=Te[Te.length-1]+Ht.token):Te.push(Ht.token):Ht.type==="number"?(Ae?n("Font size specified twice in font definition.",R,N):Ae=Ht.token,St="modifier"):dt==="bold"?yi="bold":dt==="italic"?Ii="italic":dt==="underline"?jt="underline":dt==="box"?(a[J]?sn=!0:n(`This font style doesn't support "box"`,R,N),St="finished"):dt==="utf"?(Ht=w.shift(),St="size"):n("Unknown parameter "+Ht.token+" in font definition.",R,N);break;case"size":Ht.type==="number"?Ae?n("Font size specified twice in font definition.",R,N):Ae=Ht.token:n("Expected font size in font definition.",R,N),St="modifier";break;case"modifier":dt==="bold"?yi="bold":dt==="italic"?Ii="italic":dt==="underline"?jt="underline":dt==="box"?(a[J]?sn=!0:n(`This font style doesn't support "box"`,R,N),St="finished"):n("Unknown parameter "+Ht.token+" in font definition.",R,N);break;case"finished":n('Extra characters found after "box" in font definition.',R,N);break}}Ae===void 0?T?Ae=T.size:(n("Must specify the size of the font since there is no default value.",R,N),Ae=12):Ae=parseFloat(Ae),Te=Te.join(" "),Te===""&&(T?Te=T.face:(n("Must specify the name of the font since there is no default value.",R,N),Te="sans-serif"));var Tt=s(Te),Jt={};return Tt?(Jt.face=Tt.face,Jt.weight=Tt.weight,Jt.style=Tt.style,Jt.decoration=Tt.decoration,Jt.size=Ae,sn&&(Jt.box=!0),Jt):(Jt.face=Te,Jt.weight=yi,Jt.style=Ii,Jt.decoration=jt,Jt.size=Ae,sn&&(Jt.box=!0),Jt)},c=function(w,T,R){return T.length===0?'Directive "'+w+'" requires a font as a parameter.':(e[w]=l(T,e[w],R,0,w),e.is_in_header&&(i.formatting[w]=e[w]),null)},u=function(w,T,R){return T.length===0?'Directive "'+w+'" requires a font as a parameter.':(i.formatting[w]=l(T,i.formatting[w],R,0,w),null)},d=function(w,T){var R="";T.forEach(function(J){R+=J.token});var N=parseFloat(R);if(isNaN(N)||N===0)return'Directive "'+w+'" requires a number as a parameter.';i.formatting.scale=N},h=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],f=function(w){var T=w.split(/\s+/);if(T.length!==2&&T.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var R=T[0],N=parseInt(T[1],10);if((isNaN(N)||N<35||N>81)&&T[1]&&(N=h.indexOf(T[1].toLowerCase())+35),isNaN(N)||N<35||N>81)return{error:'Expected drum name, received "'+T[1]+'"'};var J={sound:N};return T.length===3&&(J.noteHead=T[2]),{key:R,value:J}},p=function(w,T){var R=t.getMeasurement(T);return R.used===0||T.length!==0?{error:'Directive "'+w+'" requires a measurement as a parameter.'}:R.value},g=function(w,T){var R=t.getMeasurement(T);return R.used===0||T.length!==0?'Directive "'+w+'" requires a measurement as a parameter.':(i.formatting[w]=R.value,null)},v=function(w,T,R,N,J){if(R.length!==1||R[0].type!=="number")return'Directive "'+T+'" requires a number as a parameter.';var Ve=R[0].intt;return N!==void 0&&Ve<N?'Directive "'+T+'" requires a number greater than or equal to '+N+" as a parameter.":J!==void 0&&Ve>J?'Directive "'+T+'" requires a number less than or equal to '+J+" as a parameter.":(e[w]=Ve,null)},_=function(w,T,R){if(R.length===1&&(R[0].token==="true"||R[0].token==="false"))return e[w]=R[0].token==="true",null;var N=v(w,T,R,0,1);return N!==null?N:(e[w]=e[w]===1,null)},y=function(w,T,R,N){if(R.length!==1)return'Directive "'+T+'" requires one of [ '+N.join(", ")+" ] as a parameter.";for(var J=R[0].token,Ve=!1,Te=0;!Ve&&Te<N.length;Te++)N[Te]===J&&(Ve=!0);return Ve?(e[w]=J,null):'Directive "'+T+'" requires one of [ '+N.join(", ")+" ] as a parameter."},D=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],b=["gchord","ptstress","beatstring"],C=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],k=["program"],O=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],H=["beat"],F=["drone"],U=["portamento"],de=["expand","grace","trim"],X=["drum","chordname"],Z=["bassprog","chordprog"],me=function(w,T,R){var N=w.shift().token,J=[];if(D.indexOf(N)>=0)w.length!==0&&n("Unexpected parameter in MIDI "+N,R,0);else if(b.indexOf(N)>=0)w.length!==1?n("Expected one parameter in MIDI "+N,R,0):J.push(w[0].token);else if(C.indexOf(N)>=0)w.length!==1?n("Expected one parameter in MIDI "+N,R,0):w[0].type!=="number"?n("Expected one integer parameter in MIDI "+N,R,0):J.push(w[0].intt);else if(k.indexOf(N)>=0)w.length!==1&&w.length!==2?n("Expected one or two parameters in MIDI "+N,R,0):w[0].type!=="number"||w.length===2&&w[1].type!=="number"?n("Expected integer parameter in MIDI "+N,R,0):(J.push(w[0].intt),w.length===2&&J.push(w[1].intt));else if(O.indexOf(N)>=0)w.length!==2?n("Expected two parameters in MIDI "+N,R,0):w[0].type!=="number"||w[1].type!=="number"?n("Expected two integer parameters in MIDI "+N,R,0):(J.push(w[0].intt),J.push(w[1].intt));else if(U.indexOf(N)>=0)w.length!==2?n("Expected two parameters in MIDI "+N,R,0):w[0].type!=="alpha"||w[1].type!=="number"?n("Expected one string and one integer parameters in MIDI "+N,R,0):(J.push(w[0].token),J.push(w[1].intt));else if(N==="drummap")w.length===2&&w[0].type==="alpha"&&w[1].type==="number"?(T.formatting||(T.formatting={}),T.formatting.midi||(T.formatting.midi={}),T.formatting.midi.drummap||(T.formatting.midi.drummap={}),T.formatting.midi.drummap[w[0].token]=w[1].intt,J=T.formatting.midi.drummap):w.length===3&&w[0].type==="punct"&&w[1].type==="alpha"&&w[2].type==="number"?(T.formatting||(T.formatting={}),T.formatting.midi||(T.formatting.midi={}),T.formatting.midi.drummap||(T.formatting.midi.drummap={}),T.formatting.midi.drummap[w[0].token+w[1].token]=w[2].intt,J=T.formatting.midi.drummap):n("Expected one note name and one integer parameter in MIDI "+N,R,0);else if(de.indexOf(N)>=0)w.length!==3||w[0].type!=="number"||w[1].token!=="/"||w[2].type!=="number"?n("Expected fraction parameter in MIDI "+N,R,0):(J.push(w[0].intt),J.push(w[2].intt));else if(H.indexOf(N)>=0)w.length!==4?n("Expected four parameters in MIDI "+N,R,0):w[0].type!=="number"||w[1].type!=="number"||w[2].type!=="number"||w[3].type!=="number"?n("Expected four integer parameters in MIDI "+N,R,0):(J.push(w[0].intt),J.push(w[1].intt),J.push(w[2].intt),J.push(w[3].intt));else if(F.indexOf(N)>=0)w.length!==5?n("Expected five parameters in MIDI "+N,R,0):w[0].type!=="number"||w[1].type!=="number"||w[2].type!=="number"||w[3].type!=="number"||w[4].type!=="number"?n("Expected five integer parameters in MIDI "+N,R,0):(J.push(w[0].intt),J.push(w[1].intt),J.push(w[2].intt),J.push(w[3].intt),J.push(w[4].intt));else if(k.indexOf(N)>=0)w.length!==1||w.length!==4?n("Expected one or two parameters in MIDI "+N,R,0):w[0].type!=="number"?n("Expected integer parameter in MIDI "+N,R,0):w.length===4?(w[1].token!=="octave"&&n("Expected octave parameter in MIDI "+N,R,0),w[2].token!=="="&&n("Expected octave parameter in MIDI "+N,R,0),w[3].type!=="number"&&n("Expected integer parameter for octave in MIDI "+N,R,0)):(J.push(w[0].intt),w.length===4&&J.push(w[3].intt));else if(X.indexOf(N)>=0)if(w.length<2)n("Expected string parameter and at least one integer parameter in MIDI "+N,R,0);else if(w[0].type!=="alpha")n("Expected string parameter and at least one integer parameter in MIDI "+N,R,0);else{var Ve=w.shift();for(J.push(Ve.token);w.length>0;)Ve=w.shift(),Ve.type!=="number"&&n("Expected integer parameter in MIDI "+N,R,0),J.push(Ve.intt)}else if(Z.indexOf(N)>=0){if(w.length!==1&&w.length!==2)n("Expected one or two parameters in MIDI "+N,R,0);else if(w[0].type!=="number")n("Expected integer parameter in MIDI "+N,R,0);else if(w.length===2&&w[1].type!=="alpha")n("Expected alpha parameter in MIDI "+N,R,0);else if(J.push(w[0].intt),w.length===2){var Te=w[1].token;Te.indexOf("octave=")!=-1?(Te=Te.replace("octave=",""),Te=parseInt(Te),isNaN(Te)?n("Expected octave value in MIDI"+N):(Te<-1&&(n("Expected octave= in MIDI "+N+" to be >= -1 (recv:"+Te+")"),Te=-1),Te>3&&(n("Expected octave= in MIDI "+N+" to be <= 3 (recv:"+Te+")"),Te=3),J.push(Te))):n("Expected octave= in MIDI"+N)}}r.hasBeginMusic()?r.appendElement("midi",-1,-1,{cmd:N,params:J}):(T.formatting.midi===void 0&&(T.formatting.midi={}),T.formatting.midi[N]=J)};_c.parseFontChangeLine=function(w){w=w.replace(/\$\$/g,"");var T=w.split("$");if(T.length>1&&e.setfont){var R=[];T[0]!==""&&R.push({text:T[0]});for(var N=1;N<T.length;N++)if(T[N][0]==="0")R.push({text:T[N].substring(1).replace(/\x03/g,"$$")});else{var J=parseInt(T[N][0],10);e.setfont[J]?R.push({font:e.setfont[J],text:T[N].substring(1).replace(/\x03/g,"$$")}):R[R.length-1].text+="$"+T[N].replace(/\x03/g,"$$")}return R}return w.replace(/\x03/g,"$$")};var we=["auto","above","below","hidden"];_c.addDirective=function(w){var T=t.tokenize(w,0,w.length);if(T.length===0||T[0].type!=="alpha")return null;var R=w.substring(w.indexOf(T[0].token)+T[0].token.length);R=t.stripComment(R);var N=T.shift().token.toLowerCase(),J="",Ve;switch(N){case"bagpipes":i.formatting.bagpipes=!0;break;case"flatbeams":i.formatting.flatbeams=!0;break;case"jazzchords":i.formatting.jazzchords=!0;break;case"accentAbove":i.formatting.accentAbove=!0;break;case"germanAlphabet":i.formatting.germanAlphabet=!0;break;case"landscape":e.landscape=!0;break;case"papersize":e.papersize=R;break;case"graceslurs":if(T.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(T[0].token==="0"||T[0].token==="false")i.formatting.graceSlurs=!1;else if(T[0].token==="1"||T[0].token==="true")i.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+T[0].token+")";break;case"lineThickness":var Te=oe(T);if(Te.value!==void 0&&(i.formatting.lineThickness=Te.value),Te.error)return Te.error;break;case"stretchlast":var Ae=oe(T);if(Ae.value!==void 0&&(i.formatting.stretchlast=Ae.value),Ae.error)return Ae.error;break;case"titlecaps":e.titlecaps=!0;break;case"titleleft":i.formatting.titleleft=!0;break;case"measurebox":i.formatting.measurebox=!0;break;case"vocal":return y("vocalPosition",N,T,we);case"dynamic":return y("dynamicPosition",N,T,we);case"gchord":return y("chordPosition",N,T,we);case"ornament":return y("ornamentPosition",N,T,we);case"volume":return y("volumePosition",N,T,we);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return g(N,T);case"voicescale":if(T.length!==1||T[0].type!=="number")return"voicescale requires one float as a parameter";var yi=T.shift();return e.currentVoice&&(e.currentVoice.scale=yi.floatt,r.changeVoiceScale(e.currentVoice.scale)),null;case"voicecolor":if(T.length!==1)return"voicecolor requires one string as a parameter";var Ii=T.shift();return e.currentVoice&&(e.currentVoice.color=Ii.token,r.changeVoiceColor(e.currentVoice.color)),null;case"vskip":var jt=Math.round(p(N,T));return jt.error?jt.error:(r.addSpacing(jt),null);case"scale":d(N,T);break;case"sep":if(T.length===0)r.addSeparator(14,14,85,{startChar:e.iChar,endChar:e.iChar+5});else{var sn=t.getMeasurement(T);if(sn.used===0)return'Directive "'+N+'" requires 3 numbers: space above, space below, length of line';var St=sn.value;if(sn=t.getMeasurement(T),sn.used===0)return'Directive "'+N+'" requires 3 numbers: space above, space below, length of line';var ke=sn.value;if(sn=t.getMeasurement(T),sn.used===0||T.length!==0)return'Directive "'+N+'" requires 3 numbers: space above, space below, length of line';var Ht=sn.value;r.addSeparator(St,ke,Ht,{startChar:e.iChar,endChar:e.iChar+R.length})}break;case"barsperstaff":if(J=v("barsperstaff",N,T),J!==null)return J;break;case"staffnonote":if(T.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(T[0].token==="0")e.staffnonote=!0;else if(T[0].token==="1")e.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+T[0].token+")";break;case"printtempo":if(J=_("printTempo",N,T),J!==null)return J;break;case"partsbox":if(J=_("partsBox",N,T),J!==null)return J;e.partsfont.box=e.partsBox;break;case"freegchord":if(J=_("freegchord",N,T),J!==null)return J;break;case"measurenb":case"barnumbers":if(J=v("barNumbers",N,T),J!==null)return J;break;case"setbarnb":if(T.length!==1||T[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";e.currBarNumber=r.setBarNumberImmediate(T[0].intt);break;case"keywarn":if(T.length!==1||T[0].type!=="number"||T[0].intt!==1&&T[0].intt!==0)return"Directive "+N+" requires 0 or 1 as a parameter.";e[N]=T[0].intt===1;break;case"begintext":var dt="";for(Ve=t.nextLine();Ve&&Ve.indexOf("%%endtext")!==0;){if(s4.startsWith(Ve,"%%")){var Tt=Ve.substring(2);Tt=Tt.trim()+`
`,dt+=Tt}else dt+=Ve.trim()+`
`;Ve=t.nextLine()}r.addText(dt,{startChar:e.iChar,endChar:e.iChar+dt.length+7});break;case"continueall":e.continueall=!0;break;case"beginps":for(Ve=t.nextLine();Ve&&Ve.indexOf("%%endps")!==0;)t.nextLine();n("Postscript ignored",w,0);break;case"deco":R.length>0&&e.ignoredDecorations.push(R.substring(0,R.indexOf(" "))),n("Decoration redefinition ignored",w,0);break;case"text":var Jt=t.translateString(R);r.addText(_c.parseFontChangeLine(Jt),{startChar:e.iChar,endChar:e.iChar+R.length+7});break;case"center":var lr=t.translateString(R);r.addCentered(_c.parseFontChangeLine(lr));break;case"font":break;case"setfont":var Ai=t.tokenize(R,0,R.length);if(Ai.length>=4&&Ai[0].token==="-"&&Ai[1].type==="number"){var cr=parseInt(Ai[1].token);cr>=1&&cr<=9&&(e.setfont||(e.setfont=[]),Ai.shift(),Ai.shift(),e.setfont[cr]=l(Ai,e.setfont[cr],w,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return c(N,T,w);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return u(N,T,w);case"barlabelfont":case"barnumberfont":case"barnumfont":return c("measurefont",T,w);case"staves":case"score":e.score_is_present=!0;for(var dr=function(Gu,V7,V2,j2,j7){(V7||e.staves.length===0)&&e.staves.push({index:e.staves.length,numVoices:0});var us=s4.last(e.staves);V2!==void 0&&us.bracket===void 0&&(us.bracket=V2),j2!==void 0&&us.brace===void 0&&(us.brace=j2),j7&&(us.connectBarLines="end"),e.voices[Gu]===void 0&&(e.voices[Gu]={staffNum:us.index,index:us.numVoices},us.numVoices++)},ci=!1,ur=!1,In=!1,Fe=!1,zt=!1,S=!1,I=!1,V,B=function(){if(I=!0,V){var Gu="start";V.staffNum>0&&(e.staves[V.staffNum-1].connectBarLines==="start"||e.staves[V.staffNum-1].connectBarLines==="continue")&&(Gu="continue"),e.staves[V.staffNum].connectBarLines=Gu}};T.length;){var q=T.shift();switch(q.token){case"(":ci?n("Can't nest parenthesis in %%score",w,q.start):(ci=!0,Fe=!0);break;case")":!ci||Fe?n("Unexpected close parenthesis in %%score",w,q.start):ci=!1;break;case"[":ur?n("Can't nest brackets in %%score",w,q.start):(ur=!0,zt=!0);break;case"]":!ur||zt?n("Unexpected close bracket in %%score",w,q.start):(ur=!1,e.staves[V.staffNum].bracket="end");break;case"{":In?n("Can't nest braces in %%score",w,q.start):(In=!0,S=!0);break;case"}":!In||S?n("Unexpected close brace in %%score",w,q.start):(In=!1,e.staves[V.staffNum].brace="end");break;case"|":B();break;default:for(var Me="";(q.type==="alpha"||q.type==="number")&&(Me+=q.token,q.continueId);)q=T.shift();var fe=!ci||Fe,pe=zt?"start":ur?"continue":void 0,K=S?"start":In?"continue":void 0;dr(Me,fe,pe,K,I),Fe=!1,zt=!1,S=!1,I=!1,V=e.voices[Me],N==="staves"&&B();break}}break;case"maxstaves":var Se=t.getInt(R);Se.digits===0?n("Expected number of staves in maxstaves"):Se.value>0&&(i.formatting.maxStaves=Se.value);break;case"newpage":var Ue=t.getInt(R);r.addNewPage(Ue.digits===0?-1:Ue.value);break;case"abc":var Et=R.split(" ");switch(Et[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var ut=Et.shift();r.addMetaText(N+ut,Et.join(" "),{startChar:e.iChar,endChar:e.iChar+R.length+5});break;default:return"Unknown directive: "+N+Et[0]}break;case"header":case"footer":var ln=t.getMeat(R,0,R.length);ln=R.substring(ln.start,ln.end),ln[0]==='"'&&ln[ln.length-1]==='"'&&(ln=ln.substring(1,ln.length-1));var Hn=ln.split("	"),cn={};Hn.length===1?cn={left:"",center:Hn[0],right:""}:Hn.length===2?cn={left:Hn[0],center:Hn[1],right:""}:cn={left:Hn[0],center:Hn[1],right:Hn[2]},Hn.length>3&&n("Too many tabs in "+N+": "+Hn.length+" found.",R,0),r.addMetaTextObj(N,cn,{startChar:e.iChar,endChar:e.iChar+w.length});break;case"midi":var hr=t.tokenize(R,0,R.length,!0);hr.length>0&&hr[0].token==="="&&hr.shift(),hr.length===0?n("Expected midi command",R,0):me(hr,i,R);break;case"percmap":var zo=f(R);zo.error?n(zo.error,w,8):(i.formatting.percmap||(i.formatting.percmap={}),i.formatting.percmap[zo.key]=zo.value);break;case"visualtranspose":var ds=t.getInt(R);ds.digits===0?n("Expected number of half steps in visualTranspose"):e.globalTranspose=ds.value;break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":i.formatting[N]=R;break;default:return"Unknown directive: "+N}return null},_c.globalFormatting=function(w){for(var T in w)if(w.hasOwnProperty(T)){var R=""+w[T],N=t.tokenize(R,0,R.length),J;switch(T){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":c(T,N,R);break;case"scale":d(T,N);break;case"partsbox":J=_("partsBox",T,N),J!==null&&n(J),e.partsfont.box=e.partsBox;break;case"freegchord":J=_("freegchord",T,N),J!==null&&n(J);break;case"fontboxpadding":(N.length!==1||N[0].type!=="number")&&n('Directive "'+T+'" requires a number as a parameter.'),i.formatting.fontboxpadding=N[0].floatt;break;case"stafftopmargin":(N.length!==1||N[0].type!=="number")&&n('Directive "'+T+'" requires a number as a parameter.'),i.formatting.stafftopmargin=N[0].floatt;break;case"stretchlast":var Ve=oe(N);if(Ve.value!==void 0&&(i.formatting.stretchlast=Ve.value),Ve.error)return Ve.error;break;default:n("Formatting directive unrecognized: ",T,0)}}};function oe(w){if(w.length===0)return{value:1};if(w.length===1)if(w[0].type==="number"){if(w[0].floatt>=0||w[0].floatt<=1)return{value:w[0].floatt}}else{if(w[0].token==="false")return{value:0};if(w[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+w[0].token+")"}}})();l4.exports=_c});var u4=P((J9e,d4)=>{var dS={},c4=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];dS.pitchIndex=function(t){return c4.indexOf(t)};dS.noteName=function(t){return c4[t]};d4.exports=dS});var uS=P((eBe,h4)=>{var tb=["C","C\u266F","D","D\u266F","E","F","F\u266F","G","G\u266F","A","A\u266F","B"],nb=["C","D\u266D","D","E\u266D","E","F","G\u266D","G","A\u266D","A","B\u266D","B"],ib=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],rb=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function Cte(t,n,e,i){if(!n||n%12===0)return t;for(;n<0;)n+=12;n>11&&(n=n%12);var r=t.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!r)return t;var o=r[1],a=r[2],s=r[3],l=r[4],c=tb.indexOf(o);if(c<0&&(c=nb.indexOf(o)),c<0&&(c=ib.indexOf(o)),c<0&&(c=rb.indexOf(o)),c<0)return t;c+=n,c=c%12,e?i?t=rb[c]:t=nb[c]:i?t=ib[c]:t=tb[c];var u=a&&(a.indexOf("dim")>=0||a.indexOf("\xB0")>=0);if(u&&t==="A#"&&(t="Bb"),u&&t==="D#"&&(t="Eb"),u&&t==="A\u266F"&&(t="B\u266D"),u&&t==="D\u266F"&&(t="E\u266D"),a&&(t+=a),s){var c=tb.indexOf(s);c<0&&(c=nb.indexOf(s)),c<0&&(c=ib.indexOf(s)),c<0&&(c=rb.indexOf(s)),t+="/",c>=0?(c+=n,c=c%12,e?i?t+=rb[c]:t+=nb[c]:i?t+=ib[c]:t+=tb[c]):t+=s}return l&&(t+=l),t}h4.exports=Cte});var hS=P((tBe,f4)=>{var bc={C:{modes:["CMaj","CIon","Amin","AAeo","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","DbIon","Bbmin","BbAeo","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","DIon","Bmin","BAeo","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","EbIon","Cmin","CAeo","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","EIon","C#min","C#Aeo","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","FIon","Dmin","DAeo","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","GbIon","Ebmin","EbAeo","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","GIon","Emin","EAeo","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","AbIon","Fmin","FAeo","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","AIon","F#min","F#Aeo","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","BbIon","Gmin","GAeo","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","BIon","G#min","G#Aeo","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","C#Ion","A#min","A#Aeo","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","F#Ion","D#min","D#Aeo","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","CbIon","Abmin","AbAeo","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},xte=["maj","ion","min","aeo","m","mix","dor","phr","lyd","loc"];function Dte(t){return xte.indexOf(t.toLowerCase())>=0}var gp=null;function Ete(){gp={};for(var t=Object.keys(bc),n=0;n<t.length;n++){var e=bc[t[n]];gp[t[n].toLowerCase()]=t[n];for(var i=0;i<e.modes.length;i++){var r=e.modes[i].toLowerCase();gp[r]=t[n]}}}function Ste(t){gp||Ete();var n=t.toLowerCase().match(/([a-g][b#]?)(maj|ion|min|aeo|mix|dor|phr|lyd|loc|m)?/);if(!n||!n[2])return t;n=n[1]+n[2];var e=gp[n];return e||t}function kte(t,n){var e=bc[t];if(!e||n==="")return t;var i=n.toLowerCase().match(/^(maj|ion|min|aeo|mix|dor|phr|lyd|loc|m)/);if(!i)return t;for(var r=i[1],o=0;o<e.modes.length;o++){var a=e.modes[o],s=a.toLowerCase().indexOf(r);if(s!==-1&&s===a.length-r.length)return a.substring(0,a.length-r.length)}return t}function Mte(t,n){var e=bc[t];if(!e)return t;for(;n<0;)n+=12;for(var i=(e.stepsFromC+n)%12,r=0;r<Object.keys(bc).length;r++){var o=Object.keys(bc)[r];if(bc[o].stepsFromC===i)return o}return t}f4.exports={relativeMajor:Ste,relativeMode:kte,transposeKey:Mte,isLegalMode:Dte}});var mS=P((nBe,g4)=>{var{relativeMajor:Tte}=hS(),yc={acc:"sharp",note:"f"},Du={acc:"sharp",note:"c"},vp={acc:"sharp",note:"g"},ob={acc:"sharp",note:"d"},fS={acc:"sharp",note:"A"},p4={acc:"sharp",note:"e"},Ite={acc:"sharp",note:"B"},Qr={acc:"flat",note:"B"},fa={acc:"flat",note:"e"},Ks={acc:"flat",note:"A"},_p={acc:"flat",note:"d"},pS={acc:"flat",note:"G"},m4={acc:"flat",note:"c"},Ate={acc:"flat",note:"F"},Rte={"C#":[yc,Du,vp,ob,fS,p4,Ite],"F#":[yc,Du,vp,ob,fS,p4],B:[yc,Du,vp,ob,fS],E:[yc,Du,vp,ob],A:[yc,Du,vp],D:[yc,Du],G:[yc],C:[],F:[Qr],Bb:[Qr,fa],Eb:[Qr,fa,Ks],Cm:[Qr,fa,Ks],Ab:[Qr,fa,Ks,_p],Db:[Qr,fa,Ks,_p,pS],Gb:[Qr,fa,Ks,_p,pS,m4],Cb:[Qr,fa,Ks,_p,pS,m4,Ate],"A#":[Qr,fa],"B#":[],"D#":[Qr,fa,Ks],"E#":[Qr],"G#":[Qr,fa,Ks,_p],none:[]};function Ote(t){var n=Rte[Tte(t)];return n?JSON.parse(JSON.stringify(n)):null}g4.exports=Ote});var _S=P((iBe,b4)=>{var v4=u4(),Nte=uS(),gS=mS(),ab={},Fte={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Pte=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],Lte=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];ab.keySignature=function(t,n,e,i,r){if(t.clef.type==="perc"||t.clef.type==="none")return{accidentals:gS(n),root:e,acc:i};r||(r=0),t.localTransposeVerticalMovement=0,t.localTransposePreferFlats=!1;var o=gS(n);if(!o)return t.key;if(t.localTranspose=(t.globalTranspose?t.globalTranspose:0)+r,!t.localTranspose)return{accidentals:o,root:e,acc:i};if(t.globalTransposeOrigKeySig=o,t.localTranspose%12===0)return t.localTransposeVerticalMovement=t.localTranspose/12*7,{accidentals:o,root:e,acc:i};var a=n[0];n[1]==="b"||n[1]==="#"?(a+=n[1],n=n.substr(2)):n=n.substr(1);var s=Fte[a],l=s!==void 0;l||(s=0,a="C",n="");for(var c=s+t.localTranspose;c<0;)c+=12;c>11&&(c=c%12);var u=n[0]==="m"?Lte[c]:Pte[c],d=u+n,h=gS(d);(h.length===0||h[0].acc==="flat")&&(t.localTransposePreferFlats=!0);var f=d.charCodeAt(0)-a.charCodeAt(0);return t.localTranspose>0?(f<0||f===0&&(a[1]==="#"||d[1]==="b"))&&(f+=7):t.localTranspose<0&&(f>0||f===0&&(a[1]==="b"||d[1]==="#"))&&(f-=7),t.localTranspose>0?t.localTransposeVerticalMovement=f+Math.floor(t.localTranspose/12)*7:t.localTransposeVerticalMovement=f+Math.ceil(t.localTranspose/12)*7,l?{accidentals:h,root:u[0],acc:u.length>1?u[1]:""}:{accidentals:[],root:e,acc:i}};ab.chordName=function(t,n){return Nte(n,t.localTranspose,t.localTransposePreferFlats,t.freegchord)};var _4=["c","d","e","f","g","a","b"];function Bte(t,n,e,i,r){for(var o=_4[(t+49)%7],a=0,s=0;s<i.length;s++)i[s].note.toLowerCase()===o&&(a=vS[i[s].acc]);for(var l=vS[e],c=l-a,u=_4[(n+49)%7],d=0,h=0;h<r.accidentals.length;h++)r.accidentals[h].note.toLowerCase()===u&&(d=vS[r.accidentals[h].acc]);var f=c+d;return f<-2&&(n--,f+=u==="c"||u==="f"?1:2),f>2&&(n++,f-=u==="b"||u==="e"?1:2),[n,f]}var vS={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},Vte={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},jte={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};ab.note=function(t,n){if(!(!t.localTranspose||t.clef.type==="perc")){var e=n.pitch;if(t.localTransposeVerticalMovement&&(n.pitch=n.pitch+t.localTransposeVerticalMovement,n.name)){var i=n.accidental?n.name.substring(1):n.name,r=n.accidental?n.name[0]:"",o=v4.pitchIndex(i);n.name=r+v4.noteName(o+t.localTransposeVerticalMovement)}if(n.accidental){var a=Bte(e,n.pitch,n.accidental,t.globalTransposeOrigKeySig,t.targetKey);n.pitch=a[0],n.accidental=Vte[a[1]],n.name&&(n.name=jte[a[1]]+n.name.replace(/[_^=]/g,""))}}};b4.exports=ab});var sb=P((rBe,w4)=>{var y4=eb(),Hte=_S(),ar={};(function(){var t,n,e,i,r;ar.initialize=function(d,h,f,p,g){t=d,n=h,e=f,i=p,r=g},ar.standardKey=function(d,h,f,p){return Hte.keySignature(e,d,h,f,p)};var o={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},a=function(d,h){var f=o[d],p=f?f.mid:0;return p+h};ar.fixClef=function(d){var h=o[d.type];h&&(d.clefPos=h.pitch,d.type=h.clef)},ar.deepCopyKey=function(d){var h={accidentals:[],root:d.root,acc:d.acc,mode:d.mode};return d.accidentals.forEach(function(f){h.accidentals.push(Object.assign({},f))}),h};var s={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};ar.addPosToKey=function(d,h){var f=d.verticalPos;h.accidentals.forEach(function(p){var g=s[p.note];g=g-f,p.verticalPos=g}),h.impliedNaturals&&h.impliedNaturals.forEach(function(p){var g=s[p.note];g=g-f,p.verticalPos=g}),f<-10?(h.accidentals.forEach(function(p){p.verticalPos-=7,(p.verticalPos>=11||p.verticalPos===10&&p.acc==="flat")&&(p.verticalPos-=7),p.note==="A"&&p.acc==="sharp"&&(p.verticalPos-=7),(p.note==="G"||p.note==="F")&&p.acc==="flat"&&(p.verticalPos-=7)}),h.impliedNaturals&&h.impliedNaturals.forEach(function(p){p.verticalPos-=7,(p.verticalPos>=11||p.verticalPos===10&&p.acc==="flat")&&(p.verticalPos-=7),p.note==="A"&&p.acc==="sharp"&&(p.verticalPos-=7),(p.note==="G"||p.note==="F")&&p.acc==="flat"&&(p.verticalPos-=7)})):f<-4?(h.accidentals.forEach(function(p){p.verticalPos-=7,f===-8&&(p.note==="f"||p.note==="g")&&p.acc==="sharp"&&(p.verticalPos-=7)}),h.impliedNaturals&&h.impliedNaturals.forEach(function(p){p.verticalPos-=7,f===-8&&(p.note==="f"||p.note==="g")&&p.acc==="sharp"&&(p.verticalPos-=7)})):f>=7&&(h.accidentals.forEach(function(p){p.verticalPos+=7}),h.impliedNaturals&&h.impliedNaturals.forEach(function(p){p.verticalPos+=7}))},ar.fixKey=function(d,h){var f=Object.assign({},h);return ar.addPosToKey(d,f),f};var l=function(d){var h=0,f=d[h++];(f==="^"||f==="_")&&(f=d[h++]);var p=s[f];for(p===void 0&&(p=6);h<d.length;h++)if(d[h]===",")p-=7;else if(d[h]==="'")p+=7;else break;return{mid:p-6,str:d.substring(h)}},c=function(d){for(var h=0;h<d.length;h++)d[h].note==="b"?d[h].note="B":d[h].note==="a"?d[h].note="A":d[h].note==="F"?d[h].note="f":d[h].note==="E"?d[h].note="e":d[h].note==="D"?d[h].note="d":d[h].note==="C"?d[h].note="c":d[h].note==="G"&&d[h].acc==="sharp"?d[h].note="g":d[h].note==="g"&&d[h].acc==="flat"&&(d[h].note="G")};ar.parseKey=function(d,h){d.length===0&&(d="none");var f=t.tokenize(d,0,d.length),p={};if(f.length===0)return n("Must pass in key signature.",d,0),p;switch(f[0].token){case"HP":y4.addDirective("bagpipes"),e.key={root:"HP",accidentals:[],acc:"",mode:""},p.foundKey=!0,f.shift();break;case"Hp":y4.addDirective("bagpipes"),e.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},p.foundKey=!0,f.shift();break;case"none":e.key={root:"none",accidentals:[],acc:"",mode:""},p.foundKey=!0,f.shift();break;default:var g=t.getKeyPitch(f[0].token);if(g.len>0){p.foundKey=!0;var v="",_="";f[0].token.length>1?f[0].token=f[0].token.substring(1):f.shift();var y=g.token;if(f.length>0){var D=t.getSharpFlat(f[0].token);if(D.len>0&&(f[0].token.length>1?f[0].token=f[0].token.substring(1):f.shift(),y+=D.token,v=D.token),f.length>0){var b=t.getMode(f[0].token);b.len>0&&(f.shift(),y+=b.token,_=b.token)}if(ar.standardKey(y,g.token,v,0)===void 0)return n("Unsupported key signature: "+y,d,0),p}var C=ar.deepCopyKey(e.key),k=!h&&e.globalTranspose?-e.globalTranspose:0,O;if(h&&(O=e.globalTransposeOrigKeySig),e.key=ar.deepCopyKey(ar.standardKey(y,g.token,v,k)),h&&(e.globalTransposeOrigKeySig=O),e.key.mode=_,C&&e.keywarn!==!1){for(var H,F=0;F<e.key.accidentals.length;F++)for(H=0;H<C.accidentals.length;H++)C.accidentals[H].note&&e.key.accidentals[F].note.toLowerCase()===C.accidentals[H].note.toLowerCase()&&(C.accidentals[H].note=null);for(H=0;H<C.accidentals.length;H++)C.accidentals[H].note&&(e.key.impliedNaturals||(e.key.impliedNaturals=[]),e.key.impliedNaturals.push({acc:"natural",note:C.accidentals[H].note}))}}break}if(f.length===0||(f[0].token==="exp"&&f.shift(),f.length===0)||(f[0].token==="oct"&&f.shift(),f.length===0))return p;var U=t.getKeyAccidentals2(f);if(U.warn&&n(U.warn,d,0),U.accs){p.foundKey||(p.foundKey=!0,e.key={root:"none",acc:"",mode:"",accidentals:[]}),c(U.accs);for(var de=0;de<U.accs.length;de++){for(var X=!1,Z=0;Z<e.key.accidentals.length&&!X;Z++)e.key.accidentals[Z].note===U.accs[de].note&&(X=!0,e.key.accidentals[Z].acc!==U.accs[de].acc&&(e.key.accidentals[Z].acc=U.accs[de].acc,e.key.explicitAccidentals||(e.key.explicitAccidentals=[]),e.key.explicitAccidentals.push(U.accs[de])));if(!X&&(e.key.explicitAccidentals||(e.key.explicitAccidentals=[]),e.key.explicitAccidentals.push(U.accs[de]),e.key.accidentals.push(U.accs[de]),e.key.impliedNaturals))for(var me=0;me<e.key.impliedNaturals.length;me++)e.key.impliedNaturals[me].note===U.accs[de].note&&e.key.impliedNaturals.splice(me,1)}}for(var we;f.length>0;)switch(f[0].token){case"m":case"middle":if(f.shift(),f.length===0)return n("Expected = after middle",d,0),p;if(we=f.shift(),we.token!=="="){n("Expected = after middle",d,we.start);break}if(f.length===0)return n("Expected parameter after middle=",d,0),p;var oe=t.getPitchFromTokens(f);oe.warn&&n(oe.warn,d,0),oe.position&&(e.clef.verticalPos=oe.position-6);break;case"transpose":if(f.shift(),f.length===0)return n("Expected = after transpose",d,0),p;if(we=f.shift(),we.token!=="="){n("Expected = after transpose",d,we.start);break}if(f.length===0)return n("Expected parameter after transpose=",d,0),p;if(f[0].type!=="number"){n("Expected number after transpose",d,f[0].start);break}e.clef.transpose=f[0].intt,f.shift();break;case"stafflines":if(f.shift(),f.length===0)return n("Expected = after stafflines",d,0),p;if(we=f.shift(),we.token!=="="){n("Expected = after stafflines",d,we.start);break}if(f.length===0)return n("Expected parameter after stafflines=",d,0),p;if(f[0].type!=="number"){n("Expected number after stafflines",d,f[0].start);break}e.clef.stafflines=f[0].intt,f.shift();break;case"staffscale":if(f.shift(),f.length===0)return n("Expected = after staffscale",d,0),p;if(we=f.shift(),we.token!=="="){n("Expected = after staffscale",d,we.start);break}if(f.length===0)return n("Expected parameter after staffscale=",d,0),p;if(f[0].type!=="number"){n("Expected number after staffscale",d,f[0].start);break}e.clef.staffscale=f[0].floatt,f.shift();break;case"octave":if(f.shift(),f.length===0)return n("Expected = after octave",d,0),p;if(we=f.shift(),we.token!=="="){n("Expected = after octave",d,we.start);break}if(f.length===0)return n("Expected parameter after octave=",d,0),p;if(f[0].type!=="number"){n("Expected number after octave",d,f[0].start);break}e.octave=f[0].intt,f.shift();break;case"style":if(f.shift(),f.length===0)return n("Expected = after style",d,0),p;if(we=f.shift(),we.token!=="="){n("Expected = after style",d,we.start);break}if(f.length===0)return n("Expected parameter after style=",d,0),p;switch(f[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":e.style=f[0].token,f.shift();break;default:n("error parsing style element: "+f[0].token,d,f[0].start);break}break;case"clef":if(f.shift(),f.length===0)return n("Expected = after clef",d,0),p;if(we=f.shift(),we.token!=="="){n("Expected = after clef",d,we.start);break}if(f.length===0)return n("Expected parameter after clef=",d,0),p;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var w=f.shift();switch(w.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":w.token="alto";break;case"F":w.token="bass";break;case"G":w.token="treble";break;case"c":w.token="alto";break;case"f":w.token="bass";break;case"g":w.token="treble";break;default:n("Expected clef name. Found "+w.token,d,w.start);break}f.length>0&&f[0].type==="number"&&(w.token+=f[0].token,f.shift()),f.length>1&&(f[0].token==="-"||f[0].token==="+"||f[0].token==="^"||f[0].token==="_")&&f[1].token==="8"&&(w.token+=f[0].token+f[1].token,f.shift(),f.shift()),e.clef={type:w.token,verticalPos:a(w.token,0)},e.currentVoice&&e.currentVoice.transpose!==void 0&&(e.clef.transpose=e.currentVoice.transpose),p.foundClef=!0;break;default:n("Unknown parameter: "+f[0].token,d,f[0].start),f.shift()}return p};var u=function(d){var h=e.voices[d];if(!(e.currentVoice&&e.currentVoice.index===h.index&&e.currentVoice.staffNum===h.staffNum))return e.currentVoice=h,r.setCurrentVoice(h.staffNum,h.index,d)};ar.parseVoice=function(d,h,f){var p=t.getMeat(d,h,f),g=p.start,v=p.end,_=t.getToken(d,g,v);if(_.length===0){n("Expected a voice id",d,g);return}var y=!1;e.voices[_]===void 0&&(e.voices[_]={},y=!0,e.score_is_present&&n("Can't have an unknown V: id when the %score directive is present",d,g)),g+=_.length,g+=t.eatWhiteSpace(d,g);for(var D={startStaff:y},b=function(oe){var w=t.getVoiceToken(d,g,v);w.warn!==void 0?n("Expected value for "+oe+" in voice: "+w.warn,d,g):w.err!==void 0?n("Expected value for "+oe+" in voice: "+w.err,d,g):w.token.length===0&&d[g]!=='"'?n("Expected value for "+oe+" in voice",d,g):D[oe]=w.token,g+=w.len},C=function(oe,w,T){var R=t.getVoiceToken(d,g,v);R.warn!==void 0?n("Expected value for "+w+" in voice: "+R.warn,d,g):R.err!==void 0?n("Expected value for "+w+" in voice: "+R.err,d,g):R.token.length===0&&d[g]!=='"'?n("Expected value for "+w+" in voice",d,g):(T==="number"&&(R.token=parseFloat(R.token)),e.voices[oe][w]=R.token),g+=R.len},k=function(oe,w){var T=t.getVoiceToken(d,g,v);if(T.warn!==void 0)n("Expected value for "+oe+" in voice: "+T.warn,d,g);else if(T.err!==void 0)n("Expected value for "+oe+" in voice: "+T.err,d,g);else if(T.token.length===0&&d[g]!=='"')n("Expected value for "+oe+" in voice",d,g);else return w==="number"&&(T.token=parseFloat(T.token)),T.token;g+=T.len},O=function(oe,w){var T={_B:2,_E:9,_b:-10,_e:-3},R=t.getVoiceToken(d,g,v);if(R.warn!==void 0)n("Expected one of (_B, _E, _b, _e) for "+w+" in voice: "+R.warn,d,g);else if(R.token.length===0&&d[g]!=='"')n("Expected one of (_B, _E, _b, _e) for "+w+" in voice",d,g);else{var N=T[R.token];N?e.voices[oe][w]=N:n("Expected one of (_B, _E, _b, _e) for "+w+" in voice",d,g)}g+=R.len};g<v;){var H=t.getVoiceToken(d,g,v);if(g+=H.len,H.warn)n("Error parsing voice: "+H.warn,d,g);else{var F=null;switch(H.token){case"clef":case"cl":b("clef");var U=0;D.clef!==void 0&&(D.clef=D.clef.replace(/[',]/g,""),D.clef.indexOf("+16")!==-1&&(U+=14,D.clef=D.clef.replace("+16","")),D.verticalPos=a(D.clef,U));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":case"treble+8":case"treble-8":case"treble^8":case"treble_8":case"treble1":case"treble2":case"treble3":case"treble4":case"treble5":case"bass+8":case"bass-8":case"bass^8":case"bass_8":case"bass+16":case"bass-16":case"bass^16":case"bass_16":case"bass1":case"bass2":case"bass3":case"bass4":case"bass5":case"tenor1":case"tenor2":case"tenor3":case"tenor4":case"tenor5":case"alto1":case"alto2":case"alto3":case"alto4":case"alto5":case"alto+8":case"alto-8":case"alto^8":case"alto_8":var de=0;D.clef=H.token.replace(/[',]/g,""),D.verticalPos=a(D.clef,de),e.voices[_].clef=H.token;break;case"staves":case"stave":case"stv":b("staves");break;case"brace":case"brc":b("brace");break;case"bracket":case"brk":b("bracket");break;case"name":case"nm":b("name");break;case"subname":case"sname":case"snm":b("subname");break;case"merge":D.startStaff=!1;break;case"stem":case"stems":F=t.getVoiceToken(d,g,v),F.warn!==void 0?n("Expected value for stems in voice: "+F.warn,d,g):F.err!==void 0?n("Expected value for stems in voice: "+F.err,d,g):F.token==="up"||F.token==="down"?e.voices[_].stem=F.token:n("Expected up or down for voice stem",d,g),g+=F.len;break;case"up":case"down":e.voices[_].stem=H.token;break;case"middle":case"m":b("verticalPos"),D.verticalPos=l(D.verticalPos).mid;break;case"gchords":case"gch":e.voices[_].suppressChords=!0,F=t.getVoiceToken(d,g,v),F.token==="0"&&(g=g+F.len);break;case"space":case"spc":b("spacing");break;case"scale":C(_,"scale","number");break;case"score":O(_,"scoreTranspose");break;case"transpose":C(_,"transpose","number");break;case"stafflines":C(_,"stafflines","number");break;case"staffscale":C(_,"staffscale","number");break;case"octave":C(_,"octave","number");break;case"volume":C(_,"volume","number");break;case"cue":var X=k("cue","string");X==="on"?e.voices[_].scale=.6:e.voices[_].scale=1;break;case"style":F=t.getVoiceToken(d,g,v),F.warn!==void 0?n("Expected value for style in voice: "+F.warn,d,g):F.err!==void 0?n("Expected value for style in voice: "+F.err,d,g):F.token==="normal"||F.token==="harmonic"||F.token==="rhythm"||F.token==="x"||F.token==="triangle"?e.voices[_].style=F.token:n("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",d,g),g+=F.len;break}}g+=t.eatWhiteSpace(d,g)}if((D.startStaff||e.staves.length===0)&&(e.staves.push({index:e.staves.length,meter:e.origMeter}),e.score_is_present||(e.staves[e.staves.length-1].numVoices=0)),e.voices[_].staffNum===void 0){e.voices[_].staffNum=e.staves.length-1;var Z=0;for(var me in e.voices)e.voices.hasOwnProperty(me)&&e.voices[me].staffNum===e.voices[_].staffNum&&Z++;e.voices[_].index=Z-1}var we=e.staves[e.voices[_].staffNum];return e.score_is_present||we.numVoices++,D.clef&&(we.clef={type:D.clef,verticalPos:D.verticalPos}),D.spacing&&(we.spacing_below_offset=D.spacing),D.verticalPos&&(we.verticalPos=D.verticalPos),D.name&&(we.name?we.name.push(D.name):we.name=[D.name]),D.subname&&(we.subname?we.subname.push(D.subname):we.subname=[D.subname]),u(_)}})();w4.exports=ar});var x4=P((oBe,C4)=>{var lb=Ao(),pa=eb(),ma=sb(),zte=function(t,n,e,i,r){this.reset=function(s,l,c,u){ma.initialize(s,l,c,u,r),pa.initialize(s,l,c,u,r)},this.reset(t,n,e,i),this.setTitle=function(s,l){e.hasMainTitle?r.addSubtitle(s,{startChar:e.iChar,endChar:e.iChar+l+2}):(r.addMetaText("title",s,{startChar:e.iChar,endChar:e.iChar+l+2}),e.hasMainTitle=!0)},this.setMeter=function(s){if(s=t.stripComment(s),s==="C")return e.havent_set_length===!0&&(e.default_length=.125,e.havent_set_length=!1),{type:"common_time"};if(s==="C|")return e.havent_set_length===!0&&(e.default_length=.125,e.havent_set_length=!1),{type:"cut_time"};if(s==="o")return e.havent_set_length===!0&&(e.default_length=.125,e.havent_set_length=!1),{type:"tempus_perfectum"};if(s==="c")return e.havent_set_length===!0&&(e.default_length=.125,e.havent_set_length=!1),{type:"tempus_imperfectum"};if(s==="o.")return e.havent_set_length===!0&&(e.default_length=.125,e.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(s==="c.")return e.havent_set_length===!0&&(e.default_length=.125,e.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(s.length===0||s.toLowerCase()==="none")return e.havent_set_length===!0&&(e.default_length=.125,e.havent_set_length=!1),null;var l=t.tokenize(s,0,s.length);try{var c=function(){var g={value:0,num:""},v=l.shift();for(v.token==="("&&(v=l.shift());;){if(v.type!=="number")throw"Expected top number of meter";if(g.value+=parseInt(v.token),g.num+=v.token,l.length===0||l[0].token==="/")return g;if(v=l.shift(),v.token===")"){if(l.length===0||l[0].token==="/")return g;throw"Unexpected paren in meter"}if(v.token!=="."&&v.token!=="+"||(g.num+=v.token,l.length===0))throw"Expected top number of meter";v=l.shift()}return g},u=function(){var g=c();if(l.length===0)return g;var v=l.shift();if(v.token!=="/")throw"Expected slash in meter";if(v=l.shift(),v.type!=="number")throw"Expected bottom number of meter";return g.den=v.token,g.value=g.value/parseInt(g.den),g};if(l.length===0)throw"Expected meter definition in M: line";for(var d={type:"specified",value:[]},h=0;;){var f=u();h+=f.value;var p={num:f.num};if(f.den!==void 0&&(p.den=f.den),d.value.push(p),l.length===0)break}return e.havent_set_length===!0&&(e.default_length=h<.75?.0625:.125,e.havent_set_length=!1),d}catch(g){n(g,s,0)}return null},this.calcTempo=function(s){var l=.25;e.meter&&e.meter.type==="specified"?l=1/parseInt(e.meter.value[0].den):e.origMeter&&e.origMeter.type==="specified"&&(l=1/parseInt(e.origMeter.value[0].den));for(var c=0;c<s.duration;c++)s.duration[c]=l*s.duration[c];return s},this.resolveTempo=function(){e.tempo&&(this.calcTempo(e.tempo),i.metaText.tempo=e.tempo,delete e.tempo)},this.addUserDefinition=function(s,l,c){var u=s.indexOf("=",l);if(u===-1){n("Need an = in a macro definition",s,l);return}var d=lb.strip(s.substring(l,u)),h=lb.strip(s.substring(u+1));if(d.length!==1){n("Macro definitions can only be one character",s,l);return}var f="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(f.indexOf(d)===-1){n("Macro definitions must be H-Y, h-w, or tilde",s,l);return}if(h.length===0){n("Missing macro definition",s,l);return}e.macros===void 0&&(e.macros={}),e.macros[d]=h},this.setDefaultLength=function(s,l,c){var u=s.substring(l,c).replace(/ /g,""),d=u.split("/");if(d.length===2){var h=parseInt(d[0]),f=parseInt(d[1]);f>0&&(e.default_length=h/f,e.havent_set_length=!1)}else d.length===1&&d[0]==="1"&&(e.default_length=1,e.havent_set_length=!1)};var o={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(s,l,c,u){try{var d=t.tokenize(s,l,c);if(d.length===0)throw"Missing parameter in Q: field";var h={startChar:u+l-2,endChar:u+c},f=!0,p=d.shift();if(p.type==="quote"&&(h.preString=p.token,p=d.shift(),d.length===0))return o[h.preString.toLowerCase()]&&(h.bpm=o[h.preString.toLowerCase()],h.suppressBpm=!0),{type:"immediate",tempo:h};if(p.type==="alpha"&&p.token==="C"){if(d.length===0)throw"Missing tempo after C in Q: field";if(p=d.shift(),p.type==="punct"&&p.token==="="){if(d.length===0)throw"Missing tempo after = in Q: field";if(p=d.shift(),p.type!=="number")throw"Expected number after = in Q: field";h.duration=[1],h.bpm=parseInt(p.token)}else if(p.type==="number"){if(h.duration=[parseInt(p.token)],d.length===0)throw"Missing = after duration in Q: field";if(p=d.shift(),p.type!=="punct"||p.token!=="=")throw"Expected = after duration in Q: field";if(d.length===0)throw"Missing tempo after = in Q: field";if(p=d.shift(),p.type!=="number")throw"Expected number after = in Q: field";h.bpm=parseInt(p.token)}else throw"Expected number or equal after C in Q: field"}else if(p.type==="number"){var g=parseInt(p.token);if(d.length===0||d[0].type==="quote")h.duration=[1],h.bpm=g;else{if(f=!1,p=d.shift(),p.type!=="punct"&&p.token!=="/"||(p=d.shift(),p.type!=="number"))throw"Expected fraction in Q: field";var v=parseInt(p.token);for(h.duration=[g/v];d.length>0&&d[0].token!=="="&&d[0].type!=="quote";){if(p=d.shift(),p.type!=="number"||(g=parseInt(p.token),p=d.shift(),p.type!=="punct"&&p.token!=="/")||(p=d.shift(),p.type!=="number"))throw"Expected fraction in Q: field";v=parseInt(p.token),h.duration.push(g/v)}if(p=d.shift(),p.type!=="punct"&&p.token!=="=")throw"Expected = in Q: field";if(p=d.shift(),p.type!=="number")throw"Expected tempo in Q: field";h.bpm=parseInt(p.token)}}else throw"Unknown value in Q: field";if(d.length!==0&&(p=d.shift(),p.type==="quote"&&(h.postString=p.token,p=d.shift()),d.length!==0))throw"Unexpected string at end of Q: field";return e.printTempo===!1&&(h.suppress=!0),{type:f?"delaySet":"immediate",tempo:h}}catch(_){return n(_,s,l),{type:"none"}}},this.letter_to_inline_header=function(s,l,c){var u=!1,d=t.eatWhiteSpace(s,l);if(l+=d,s.length>=l+5&&s[l]==="["&&s[l+2]===":"){var h=s.indexOf("]",l),f=e.iChar+l,p=e.iChar+h+1;switch(s.substring(l,l+3)){case"[I:":var g=pa.addDirective(s.substring(l+3,h));return g&&n(g,s,l),[h-l+1+d];case"[M:":var v=this.setMeter(s.substring(l+3,h));return r.hasBeginMusic()&&v?r.appendStartingElement("meter",f,p,v):e.meter=v,[h-l+1+d];case"[K:":var _=ma.parseKey(s.substring(l+3,h),!0);return _.foundClef&&r.hasBeginMusic()&&r.appendStartingElement("clef",f,p,e.clef),_.foundKey&&r.hasBeginMusic()&&r.appendStartingElement("key",f,p,ma.fixKey(e.clef,e.key)),[h-l+1+d];case"[P:":var y=pa.parseFontChangeLine(s.substring(l+3,h));return c||i.lines.length<=i.lineNum?e.partForNextLine={title:y,startChar:f,endChar:p}:r.appendElement("part",f,p,{title:y}),[h-l+1+d];case"[L:":return this.setDefaultLength(s,l+3,h),[h-l+1+d];case"[Q:":if(h>0){var D=this.setTempo(s,l+3,h,e.iChar);return D.type==="delaySet"?r.hasBeginMusic()?r.appendElement("tempo",f,p,this.calcTempo(D.tempo)):e.tempoForNextLine=["tempo",f,p,this.calcTempo(D.tempo)]:D.type==="immediate"&&(!c&&r.hasBeginMusic()?r.appendElement("tempo",f,p,D.tempo):e.tempoForNextLine=["tempo",f,p,D.tempo]),[h-l+1+d,s[l+1],s.substring(l+3,h)]}break;case"[V:":if(h>0)return u=ma.parseVoice(s,l+3,h),[h-l+1+d,s[l+1],s.substring(l+3,h),u];break;case"[r:":return[h-l+1+d];default:}}return[0]},this.letter_to_body_header=function(s,l){var c=!1;if(s.length>=l+3)switch(s.substring(l,l+2)){case"I:":var u=pa.addDirective(s.substring(l+2));return u&&n(u,s,l),[s.length];case"M:":var d=this.setMeter(s.substring(l+2));return r.hasBeginMusic()&&d&&r.appendStartingElement("meter",e.iChar+l,e.iChar+s.length,d),[s.length];case"K:":var h=ma.parseKey(s.substring(l+2),r.hasBeginMusic());return h.foundClef&&r.hasBeginMusic()&&e.keywarn!==!1&&r.appendStartingElement("clef",e.iChar+l,e.iChar+s.length,e.clef),h.foundKey&&r.hasBeginMusic()&&e.keywarn!==!1&&r.appendStartingElement("key",e.iChar+l,e.iChar+s.length,ma.fixKey(e.clef,e.key)),[s.length];case"P:":return r.hasBeginMusic()&&r.appendElement("part",e.iChar+l,e.iChar+s.length,{title:s.substring(l+2)}),[s.length];case"L:":return this.setDefaultLength(s,l+2,s.length),[s.length];case"Q:":var f=s.indexOf("",l+2);f===-1&&(f=s.length);var p=this.setTempo(s,l+2,f,e.iChar);return p.type==="delaySet"?r.appendElement("tempo",e.iChar+l,e.iChar+s.length,this.calcTempo(p.tempo)):p.type==="immediate"&&r.appendElement("tempo",e.iChar+l,e.iChar+s.length,p.tempo),[f,s[l],lb.strip(s.substring(l+2))];case"V:":return c=ma.parseVoice(s,l+2,s.length),[s.length,s[l],lb.strip(s.substring(l+2)),c];default:}return[0]};var a={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(s){var l=a[s[0]],c=s.length-2,u=t.translateString(t.stripComment(s.substring(2)));if(l==="unalignedWords"||l==="notes")r.addMetaTextArray(l,pa.parseFontChangeLine(u),{startChar:e.iChar,endChar:e.iChar+s.length});else if(l!==void 0)r.addMetaText(l,pa.parseFontChangeLine(u),{startChar:e.iChar,endChar:e.iChar+s.length});else{var d=e.iChar,h=d+s.length;switch(s[0]){case"H":for(r.addMetaTextArray("history",pa.parseFontChangeLine(u),{startChar:e.iChar,endChar:e.iChar+s.length}),s=t.peekLine();s&&s[1]!==":";)t.nextLine(),r.addMetaTextArray("history",pa.parseFontChangeLine(t.translateString(t.stripComment(s))),{startChar:e.iChar,endChar:e.iChar+s.length}),s=t.peekLine();break;case"K":this.resolveTempo();var f=ma.parseKey(s.substring(2),!1);!e.is_in_header&&r.hasBeginMusic()&&e.keywarn!==!1&&(f.foundClef&&r.appendStartingElement("clef",d,h,e.clef),f.foundKey&&r.appendStartingElement("key",d,h,ma.fixKey(e.clef,e.key))),e.is_in_header=!1;break;case"L":this.setDefaultLength(s,2,s.length);break;case"M":e.origMeter=e.meter=this.setMeter(s.substring(2));break;case"P":e.is_in_header?r.addMetaText("partOrder",pa.parseFontChangeLine(u),{startChar:e.iChar,endChar:e.iChar+s.length}):e.partForNextLine={title:u,startChar:d,endChar:h};break;case"Q":var p=this.setTempo(s,2,s.length,e.iChar);p.type==="delaySet"?e.tempo=p.tempo:p.type==="immediate"&&(i.metaText.tempo?e.tempoForNextLine=["tempo",d,h,p.tempo]:i.metaText.tempo=p.tempo);break;case"T":e.titlecaps&&(u=u.toUpperCase()),this.setTitle(pa.parseFontChangeLine(t.theReverser(u)),c);break;case"U":this.addUserDefinition(s,2,s.length);break;case"V":if(ma.parseVoice(s,2,s.length),!e.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":n("Ignored header",s,0);break;default:return{regular:!0}}}return{}}};C4.exports=zte});var D4=P((aBe,Kr)=>{Kr.exports.legalAccents=["trill","trillh","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"];Kr.exports.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"];Kr.exports.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"];Kr.exports.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]];Kr.exports.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]];Kr.exports.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{";Kr.exports.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];Kr.exports.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};Kr.exports.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"};Kr.exports.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"};Kr.exports.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2}});var B4=P((sBe,L4)=>{var E4=sb(),F4=_S(),Mn,Yn,j,Oo,Ro,yp,{legalAccents:S4,volumeDecorations:k4,dynamicDecorations:M4,accentPseudonyms:T4,accentDynamicPseudonyms:I4,nonDecorations:Ute,durations:qte,pitches:$te,rests:Wte,accMap:A4,tripletQ:Gte}=D4(),wS=function(t,n,e,i,r,o){Mn=t,Yn=n,j=e,Oo=i,Ro=r,yp=o,this.lineContinuation=!1},R4=function(t,n,e){if(t.inTie[n]===void 0)return!1;var i=t.currentVoice?t.currentVoice.staffNum*100+t.currentVoice.index:0;return!!(t.inTie[n][i]&&(e.pitches!==void 0||e.rest.type!=="spacer"))},re={};wS.prototype.parseMusic=function(t){yp.resolveTempo(),j.is_in_header=!1;for(var n=0,e=j.iChar;Mn.isWhiteSpace(t[n])&&n<t.length;)n++;if(!(n===t.length||t[n]==="%")){var i=j.start_new_line;j.continueall===void 0?j.start_new_line=!0:j.start_new_line=!1;var r=0,o=yp.letter_to_body_header(t,n);o[0]>0&&(n+=o[0],o[1]==="V"&&this.startNewLine());for(var a=0;n<t.length;){var s=n;if(t[n]==="%")break;var l=yp.letter_to_inline_header(t,n,i);if(l[0]>0)n+=l[0],l[1]==="V"&&(i=!0);else{(!Ro.hasBeginMusic()||i&&!this.lineContinuation)&&(this.startNewLine(),i=!1);for(var c;;)if(c=Mn.eatWhiteSpace(t,n),c>0&&(n+=c),n>0&&t[n-1]===""&&(c=yp.letter_to_body_header(t,n),c[0]>0&&(c[1]==="V"&&this.startNewLine(),n=c[0],j.start_new_line=!1)),c=Xte(t,n),c[0]>0&&(n+=c[0]),c=Yte(t,n),c[0]>0){re.chord||(re.chord=[]);var u=Mn.translateString(c[1]);u=u.replace(/;/g,`
`);for(var d=!1,h=0;h<re.chord.length;h++)re.chord[h].position===c[2]&&(d=!0,re.chord[h].name+=`
`+u);d===!1&&(c[2]===null&&c[3]?re.chord.push({name:u,rel_position:c[3]}):re.chord.push({name:u,position:c[2]})),n+=c[0];var f=Mn.skipWhiteSpace(t.substring(n));f>0&&(re.force_end_beam_last=!0),n+=f}else if(Ute.indexOf(t[n])===-1?c=N4(t,n):c=[0],c[0]>0)c[1]===null?n+1<t.length&&this.startNewLine():c[1].length>0&&(c[1].indexOf("style=")===0?re.style=c[1].substr(6):(re.decoration===void 0&&(re.decoration=[]),c[1]==="beambr1"?re.beambr=1:c[1]==="beambr2"?re.beambr=2:re.decoration.push(c[1]))),n+=c[0];else if(c=Qte(t,n),c[0]>0)re.gracenotes=c[1],n+=c[0];else break;if(c=Zte(t,n),c[0]>0){a=0,re.gracenotes!==void 0&&(re.rest={type:"spacer"},re.duration=.125,j.addFormattingOptions(re,Oo.formatting,"note"),Ro.appendElement("note",e+n,e+n+c[0],re),j.measureNotEmpty=!0,re={});var p={type:c[1]};p.type.length===0?Yn("Unknown bar type",t,n):(j.inEnding&&p.type!=="bar_thin"&&(p.endEnding=!0,j.inEnding=!1),c[2]&&(p.startEnding=c[2],j.inEnding&&(p.endEnding=!0),j.inEnding=!0,c[1]==="bar_right_repeat"?j.restoreStartEndingHoldOvers():j.duplicateStartEndingHoldOvers()),re.decoration!==void 0&&(p.decoration=re.decoration),re.chord!==void 0&&(p.chord=re.chord),p.startEnding&&j.barFirstEndingNum===void 0?j.barFirstEndingNum=j.currBarNumber:p.startEnding&&p.endEnding&&j.barFirstEndingNum?j.currBarNumber=j.barFirstEndingNum:p.endEnding&&(j.barFirstEndingNum=void 0),p.type!=="bar_invisible"&&j.measureNotEmpty&&yS()&&(j.currBarNumber++,j.barNumbers&&j.currBarNumber%j.barNumbers===0&&(p.barNumber=j.currBarNumber)),j.addFormattingOptions(re,Oo.formatting,"bar"),Ro.appendElement("bar",e+s,e+n+c[0],p),j.measureNotEmpty=!1,re={}),n+=c[0]}else if(t[n]==="&")c=Kte(t,n),c[0]>0&&(Ro.appendElement("overlay",e,e+1,{}),n+=1,a++);else{if(c=Jte(t,n),c.consumed>0&&(c.startSlur!==void 0&&(re.startSlur=c.startSlur),c.dottedSlur&&(re.dottedSlur=!0),c.triplet!==void 0&&(r>0?Yn("Can't nest triplets",t,n):(re.startTriplet=c.triplet,re.tripletMultiplier=c.tripletQ/c.triplet,re.tripletR=c.num_notes,r=c.num_notes===void 0?c.triplet:c.num_notes)),n+=c.consumed),t[n]==="["){var g=n;n++;for(var v=null,_=!1,y=!1;!y;){var D=N4(t,n);D[0]>0&&(n+=D[0]);var b=bS(t,n,{},!1);if(b!==null&&b.pitch!==void 0)D[0]>0&&D[1].indexOf("style=")!==0&&(re.decoration===void 0&&(re.decoration=[]),re.decoration.push(D[1])),b.end_beam&&(re.end_beam=!0,delete b.end_beam),re.pitches===void 0?(re.duration=b.duration,re.pitches=[b]):re.pitches.push(b),delete b.duration,D[0]>0&&D[1].indexOf("style=")===0&&(re.pitches[re.pitches.length-1].style=D[1].substr(6)),j.inTieChord[re.pitches.length]&&(b.endTie=!0,j.inTieChord[re.pitches.length]=void 0),b.startTie&&(j.inTieChord[re.pitches.length]=!0),n=b.endChar,delete b.endChar;else if(t[n]===" ")Yn("Spaces are not allowed in chords",t,n),n++;else{if(n<t.length&&t[n]==="]"){n++,j.next_note_duration!==0&&(re.duration=re.duration*j.next_note_duration,j.next_note_duration=0),R4(j,a,re)&&(re.pitches.forEach(function(X){X.endTie=!0}),bp(j,a,!1)),r>0&&!(re.rest&&re.rest.type==="spacer")&&(r--,r===0&&(re.endTriplet=!0));for(var C=!1;n<t.length&&!C;){switch(t[n]){case" ":case"	":wp(re);break;case")":re.endSlur===void 0?re.endSlur=1:re.endSlur++;break;case"-":re.pitches.forEach(function(X){X.startTie={}}),bp(j,a,!0);break;case">":case"<":var k=P4(t,n);n+=k[0]-1,j.next_note_duration=k[2],v?v=v*k[1]:v=k[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var O=Mn.getFraction(t,n);v=O.value,n=O.index;var H=t[n];H===" "&&(_=!0),H==="-"||H===")"||H===" "||H==="<"||H===">"?n--:C=!0;break;case"0":v=0;break;default:C=!0;break}C||n++}}else Yn("Expected ']' to end the chords",t,n);re.pitches!==void 0&&(v!==null&&(re.duration=re.duration*v,_&&wp(re)),j.addFormattingOptions(re,Oo.formatting,"note"),Ro.appendElement("note",e+s,e+n,re),j.measureNotEmpty=!0,re={}),y=!0}}}else{var F={},U=bS(t,n,F,!0);if(F.endTie!==void 0&&bp(j,a,!0),U!==null){U.pitch!==void 0?(re.pitches=[{}],U.accidental!==void 0&&(re.pitches[0].accidental=U.accidental),re.pitches[0].pitch=U.pitch,re.pitches[0].name=U.name,(U.midipitch||U.midipitch===0)&&(re.pitches[0].midipitch=U.midipitch),U.endSlur!==void 0&&(re.pitches[0].endSlur=U.endSlur),U.endTie!==void 0&&(re.pitches[0].endTie=U.endTie),U.startSlur!==void 0&&(re.pitches[0].startSlur=U.startSlur),re.startSlur!==void 0&&(re.pitches[0].startSlur=re.startSlur),re.dottedSlur!==void 0&&(re.pitches[0].dottedSlur=!0),U.startTie!==void 0&&(re.pitches[0].startTie=U.startTie),re.startTie!==void 0&&(re.pitches[0].startTie=re.startTie)):(re.rest=U.rest,U.rest.type==="multimeasure"&&yS()&&(j.currBarNumber+=U.rest.text-1),U.endSlur!==void 0&&(re.endSlur=U.endSlur),U.endTie!==void 0&&(re.rest.endTie=U.endTie),U.startSlur!==void 0&&(re.startSlur=U.startSlur),U.startTie!==void 0&&(re.rest.startTie=U.startTie),re.startTie!==void 0&&(re.rest.startTie=re.startTie)),U.chord!==void 0&&(re.chord=U.chord),U.duration!==void 0&&(re.duration=U.duration),U.decoration!==void 0&&(re.decoration=U.decoration),U.graceNotes!==void 0&&(re.graceNotes=U.graceNotes),delete re.startSlur,delete re.dottedSlur,R4(j,a,re)&&(re.pitches!==void 0?re.pitches[0].endTie=!0:re.rest.type!=="spacer"&&(re.rest.endTie=!0),bp(j,a,!1)),(U.startTie||re.startTie)&&bp(j,a,!0),n=U.endChar,r>0&&!(U.rest&&U.rest.type==="spacer")&&(r--,r===0&&(re.endTriplet=!0)),U.end_beam&&wp(re),re.rest&&re.rest.type==="rest"&&re.duration===1&&O4(j)<=1&&(re.rest.type="whole",re.duration=O4(j)),re.duration<1&&qte.indexOf(re.duration)===-1&&re.duration!==0&&(!re.rest||re.rest.type!=="spacer")&&Yn("Duration not representable: "+t.substring(s,n),t,n),j.addFormattingOptions(re,Oo.formatting,"note");var de=Ro.appendElement("note",e+s,e+n,re);de||(this.startNewLine(),Ro.appendElement("note",e+s,e+n,re)),j.measureNotEmpty=!0,re={}}}n===s&&(t[n]!==" "&&t[n]!=="`"&&Yn("Unknown character ignored",t,n),n++)}}}this.lineContinuation=t.indexOf("")>=0||o[0]>0,this.lineContinuation||(re={})}};var bp=function(t,n,e){var i=t.currentVoice?t.currentVoice.staffNum*100+t.currentVoice.index:0;t.inTie[n]===void 0&&(t.inTie[n]=[]),t.inTie[n][i]=e},Yte=function(t,n){if(t[n]==='"'){var e=Mn.getBrackettedSubstring(t,n,5);if(e[2]||Yn("Missing the closing quote while parsing the chord symbol",t,n),e[0]>0&&e[1].length>0&&e[1][0]==="^")e[1]=e[1].substring(1),e[2]="above";else if(e[0]>0&&e[1].length>0&&e[1][0]==="_")e[1]=e[1].substring(1),e[2]="below";else if(e[0]>0&&e[1].length>0&&e[1][0]==="<")e[1]=e[1].substring(1),e[2]="left";else if(e[0]>0&&e[1].length>0&&e[1][0]===">")e[1]=e[1].substring(1),e[2]="right";else if(e[0]>0&&e[1].length>0&&e[1][0]==="@"){e[1]=e[1].substring(1);var i=Mn.getFloat(e[1]);if(i.digits===0)return Yn("Missing first position in absolutely positioned annotation.",t,n),e[1]=e[1].replace("@",""),e[2]="above",e;if(e[1]=e[1].substring(i.digits),e[1][0]!==",")return Yn("Missing comma absolutely positioned annotation.",t,n),e[1]=e[1].replace("@",""),e[2]="above",e;e[1]=e[1].substring(1);var r=Mn.getFloat(e[1]);if(r.digits===0)return Yn("Missing second position in absolutely positioned annotation.",t,n),e[1]=e[1].replace("@",""),e[2]="above",e;e[1]=e[1].substring(r.digits);var o=Mn.skipWhiteSpace(e[1]);e[1]=e[1].substring(o),e[2]=null,e[3]={x:i.value,y:r.value}}else j.freegchord!==!0&&(e[1]=e[1].replace(/([ABCDEFG0-9])b/g,"$1\u266D"),e[1]=e[1].replace(/([ABCDEFG0-9])#/g,"$1\u266F"),e[1]=e[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2\xB0$3"),e[1]=e[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2\xB0"),e[1]=e[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2\xF8$3"),e[1]=e[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2\u2206$3")),e[2]="default",e[1]=F4.chordName(j,e[1]);return e}return[0,""]},Qte=function(t,n){if(t[n]==="{"){var e=Mn.getBrackettedSubstring(t,n,1,"}");e[2]||Yn("Missing the closing '}' while parsing grace note",t,n),t[n+e[0]]===")"&&(e[0]++,e[1]+=")");for(var i=[],r=0,o=!1;r<e[1].length;){var a=!1;e[1][r]==="/"&&(a=!0,r++);var s=bS(e[1],r,{},!1);s!==null?(s.duration=s.duration/(j.default_length*8),a&&(s.acciaccatura=!0),s.rest?Yn("Rests not allowed as grace notes '"+e[1][r]+"' while parsing grace note",t,n):i.push(s),o&&(s.endTie=!0,o=!1),s.startTie&&(o=!0),r=s.endChar,delete s.endChar,s.end_beam&&(s.endBeam=!0,delete s.end_beam)):(e[1][r]===" "?i.length>0&&(i[i.length-1].endBeam=!0):Yn("Unknown character '"+e[1][r]+"' while parsing grace note",t,n),r++)}if(i.length)return[e[0],i]}return[0]};function Kte(t,n){if(t[n]==="&"){for(var e=n;t[n]&&t[n]!==":"&&t[n]!=="|";)n++;return[n-e,t.substring(e+1,n)]}return[0]}function O4(t){var n=t.origMeter;return!n||n.type!=="specified"||!n.value||n.value.length===0?1:parseInt(n.value[0].num,10)/parseInt(n.value[0].den,10)}var N4=function(t,n){var e=j.macros[t[n]];if(e!==void 0)return(e[0]==="!"||e[0]==="+")&&(e=e.substring(1)),(e[e.length-1]==="!"||e[e.length-1]==="+")&&(e=e.substring(0,e.length-1)),S4.includes(e)?[1,e]:k4.includes(e)?(j.volumePosition==="hidden"&&(e=""),[1,e]):M4.includes(e)?(j.dynamicPosition==="hidden"&&(e=""),[1,e]):(j.ignoredDecorations.includes(e)||Yn("Unknown macro: "+e,t,n),[1,""]);switch(t[n]){case".":if(t[n+1]==="("||t[n+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var i=Mn.getBrackettedSubstring(t,n,5);if(i[1].length>1&&(i[1][0]==="^"||i[1][0]==="_")&&(i[1]=i[1].substring(1)),S4.includes(i[1]))return i;if(k4.includes(i[1]))return j.volumePosition==="hidden"&&(i[1]=""),i;if(M4.includes(i[1]))return j.dynamicPosition==="hidden"&&(i[1]=""),i;var r=T4.findIndex(function(o){return i[1]===o[0]});return r>=0?(i[1]=T4[r][1],i):(r=I4.findIndex(function(o){return i[1]===o[0]}),r>=0?(i[1]=I4[r][1],j.dynamicPosition==="hidden"&&(i[1]=""),i):t[n]==="!"&&(i[0]===1||t[n+i[0]-1]!=="!")?[1,null]:(Yn("Unknown decoration: "+i[1],t,n),i[1]="",i));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"];case"t":return[1,"trillh"]}return[0,0]},Xte=function(t,n){for(var e=n;Mn.isWhiteSpace(t[n]);)n++;return[n-e]},Zte=function(t,n){var e=Mn.getBarLine(t,n);if(e.len===0)return[0,""];if(e.warn)return Yn(e.warn,t,n),[e.len,""];for(var i=0;i<t.length&&t[n+e.len+i]===" ";i++);var r=e.len;if(t[n+e.len+i]==="["&&(e.len+=i+1),t[n+e.len]==='"'&&t[n+e.len-1]==="["){var o=Mn.getBrackettedSubstring(t,n+e.len,5);return[e.len+o[0],e.token,o[1]]}var a=Mn.getTokenOf(t.substring(n+e.len),"1234567890-,");return a.len===0||a.token[0]==="-"?[r,e.token]:[e.len+a.len,e.token,a.token]},Jte=function(t,n){var e={},i=n;for(t[n]==="."&&t[n+1]==="("&&(e.dottedSlur=!0,n++);t[n]==="("||Mn.isWhiteSpace(t[n]);)t[n]==="("&&(n+1<t.length&&t[n+1]>="2"&&t[n+1]<="9"?(e.triplet!==void 0?Yn("Can't nest triplets",t,n):(e.triplet=t[n+1]-"0",e.tripletQ=Gte[e.triplet],e.num_notes=e.triplet,n+2<t.length&&t[n+2]===":"&&(n+3<t.length&&t[n+3]===":"?n+4<t.length&&t[n+4]>="1"&&t[n+4]<="9"?(e.num_notes=t[n+4]-"0",n+=3):Yn("expected number after the two colons after the triplet to mark the duration",t,n):n+3<t.length&&t[n+3]>="1"&&t[n+3]<="9"?(e.tripletQ=t[n+3]-"0",n+4<t.length&&t[n+4]===":"?n+5<t.length&&t[n+5]>="1"&&t[n+5]<="9"&&(e.num_notes=t[n+5]-"0",n+=4):n+=2):Yn("expected number after the triplet to mark the duration",t,n))),n++):e.startSlur===void 0?e.startSlur=1:e.startSlur++),n++;return e.consumed=n-i,e};wS.prototype.startNewLine=function(){var t={startChar:-1,endChar:-1};j.partForNextLine.title&&(t.part=j.partForNextLine),t.clef=j.currentVoice&&j.staves[j.currentVoice.staffNum].clef!==void 0?Object.assign({},j.staves[j.currentVoice.staffNum].clef):Object.assign({},j.clef);var n=j.currentVoice?j.currentVoice.scoreTranspose:0;if(t.key=E4.standardKey(j.key.root+j.key.acc+j.key.mode,j.key.root,j.key.acc,n),t.key.mode=j.key.mode,j.key.impliedNaturals&&(t.key.impliedNaturals=j.key.impliedNaturals),j.key.explicitAccidentals)for(var e=0;e<j.key.explicitAccidentals.length;e++){for(var i=!1,r=0;r<t.key.accidentals.length;r++)t.key.accidentals[r].note===j.key.explicitAccidentals[e].note&&(t.key.accidentals[r].acc=j.key.explicitAccidentals[e].acc,i=!0);i||t.key.accidentals.push(j.key.explicitAccidentals[e])}if(j.targetKey=t.key,t.key.explicitAccidentals&&delete t.key.explicitAccidentals,E4.addPosToKey(t.clef,t.key),j.meter!==null?(j.currentVoice?(j.staves.forEach(function(l){l.meter=j.meter}),t.meter=j.staves[j.currentVoice.staffNum].meter,j.staves[j.currentVoice.staffNum].meter=null):t.meter=j.meter,j.meter=null):j.currentVoice&&j.staves[j.currentVoice.staffNum].meter&&(t.meter=j.staves[j.currentVoice.staffNum].meter,j.staves[j.currentVoice.staffNum].meter=null),j.currentVoice&&j.currentVoice.name&&(t.name=j.currentVoice.name),j.vocalfont&&(t.vocalfont=j.vocalfont),j.tripletfont&&(t.tripletfont=j.tripletfont),j.gchordfont&&(t.gchordfont=j.gchordfont),j.style&&(t.style=j.style),j.currentVoice){var o=j.staves[j.currentVoice.staffNum];o.brace&&(t.brace=o.brace),o.bracket&&(t.bracket=o.bracket),o.connectBarLines&&(t.connectBarLines=o.connectBarLines),o.name&&(t.name=o.name[j.currentVoice.index]),o.subname&&(t.subname=o.subname[j.currentVoice.index]),j.currentVoice.stem&&(t.stem=j.currentVoice.stem),j.currentVoice.stafflines&&(t.stafflines=j.currentVoice.stafflines),j.currentVoice.staffscale&&(t.staffscale=j.currentVoice.staffscale),j.currentVoice.scale&&(t.scale=j.currentVoice.scale),j.currentVoice.color&&(t.color=j.currentVoice.color),j.currentVoice.style&&(t.style=j.currentVoice.style),j.currentVoice.transpose&&(t.clef.transpose=j.currentVoice.transpose),t.currentVoice=j.currentVoice;for(var a=Object.keys(j.voices),s=0;s<a.length;s++)t.currentVoice.staffNum===j.voices[a[s]].staffNum&&t.currentVoice.index===j.voices[a[s]].index&&(t.currentVoiceName=a[s])}j.barNumbers===0&&yS()&&j.currBarNumber!==1&&(t.barNumber=j.currBarNumber),Ro.startNewLine(t),j.key.impliedNaturals&&delete j.key.impliedNaturals,j.partForNextLine={},j.tempoForNextLine.length===4&&Ro.appendElement(j.tempoForNextLine[0],j.tempoForNextLine[1],j.tempoForNextLine[2],j.tempoForNextLine[3]),j.tempoForNextLine=[]};var wp=function(t){return t.duration!==void 0&&t.duration<.25&&(t.end_beam=!0),t},bS=function(t,n,e,i){var r=function(h){return h==="octave"||h==="duration"||h==="Zduration"||h==="broken_rhythm"||h==="end_slur"},o;t[n]==="."&&t[n+1]==="-"&&(o=!0,n++);for(var a="startSlur",s=!1;;){switch(t[n]){case"(":if(a==="startSlur")e.startSlur===void 0?e.startSlur=1:e.startSlur++;else return r(a)?(e.endChar=n,e):null;break;case")":if(r(a))e.endSlur===void 0?e.endSlur=1:e.endSlur++;else return null;break;case"^":if(a==="startSlur")e.accidental="sharp",a="sharp2";else if(a==="sharp2")e.accidental="dblsharp",a="pitch";else return r(a)?(e.endChar=n,e):null;break;case"_":if(a==="startSlur")e.accidental="flat",a="flat2";else if(a==="flat2")e.accidental="dblflat",a="pitch";else return r(a)?(e.endChar=n,e):null;break;case"=":if(a==="startSlur")e.accidental="natural",a="pitch";else return r(a)?(e.endChar=n,e):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(a==="startSlur"||a==="sharp2"||a==="flat2"||a==="pitch"){if(e.pitch=$te[t[n]],e.pitch+=7*(j.currentVoice&&j.currentVoice.octave!==void 0?j.currentVoice.octave:j.octave),e.name=t[n],e.accidental&&(e.name=A4[e.accidental]+e.name),F4.note(j,e),a="octave",i&&j.next_note_duration!==0?(e.duration=j.default_length*j.next_note_duration,j.next_note_duration=0,s=!0):e.duration=j.default_length,j.clef&&j.clef.type==="perc"||j.currentVoice&&j.currentVoice.clef==="perc"){var l=t[n];e.accidental&&(l=A4[e.accidental]+l),Oo.formatting&&Oo.formatting.midi&&Oo.formatting.midi.drummap&&(e.midipitch=Oo.formatting.midi.drummap[l])}}else return r(a)?(e.endChar=n,e):null;break;case",":if(a==="octave")e.pitch-=7,e.name+=",";else return r(a)?(e.endChar=n,e):null;break;case"'":if(a==="octave")e.pitch+=7,e.name+="'";else return r(a)?(e.endChar=n,e):null;break;case"x":case"X":case"y":case"z":case"Z":if(a==="startSlur")e.rest={type:Wte[t[n]]},delete e.accidental,delete e.startSlur,delete e.startTie,delete e.endSlur,delete e.endTie,delete e.end_beam,delete e.grace_notes,e.rest.type.indexOf("multimeasure")>=0?(e.duration=Oo.getBarLength(),e.rest.text=1,a="Zduration"):(i&&j.next_note_duration!==0?(e.duration=j.default_length*j.next_note_duration,j.next_note_duration=0,s=!0):e.duration=j.default_length,a="duration");else return r(a)?(e.endChar=n,e):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(a==="octave"||a==="duration"){var c=Mn.getFraction(t,n);for(e.duration=e.duration*c.value,e.endChar=c.index;c.index<t.length&&(Mn.isWhiteSpace(t[c.index])||t[c.index]==="-");)t[c.index]==="-"?e.startTie={}:e=wp(e),c.index++;n=c.index-1,a="broken_rhythm"}else if(a==="sharp2")e.accidental="quartersharp",a="pitch";else if(a==="flat2")e.accidental="quarterflat",a="pitch";else if(a==="Zduration"){var u=Mn.getNumber(t,n);return e.duration=u.num*Oo.getBarLength(),e.rest.text=u.num,e.endChar=u.index,e}else return null;break;case"-":if(a==="startSlur")Ro.addTieToLastNote(o),e.endTie=!0;else if(a==="octave"||a==="duration"||a==="end_slur")if(e.startTie={},!s&&i)a="broken_rhythm";else return Mn.isWhiteSpace(t[n+1])&&wp(e),e.endChar=n+1,e;else return a==="broken_rhythm"?(e.endChar=n,e):null;break;case" ":case"	":if(r(a)){e.end_beam=!0,o=!1;do t[n]==="."&&t[n+1]==="-"&&(o=!0,n++),t[n]==="-"&&(e.startTie={},o&&(e.startTie.style="dotted")),n++;while(n<t.length&&(Mn.isWhiteSpace(t[n])||t[n]==="-")||t[n]==="."&&t[n+1]==="-");if(e.endChar=n,!s&&i&&(t[n]==="<"||t[n]===">"))n--,a="broken_rhythm";else return e}else return null;break;case">":case"<":if(r(a))if(i){var d=P4(t,n);n+=d[0]-1,j.next_note_duration=d[2],e.duration=d[1]*e.duration,a="end_slur"}else return e.endChar=n,e;else return null;break;default:return r(a)?(e.endChar=n,e):null}if(n++,n===t.length)return r(a)?(e.endChar=n,e):null}return null},P4=function(t,n){switch(t[n]){case">":return n<t.length-2&&t[n+1]===">"&&t[n+2]===">"?[3,1.875,.125]:n<t.length-1&&t[n+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return n<t.length-2&&t[n+1]==="<"&&t[n+2]==="<"?[3,.125,1.875]:n<t.length-1&&t[n+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function yS(){return j.currentVoice===void 0||j.currentVoice.staffNum===0&&j.currentVoice.index===0}L4.exports=wS});var j4=P((lBe,V4)=>{var Ti=Ao(),CS=function(t,n){this.lineIndex=0,this.lines=t,this.multilineVars=n,this.skipWhiteSpace=function(d){for(var h=0;h<d.length;h++)if(!this.isWhiteSpace(d[h]))return h;return d.length};var e=function(d,h){return h>=d.length};this.eatWhiteSpace=function(d,h){for(var f=h;f<d.length;f++)if(!this.isWhiteSpace(d[f]))return f-h;return f-h},this.getKeyPitch=function(d){var h=this.skipWhiteSpace(d);if(e(d,h))return{len:0};switch(d[h]){case"A":return{len:h+1,token:"A"};case"B":return{len:h+1,token:"B"};case"C":return{len:h+1,token:"C"};case"D":return{len:h+1,token:"D"};case"E":return{len:h+1,token:"E"};case"F":return{len:h+1,token:"F"};case"G":return{len:h+1,token:"G"}}return{len:0}},this.getSharpFlat=function(d){if(d==="bass")return{len:0};switch(d[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(d){var h=function(g,v){for(;v<g.length&&(g[v]>="a"&&g[v]<="z"||g[v]>="A"&&g[v]<="Z");)v++;return v},f=this.skipWhiteSpace(d);if(e(d,f))return{len:0};var p=d.substring(f,f+3).toLowerCase();switch((p.length>1&&p[1]===" "||p[1]==="^"||p[1]==="_"||p[1]==="=")&&(p=p[0]),p){case"mix":return{len:h(d,f),token:"Mix"};case"dor":return{len:h(d,f),token:"Dor"};case"phr":return{len:h(d,f),token:"Phr"};case"lyd":return{len:h(d,f),token:"Lyd"};case"loc":return{len:h(d,f),token:"Loc"};case"aeo":return{len:h(d,f),token:"m"};case"maj":return{len:h(d,f),token:""};case"ion":return{len:h(d,f),token:""};case"min":return{len:h(d,f),token:"m"};case"m":return{len:h(d,f),token:"m"}}return{len:0}},this.getClef=function(d,h){var f=d,p=this.skipWhiteSpace(d);if(e(d,p))return{len:0};var g=!1,v=d.substring(p);if(Ti.startsWith(v,"clef=")&&(g=!0,v=v.substring(5),p+=5),v.length===0&&g)return{len:p+5,warn:"No clef specified: "+f};var _=this.skipWhiteSpace(v);if(e(v,_))return{len:0};_>0&&(p+=_,v=v.substring(_));var y=null;if(Ti.startsWith(v,"treble"))y="treble";else if(Ti.startsWith(v,"bass3"))y="bass3";else if(Ti.startsWith(v,"bass"))y="bass";else if(Ti.startsWith(v,"tenor"))y="tenor";else if(Ti.startsWith(v,"alto2"))y="alto2";else if(Ti.startsWith(v,"alto1"))y="alto1";else if(Ti.startsWith(v,"alto"))y="alto";else if(!h&&g&&Ti.startsWith(v,"none"))y="none";else if(Ti.startsWith(v,"perc"))y="perc";else if(!h&&g&&Ti.startsWith(v,"C"))y="tenor";else if(!h&&g&&Ti.startsWith(v,"F"))y="bass";else if(!h&&g&&Ti.startsWith(v,"G"))y="treble";else return{len:p+5,warn:"Unknown clef specified: "+f};return v=v.substring(y.length),_=this.isMatch(v,"+8"),_>0?y+="+8":(_=this.isMatch(v,"-8"),_>0&&(y+="-8")),{len:p+y.length,token:y,explicit:g}},this.getBarLine=function(d,h){switch(d[h]){case"]":switch(++h,d[h]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++h,d[h]>="1"&&d[h]<="9"||d[h]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":switch(++h,d[h]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++h,d[h]){case"]":return++h,d[h]==="|"?(++h,d[h]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"}):{len:3,token:"bar_right_repeat"};case"|":return++h,d[h]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}break;default:return{len:1,warn:"Unknown bar symbol"}}break;case"[":if(++h,d[h]==="|")switch(++h,d[h]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return d[h]>="1"&&d[h]<="9"||d[h]==='"'?{len:1,token:"bar_invisible"}:{len:0};break;case"|":switch(++h,d[h]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++h,d[h]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var f=0;d[h+f]===":";)f++;return{len:1+f,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}break}return{len:0}},this.getTokenOf=function(d,h){for(var f=0;f<d.length;f++)if(h.indexOf(d[f])<0)return{len:f,token:d.substring(0,f)};return{len:f,token:d}},this.getToken=function(d,h,f){for(var p=h;p<f&&!this.isWhiteSpace(d[p]);)p++;return d.substring(h,p)},this.isMatch=function(d,h){var f=this.skipWhiteSpace(d);return e(d,f)?0:Ti.startsWith(d.substring(f),h)?f+h.length:0},this.getPitchFromTokens=function(d){var h={},f={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(h.position=f[d[0].token],h.position===void 0)return{warn:"Pitch expected. Found: "+d[0].token};for(d.shift();d.length;)switch(d[0].token){case",":h.position-=7,d.shift();break;case"'":h.position+=7,d.shift();break;default:return h}return h},this.getKeyAccidentals2=function(d){for(var h;d.length>0;){var f;if(d[0].token==="^"){if(f="sharp",d.shift(),d.length===0)return{accs:h,warn:"Expected note name after "+f};switch(d[0].token){case"^":f="dblsharp",d.shift();break;case"/":f="quartersharp",d.shift();break}}else if(d[0].token==="=")f="natural",d.shift();else if(d[0].token==="_"){if(f="flat",d.shift(),d.length===0)return{accs:h,warn:"Expected note name after "+f};switch(d[0].token){case"_":f="dblflat",d.shift();break;case"/":f="quarterflat",d.shift();break}}else return{accs:h};if(d.length===0)return{accs:h,warn:"Expected note name after "+f};switch(d[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":h===void 0&&(h=[]),h.push({acc:f,note:d[0].token[0]}),d[0].token.length===1?d.shift():d[0].token=d[0].token.substring(1);break;default:return{accs:h,warn:"Expected note name after "+f+" Found: "+d[0].token}}}return{accs:h}},this.getKeyAccidental=function(d){var h={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},f=this.skipWhiteSpace(d);if(e(d,f))return{len:0};var p=null;switch(d[f]){case"^":case"_":case"=":p=d[f];break;default:return{len:0}}if(f++,e(d,f))return{len:1,warn:"Expected note name after accidental"};switch(d[f]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:f+1,token:{acc:h[p],note:d[f]}};case"^":case"_":case"/":if(p+=d[f],f++,e(d,f))return{len:2,warn:"Expected note name after accidental"};switch(d[f]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:f+1,token:{acc:h[p],note:d[f]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(d){return d===" "||d==="	"||d===""},this.getMeat=function(d,h,f){var p=d.indexOf("%",h);for(p>=0&&p<f&&(f=p);h<f&&(d[h]===" "||d[h]==="	"||d[h]==="");)h++;for(;h<f&&(d[f-1]===" "||d[f-1]==="	"||d[f-1]==="");)f--;return{start:h,end:f}};var i=function(d){return d>="A"&&d<="Z"||d>="a"&&d<="z"},r=function(d){return d>="0"&&d<="9"};this.tokenize=function(d,h,f,p){var g=this.getMeat(d,h,f);h=g.start,f=g.end;for(var v=[],_;h<f;){if(d[h]==='"'){for(_=h+1;_<f&&d[_]!=='"';)_++;v.push({type:"quote",token:d.substring(h+1,_),start:h+1,end:_}),_++}else if(i(d[h])){if(_=h+1,p)for(;_<f&&!this.isWhiteSpace(d[_]);)_++;else for(;_<f&&i(d[_]);)_++;v.push({type:"alpha",token:d.substring(h,_),continueId:r(d[_]),start:h,end:_}),h=_+1}else if(d[h]==="."&&r(d[_+1])){_=h+1;for(var y=null,D=null;_<f&&r(d[_]);)_++;D=parseFloat(d.substring(h,_)),v.push({type:"number",token:d.substring(h,_),intt:y,floatt:D,continueId:i(d[_]),start:h,end:_}),h=_+1}else if(r(d[h])||d[h]==="-"&&r(d[_+1])){_=h+1;for(var b=null,C=null;_<f&&r(d[_]);)_++;if(d[_]==="."&&r(d[_+1]))for(_++;_<f&&r(d[_]);)_++;else b=parseInt(d.substring(h,_));C=parseFloat(d.substring(h,_)),v.push({type:"number",token:d.substring(h,_),intt:b,floatt:C,continueId:i(d[_]),start:h,end:_}),h=_+1}else d[h]===" "||d[h]==="	"||v.push({type:"punct",token:d[h],start:h,end:h+1}),_=h+1;h=_}return v},this.getVoiceToken=function(d,h,f){for(var p=h;p<f&&this.isWhiteSpace(d[p])||d[p]==="=";)p++;if(d[p]==='"'){var g=d.indexOf('"',p+1);return g===-1||g>=f?{len:1,err:"Missing close quote"}:{len:g-h+1,token:this.translateString(d.substring(p+1,g))}}else{for(var v=p;v<f&&!this.isWhiteSpace(d[v])&&d[v]!=="=";)v++;return{len:v-h+1,token:d.substring(p,v)}}};var o={"`a":"\xE0","'a":"\xE1","^a":"\xE2","~a":"\xE3",'"a':"\xE4",oa:"\xE5",aa:"\xE5","=a":"\u0101",ua:"\u0103",";a":"\u0105","`e":"\xE8","'e":"\xE9","^e":"\xEA",'"e':"\xEB","=e":"\u0113",ue:"\u0115",";e":"\u0119",".e":"\u0117","`i":"\xEC","'i":"\xED","^i":"\xEE",'"i':"\xEF","=i":"\u012B",ui:"\u012D",";i":"\u012F","`o":"\xF2","'o":"\xF3","^o":"\xF4","~o":"\xF5",'"o':"\xF6","=o":"\u014D",uo:"\u014F","/o":"\xF8","`u":"\xF9","'u":"\xFA","^u":"\xFB","~u":"\u0169",'"u':"\xFC",ou:"\u016F","=u":"\u016B",uu:"\u016D",";u":"\u0173","`A":"\xC0","'A":"\xC1","^A":"\xC2","~A":"\xC3",'"A':"\xC4",oA:"\xC5",AA:"\xC5","=A":"\u0100",uA:"\u0102",";A":"\u0104","`E":"\xC8","'E":"\xC9","^E":"\xCA",'"E':"\xCB","=E":"\u0112",uE:"\u0114",";E":"\u0118",".E":"\u0116","`I":"\xCC","'I":"\xCD","^I":"\xCE","~I":"\u0128",'"I':"\xCF","=I":"\u012A",uI:"\u012C",";I":"\u012E",".I":"\u0130","`O":"\xD2","'O":"\xD3","^O":"\xD4","~O":"\xD5",'"O':"\xD6","=O":"\u014C",uO:"\u014E","/O":"\xD8","`U":"\xD9","'U":"\xDA","^U":"\xDB","~U":"\u0168",'"U':"\xDC",oU:"\u016E","=U":"\u016A",uU:"\u016C",";U":"\u0172",ae:"\xE6",AE:"\xC6",oe:"\u0153",OE:"\u0152",ss:"\xDF","'c":"\u0107","^c":"\u0109",uc:"\u010D",cc:"\xE7",".c":"\u010B",cC:"\xC7","'C":"\u0106","^C":"\u0108",uC:"\u010C",".C":"\u010A","~N":"\xD1","~n":"\xF1","=s":"\u0161",vs:"\u0161",DH:"\xD0",dh:"\xF0",HO:"\u0150",Ho:"\u0151",HU:"\u0170",Hu:"\u0171","'Y":"\xDD","'y":"\xFD","^Y":"\u0176","^y":"\u0177",'"Y':"\u0178",'"y':"\xFF",vS:"\u0160",vZ:"\u017D",vz:"\u017E"},a={"#":"\u266F",b:"\u266D","=":"\u266E"},s={201:"\u266F",202:"\u266D",203:"\u266E",241:"\xA1",242:"\xA2",252:"a",262:"2",272:"o",302:"\xC2",312:"\xCA",322:"\xD2",332:"\xDA",342:"\xE2",352:"\xEA",362:"\xF2",372:"\xFA",243:"\xA3",253:"\xAB",263:"3",273:"\xBB",303:"\xC3",313:"\xCB",323:"\xD3",333:"\xDB",343:"\xE3",353:"\xEB",363:"\xF3",373:"\xFB",244:"\xA4",254:"\xAC",264:"  \u0301",274:"1\u20444",304:"\xC4",314:"\xCC",324:"\xD4",334:"\xDC",344:"\xE4",354:"\xEC",364:"\xF4",374:"\xFC",245:"\xA5",255:"-",265:"\u03BC",275:"1\u20442",305:"\xC5",315:"\xCD",325:"\xD5",335:"\xDD",345:"\xE5",355:"\xED",365:"\xF5",375:"\xFD",246:"\xA6",256:"\xAE",266:"\xB6",276:"3\u20444",306:"\xC6",316:"\xCE",326:"\xD6",336:"\xDE",346:"\xE6",356:"\xEE",366:"\xF6",376:"\xFE",247:"\xA7",257:" \u0304",267:"\xB7",277:"\xBF",307:"\xC7",317:"\xCF",327:"\xD7",337:"\xDF",347:"\xE7",357:"\xEF",367:"\xF7",377:"\xFF",250:" \u0308",260:"\xB0",270:" \u0327",300:"\xC0",310:"\xC8",320:"\xD0",330:"\xD8",340:"\xE0",350:"\xE8",360:"\xF0",370:"\xF8",251:"\xA9",261:"\xB1",271:"1",301:"\xC1",311:"\xC9",321:"\xD1",331:"\xD9",341:"\xE1",351:"\xE9",361:"\xF1",371:"\xF9"};this.translateString=function(d){var h=d.split("\\");if(h.length===1)return d;var f=null;return h.forEach(function(p){if(f===null)f=p;else{var g=o[p.substring(0,2)];g!==void 0?f+=g+p.substring(2):(g=s[p.substring(0,3)],g!==void 0?f+=g+p.substring(3):(g=a[p.substring(0,1)],g!==void 0?f+=g+p.substring(1):f+="\\"+p))}}),f},this.getNumber=function(d,h){for(var f=0;h<d.length;)switch(d[h]){case"0":f=f*10,h++;break;case"1":f=f*10+1,h++;break;case"2":f=f*10+2,h++;break;case"3":f=f*10+3,h++;break;case"4":f=f*10+4,h++;break;case"5":f=f*10+5,h++;break;case"6":f=f*10+6,h++;break;case"7":f=f*10+7,h++;break;case"8":f=f*10+8,h++;break;case"9":f=f*10+9,h++;break;default:return{num:f,index:h}}return{num:f,index:h}},this.getFraction=function(d,h){var f=1,p=1;if(d[h]!=="/"){var g=this.getNumber(d,h);f=g.num,h=g.index}if(d[h]==="/")if(h++,d[h]==="/"){for(var v=.5;d[h++]==="/";)v=v/2;return{value:f*v,index:h-1}}else{var _=h,y=this.getNumber(d,h);y.num===0&&_===h&&(y.num=2),y.num!==0&&(p=y.num),h=y.index}return{value:f/p,index:h}};function l(d){let f=/^(\d+)\./.exec(d);return f?f[1]:null}var c=[{match:/,\s*The$/,replace:"The "},{match:/,\s*the$/,replace:"the "},{match:/,\s*A$/,replace:"A "},{match:/,\s*a$/,replace:"a "},{match:/,\s*An$/,replace:"An "},{match:/,\s*an$/,replace:"an "},{match:/,\s*Da$/,replace:"Da "},{match:/,\s*La$/,replace:"La "},{match:/,\s*Le$/,replace:"Le "},{match:/,\s*Les$/,replace:"Les "},{match:/,\s*Ye$/,replace:"Ye "}];this.theReverser=function(d){for(var h=0;h<c.length;h++){var f=c[h],p=d.match(f.match);if(p){var g=l(d);g&&(d=d.replace(g+".",""),d=d.trim());var v=p[0].length,_=f.replace+d.substring(0,d.length-v);return g&&(_=g+". "+_),_}}return d},this.stripComment=function(d){var h=d.indexOf("%");return h>=0?Ti.strip(d.substring(0,h)):Ti.strip(d)},this.getInt=function(d){var h=parseInt(d);if(isNaN(h))return{digits:0};var f=""+h,p=d.indexOf(f);return{value:h,digits:p+f.length}},this.getFloat=function(d){var h=parseFloat(d);if(isNaN(h))return{digits:0};var f=""+h,p=d.indexOf(f);return{value:h,digits:p+f.length}},this.getMeasurement=function(d){if(d.length===0)return{used:0};var h=1,f="";if(d[0].token==="-")d.shift(),f="-",h++;else if(d[0].type!=="number")return{used:0};if(f+=d.shift().token,d.length===0)return{used:1,value:parseInt(f)};var p=d.shift();if(p.token==="."){if(h++,d.length===0)return{used:h,value:parseInt(f)};if(d[0].type==="number"&&(p=d.shift(),f=f+"."+p.token,h++,d.length===0))return{used:h,value:parseFloat(f)};p=d.shift()}switch(p.token){case"pt":return{used:h+1,value:parseFloat(f)};case"px":return{used:h+1,value:parseFloat(f)};case"cm":return{used:h+1,value:parseFloat(f)/2.54*72};case"in":return{used:h+1,value:parseFloat(f)*72};default:return d.unshift(p),{used:h,value:parseFloat(f)}}};var u=function(d){return d=d.replace(/\\n/g,`
`),d=d.replace(/\\"/g,'"'),d};this.getBrackettedSubstring=function(d,h,f,p){for(var g=p||d[h],v=h+1,_=!1;v<d.length&&(_||d[v]!==g);)_=d[v]==="\\",++v;return d[v]===g?[v-h+1,u(d.substring(h+1,v)),!0]:(v=h+f,v>d.length-1&&(v=d.length-1),[v-h+1,u(d.substring(h+1,v)),!1])}};CS.prototype.peekLine=function(){return this.lines[this.lineIndex]};CS.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var t=this.lines[this.lineIndex];return this.lineIndex++,t}return null};V4.exports=CS});var xS=P((cBe,H4)=>{function ene(t,n,e){if(!(!n||t.lines.length===0)){var i=t.deline({lineBreaks:!1}),r=nne(i,n);t.lines=tne(i,r,e),t.lineBreaks=r}}function tne(t,n,e){for(var i=[],r=[],o=[],a=1,s=0;s<n.length;s++){var l=n[s];if(t[l.ogLine].staff){var c=t[l.ogLine].staff[l.staff];if(i[l.line]||(i[l.line]={staff:[]}),!i[l.line].staff[l.staff]){i[l.line].staff[l.staff]={voices:[]},e!==void 0&&l.staff===0&&l.line>0&&(i[l.line].staff[l.staff].barNumber=a);for(var u=Object.keys(c),d=0;d<u.length;d++){var h=u[d]==="voices";u[d]==="meter"&&l.line!==0&&(h=!0),h||(i[l.line].staff[l.staff][u[d]]=c[u[d]])}r[l.staff]&&(i[l.line].staff[l.staff].key=r[l.staff])}i[l.line].staff[l.staff].voices[l.voice]||(i[l.line].staff[l.staff].voices[l.voice]=[]),i[l.line].staff[l.staff].voices[l.voice]=t[l.ogLine].staff[l.staff].voices[l.voice].slice(l.start,l.end+1),o[l.staff*10+l.voice]&&i[l.line].staff[l.staff].voices[l.voice].unshift({el_type:"stem",direction:o[l.staff*10+l.voice].direction});for(var f=i[l.line].staff[l.staff].voices[l.voice],p=f.length-1;p>=0;p--)if(f[p].el_type==="key"){r[l.staff]={root:f[p].root,acc:f[p].acc,mode:f[p].mode,accidentals:f[p].accidentals.filter(function(v){return v.acc!=="natural"})};break}for(p=f.length-1;p>=0;p--)if(f[p].el_type==="stem"){o[l.staff*10+l.voice]={direction:f[p].direction};break}if(e!==void 0&&l.staff===0&&l.voice===0)for(p=0;p<f.length;p++)f[p].el_type==="bar"&&(a++,p===f.length-1?delete f[p].barNumber:f[p].barNumber=a)}else i[l.line]=t[l.ogLine]}for(var g=0;g<i.length;g++)i[g].staff&&(i[g].staff=i[g].staff.filter(function(v){return v!=null}));return i}function nne(t,n){for(var e=[],i=0,r=0,o=0,a=0;a<t.length;a++){var s=t[a];if(s.staff){var l=r,c=n[i];i++;for(var u=0;u<s.staff.length;u++)for(var d=s.staff[u],h=0;h<d.voices.length;h++){o=l;for(var f=0,p=0,g=d.voices[h],v=0,_=0;_<g.length;_++){var y=g[_];y.el_type==="bar"&&(c[p]===f&&(e.push({ogLine:a,line:o,staff:u,voice:h,start:v,end:_}),v=_+1,o++,r=Math.max(r,o),p++),f++)}e.push({ogLine:a,line:o,staff:u,voice:h,start:v,end:g.length}),o++,r=Math.max(r,o)}}else e.push({ogLine:a,line:o}),o++,r=Math.max(r,o)}return e}function ine(t,n){for(var e=[],i=[],r=0,o=0;o<t.length;o++){var a=t[o],s=r+a;if(s<n)r=s;else{var l=n-r,c=s-n;l<c&&r>0?(e.push(o-1),i.push(Math.round(r-a)),r=a):o<t.length-1&&(e.push(o),i.push(Math.round(r)),r=0)}}return i.push(Math.round(r)),{lineBreaks:e,totals:i}}function cb(t){for(var n=[],e=0;e<t.length;e++)n.push(t[e]);return n}function rne(t,n,e,i,r,o,a,s,l,c,u){for(var d=c;d<t.length;d++){var h=t[d];e+=h,i+=h;var f=Math.abs(e-n[s]),p=Math.abs(f-o)<n[0]/10;if(p)if(f<o){var g=cb(r),v=cb(l);v.push(d-1),g.push(i-h),u.push({accumulator:e,lineAccumulator:h,lineWidths:g,lastVariance:Math.abs(e-n[s+1]),highestVariance:Math.max(a,o),currLine:s+1,lineBreaks:v,startIndex:d+1})}else f>o&&d<t.length-1&&(g=cb(r),v=cb(l),u.push({accumulator:e,lineAccumulator:i,lineWidths:g,lastVariance:f,highestVariance:Math.max(a,f),currLine:s,lineBreaks:v,startIndex:d+1}));f>o?(l.push(d-1),s++,a=Math.max(a,o),o=Math.abs(e-n[s]),r.push(i-h),i=h):o=f}r.push(i)}function one(t,n,e,i){for(var r=Math.ceil(t.total/n),o=Math.floor(t.total/r),a=[],s=0;s<r;s++)a.push(o*(s+1));var l=[];l.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var c=0;c<l.length;)rne(t.measureWidths,a,l[c].accumulator,l[c].lineAccumulator,l[c].lineWidths,l[c].lastVariance,l[c].highestVariance,l[c].currLine,l[c].lineBreaks,l[c].startIndex,l),c++;for(s=0;s<l.length;s++){var u=l[s];u.variances=[],u.aveVariance=0;for(var d=0;d<u.lineWidths.length;d++){var h=u.lineWidths[d];u.variances.push(h-a[0]),u.aveVariance+=Math.abs(h-a[0])}u.aveVariance=u.aveVariance/u.lineWidths.length,i.attempts.push({type:"optimizeLineWidths",lineBreaks:u.lineBreaks,variances:u.variances,aveVariance:u.aveVariance,widths:t.measureWidths})}var f=9999999,p=-1;for(s=0;s<l.length;s++)u=l[s],u.aveVariance<f&&(f=u.aveVariance,p=s);return{failed:!1,lineBreaks:l[p].lineBreaks,variance:l[p].highestVariance}}function ane(t,n,e){for(var i=[],r=[],o=0,a=!1,s=0;s<t.length;s++)o+=t[s],o>n&&(a=!0),s%e===e-1&&(s!==t.length-1&&i.push(s),r.push(Math.round(o)),o=0);return{failed:a,totals:r,lineBreaks:i}}function sne(t,n,e){var i={lineBreaks:t,staffwidth:n};for(var r in e)e.hasOwnProperty(r)&&r!=="wrap"&&r!=="staffwidth"&&(i[r]=e[r]);return{revisedParams:i}}function lne(t,n,e){if(n.length===0||e.staffwidth<n[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:e};var i=e.scale?Math.max(e.scale,.1):1,r=e.wrap.minSpacing?Math.max(parseFloat(e.wrap.minSpacing),1):1,o=e.wrap.minSpacingLimit?Math.max(parseFloat(e.wrap.minSpacingLimit),1):r-.1,a=e.wrap.maxSpacing?Math.max(parseFloat(e.wrap.maxSpacing),1):void 0;e.wrap.lastLineLimit&&!a&&(a=Math.max(parseFloat(e.wrap.lastLineLimit),1));for(var s=e.wrap.preferredMeasuresPerLine?Math.max(parseInt(e.wrap.preferredMeasuresPerLine,10),0):void 0,l=[],c=[],u=0;u<n.length;u++){var d=n[u],h=e.staffwidth-d.left,f=h/r/i,p=h/a/i,g=h/o/i,v={widths:d,lineBreakPoint:f,minLineSize:p,attempts:[],staffWidth:e.staffwidth,minWidth:Math.round(g)},_=null;if(s){var y=ane(d.measureWidths,f,s);v.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:s,lineBreaks:y.lineBreaks,failed:y.failed,totals:y.totals}),y.failed||(_=y.lineBreaks)}if(!_){var D=ine(d.measureWidths,f);v.attempts.push({type:"Free Form",lineBreaks:D.lineBreaks,totals:D.totals}),_=D.lineBreaks,_.length>0&&d.measureWidths.length<25&&(D=one(d,f,_,v),v.attempts.push({type:"Optimize",failed:D.failed,reason:D.reason,lineBreaks:D.lineBreaks,totals:D.totals}),D.failed||(_=D.lineBreaks))}l.push(_),c.push(v)}var b=e.staffwidth,C=sne(l,b,e);return C.explanation=c,C.reParse=!0,C}H4.exports={wrapLines:ene,calcLineWraps:lne}});var $4=P((dBe,q4)=>{function cne(t){let n=t.getMeterFraction(),e=n.num===4&&n.den===4;if(!(n.num===2&&n.den===2)&&!e)throw new Error("notCommonTime");let r=t.deline(),o=[],a=!1;return r.forEach(s=>{if(s.subtitle)a&&o.push({type:"subtitle",subtitle:s.subtitle.text});else if(s.text)a=!0,o.push({type:"text",text:s.text.text});else if(s.staff){a=!0;let l=s.staff,c=dne(l);o=o.concat(c)}}),hne(o),fne(o),pne(o),o}var z4=["break","(break)","no chord","n.c.","tacet"];function dne(t){let n=[],e="",i=[],r={chord:["","","",""]},o="",a="";if(t.forEach((s,l)=>{s.voices&&s.voices.forEach((c,u)=>{let d=0,h=0,f=0;c.forEach(p=>{if(p.el_type==="part")i.length>0&&l===0&&u===0&&(n.push({type:"part",name:e,lines:[i]}),i=[]),e=p.title;else if(p.el_type==="note"){U4(p,r);let g=Math.floor(h);if(p.chord&&p.chord.length>0){let v=p.chord[0],_=v.position==="default"||z4.indexOf(v.name.toLowerCase())>=0?v.name:"";_&&(g>0&&!r.chord[0]&&(r.chord[0]=o),o=_,r.chord[g]?g<4&&!r.chord[g+1]&&(r.chord[g+1]=_):r.chord[g]=_),p.chord.forEach(y=>{y.position!=="default"&&z4.indexOf(v.name.toLowerCase())<0&&(r.annotations||(r.annotations=[]),r.annotations.push(y.name))})}if(!p.rest||p.rest.type!=="spacer"){let v=p.duration===0&&!p.rest?.25:p.duration,_=Math.floor(v*4);if(_>4)f+=Math.floor(_/4),h=0;else{let y=v*4;p.tripletMultiplier&&(y*=p.tripletMultiplier),h+=y}}}else if(p.el_type==="bar"){if(a&&(r.ending=a,a=""),U4(p,r),p.chord&&p.chord.forEach(g=>{g.position!=="default"&&(r.annotations||(r.annotations=[]),r.annotations.push(g.name))}),(p.type==="bar_dbl_repeat"||p.type==="bar_left_repeat")&&(r.hasStartRepeat=!0),(p.type==="bar_dbl_repeat"||p.type==="bar_right_repeat")&&(r.hasEndRepeat=!0),p.startEnding&&(a=p.startEnding),h>=4){if(r.chord[0]===""&&(r.chord[1]||r.chord[2]||r.chord[3])&&(r.chord[0]=une(i)),l===0&&u===0)i.push(r);else{let g=f,v=0;for(;g>=n[v].lines[0].length&&v<n.length;)g-=n[v].lines[0].length,v++;if(v<n.length&&g<n[v].lines[0].length){let _=n[v].lines[0][g];!_.chord[0]&&r.chord[0]&&(_.chord[0]=r.chord[0]),!_.chord[1]&&r.chord[1]&&(_.chord[1]=r.chord[1]),!_.chord[2]&&r.chord[2]&&(_.chord[2]=r.chord[2]),!_.chord[3]&&r.chord[3]&&(_.chord[3]=r.chord[3]),r.annotations&&(_.annotations?_.annotations=_.annotations.concat(r.annotations):_.annotations=r.annotations)}f++}r={chord:["","","",""]}}else r.chord=["","","",""];h=0}else p.el_type}),l===0&&u===0&&n.push({type:"part",name:e,lines:[i]})})}),!o)throw new Error("noChords");return n}function une(t){for(let n=t.length-1;n>=0;n--)for(let e=t[n].chord.length-1;e>=0;e--)if(t[n].chord[e])return t[n].chord[e]}function hne(t){t.forEach(n=>{if(n.type==="part"){let e=n.lines[0],i=e.findIndex(o=>!!o.ending),r=e.findIndex((o,a)=>a>i&&!!o.ending);if(i>=0&&r>=0&&r-i===e.length-r){let o=!0;for(let a=0;a<r-i&&o;a++){let s=e[i+a],l=e[r+a];if(s.chord[0]!==l.chord[0]&&(o=!1),s.chord[1]!==l.chord[1]&&(o=!1),s.chord[2]!==l.chord[2]&&(o=!1),s.chord[3]!==l.chord[3]&&(o=!1),s.annotations&&!l.annotations&&(o=!1),!s.annotations&&l.annotations&&(o=!1),s.annotations&&l.annotations)if(s.annotations.length!==l.annotations.length)o=!1;else for(let c=0;c<s.annotations.length;c++)s.annotations[c]!==l.annotations[c]&&(o=!1)}o&&(delete e[i].ending,e.splice(r,e.length-r))}}})}function fne(t){t.forEach(n=>{if(n.type==="part"){let e=[],i=n.lines[0],r=!1,o=i.findIndex(l=>!!l.hasEndRepeat);(o>=0?Math.min(o+1,i.length):i.length)===12&&(r=!0);let s=r?4:8;for(let l=0;l<i.length;l+=s){let c=i.slice(l,l+s),u=c.findIndex(d=>!!d.hasEndRepeat);u>=0&&u<c.length-1?(e.push(c.slice(0,u+1)),e.push(c.slice(u+1))):e.push(c)}for(let l=0;l<e.length;l++)if(e[l][0].ending){let c=Math.max(0,l-1),u=e[c].length-e[l].length,d=[];for(let h=0;h<u;h++)d.push({noBorder:!0,chord:["","","",""]});e[l]=d.concat(e[l])}n.lines=e}})}function pne(t){t.forEach(n=>{if(n.lines){let e=!1,i="";n.lines.forEach(r=>{r.forEach(o=>{if(!o.noBorder){let a=o.chord;!a[0]&&!a[1]&&!a[2]&&!a[3]?(e?i&&(a[0]="%"):a[0]=i,e=!0):!a[1]&&!a[2]&&!a[3]?(e=!0,i=a[0]):(e=!1,i=a[3]||a[2]||a[1])}})})}})}function U4(t,n){if(t.decoration)for(let e=0;e<t.decoration.length;e++)switch(t.decoration[e]){case"fermata":case"segno":case"coda":case"D.C.":case"D.S.":case"D.C.alcoda":case"D.C.alfine":case"D.S.alcoda":case"D.S.alfine":case"fine":n.annotations||(n.annotations=[]),n.annotations.push(t.decoration[e]);break}}q4.exports=cne});var Hi=P((uBe,W4)=>{var es={};es.FONTEM=360;es.FONTSIZE=30;es.STEP=es.FONTSIZE*93/720;es.SPACE=10;es.TOPNOTE=15;es.STAVEHEIGHT=100;es.INDENT=50;W4.exports=es});var Y4=P((hBe,G4)=>{var mne=Ao();function gne(t){this.sections=[{type:"startRepeat",index:-1}],this.addBar=function(n){var e=t.length-1,i=n.type==="bar_left_repeat"||n.type==="bar_dbl_repeat",r=n.type==="bar_right_repeat"||n.type==="bar_dbl_repeat",o=n.startEnding?bne(n.startEnding):void 0;r&&(this.sections.length>0&&this.sections[this.sections.length-1].type==="endRepeat"&&this.sections.push({type:"startRepeat",index:this.sections[this.sections.length-1].index}),this.sections.push({type:"endRepeat",index:e})),i&&this.sections.push({type:"startRepeat",index:e}),o&&this.sections.push({type:"startEnding",index:e,endings:o})},this.resolveRepeats=function(){var n,e=this.sections[this.sections.length-1],i=t.length-1;if(e.type==="startRepeat"?e.end=i:e.index+1<i&&this.sections.push({type:"startRepeat",index:e.index+1}),this.sections.length<2)return t;for(var r=[],o=null,a=0;a<this.sections.length;a++){var s=this.sections[a];switch(s.type){case"startRepeat":if(o){if(o.common.end||(o.common.end=s.index),o.endings)for(n=0;n<o.endings.length;n++)o.endings[n]&&!o.endings[n].end&&o.endings[n].start!==s.index&&(o.endings[n].end=s.index);this.sections[a-1].type==="endRepeat"&&o.endings&&o.endings.length&&(o.endings[o.endings.length]={start:-1,end:-1}),r.push(o)}if(o){var l=o.common.end;if(o.endings)for(n=0;n<o.endings.length;n++)o.endings[n]&&(l=Math.max(l,o.endings[n].end));l<s.index-1&&r.push({common:{start:l+1,end:s.index}})}o={common:{start:s.index}};break;case"startEnding":{if(o)for(o.common.end||(o.common.end=s.index),o.endings||(o.endings=[]),n=0;n<s.endings.length;n++)o.endings[s.endings[n]]={start:s.index+1};break}case"endRepeat":if(o){if(o.endings||(o.endings=[]),o.endings.length>0)for(n=0;n<o.endings.length;n++)o.endings[n]&&!o.endings[n].end&&(o.endings[n].end=s.index);o.common.end||(o.common.end=s.index)}break}}if(o){if(o.common.end||(o.common.end=i),o.endings)for(n=0;n<o.endings.length;n++)o.endings[n]&&!o.endings[n].end&&(o.endings[n].end=i);r.push(o)}for(var c=[],u=-1,d=0;d<r.length;d++){var h=r[d];if(!h.endings)Cp(t,c,h.common.start,h.common.end);else if(h.endings.length===0)Cp(t,c,h.common.start,h.common.end),Cp(t,c,h.common.start,h.common.end);else for(n=0;n<h.endings.length;n++){var f=h.endings[n];f&&(Cp(t,c,h.common.start,h.common.end),f.start>0&&Cp(t,c,f.start,f.end),u=Math.max(u,f.end))}}return c}}function Cp(t,n,e,i){e<0&&(e=0),n.length>0&&t[e].el_type==="bar"&&n[n.length-1].el_type==="bar"&&e++;for(var r=e;r<=i;r++){var o,a=!1;if(t[r].el_type==="key"||t[r].el_type==="meter"||t[r].el_type==="tempo"||t[r].el_type==="instrument"){for(o=n.length-1;o>=0&&n[o].el_type!==t[r].el_type;)o--;o>=0&&(t[r].el_type==="key"&&_ne(t[r],n[o])||t[r].el_type==="meter"&&t[r].num===n[o].num&&t[r].den===n[o].den||t[r].el_type==="instrument"&&t[r].program===n[o].program||t[r].el_type==="tempo"&&t[r].qpm===n[o].qpm)&&(a=!0)}a||n.push(vne(t[r]))}}function vne(t){var n=Object.assign({},t);return n.pitches&&(n.pitches=mne.cloneArray(n.pitches)),n}function _ne(t,n){return!t.accidentals||!n.accidentals?!1:JSON.stringify(t.accidentals)===JSON.stringify(n.accidentals)}function bne(t){var n=[],e,i,r;if(t.indexOf(",")>0)for(i=t.split(","),r=0;r<i.length;r++)e=parseInt(i[r],10),e>0&&n.push(e);else if(t.indexOf("-")>0){i=t.split("-");var o=parseInt(i[0],10),a=parseInt(i[1],10);for(r=o;r<=a;r++)n.push(r)}else e=parseInt(t,10),e>0&&n.push(e);return n}G4.exports=gne});var ES=P((fBe,K4)=>{var Q4,DS=Ao(),yne=Y4();(function(){"use strict";var t=1,n=128;Q4=function(f,p){p=p||{};var g,v=p.program||0,_=p.midiTranspose||0;f.visualTranspose&&(_-=f.visualTranspose);var y=p.channel||0,D=!1,b=p.drum||"",C=p.drumBars||1,k=p.drumIntro||0,O=b!=="",H=!!p.drumOff,F=[],U=!1,de=50;v=parseInt(v,10),_=parseInt(_,10),y=parseInt(y,10),y===10&&(v=n),b=b.split(" "),C=parseInt(C,10),k=parseInt(k,10);var X=f.formatting.bagpipes;X&&(v=71);var Z=[];if(f.formatting.midi){var me=f.formatting.midi;me.program&&me.program.length>0&&(v=me.program[0],me.program.length>1&&(v=me.program[1],y=me.program[0]),D=!0),me.transpose&&(_=me.transpose[0]),me.channel&&(y=me.channel[0],D=!0),me.drum&&(b=me.drum),me.drumbars&&(C=me.drumbars[0]),me.drumon&&(O=!0),y===10&&(v=n),me.beat&&Z.push({el_type:"beat",beats:me.beat}),me.nobeataccents&&Z.push({el_type:"beataccents",value:!1})}p.qpm?g=parseInt(p.qpm,10):f.metaText.tempo?g=s(f.metaText.tempo,f.getBeatLength()):p.defaultQpm?g=p.defaultQpm:g=180;var we=[];X&&we.push({el_type:"bagpipes"}),we.push({el_type:"instrument",program:v}),y&&we.push({el_type:"channel",channel:y}),_&&we.push({el_type:"transpose",transpose:_}),we.push({el_type:"tempo",qpm:g});for(var oe=0;oe<Z.length;oe++)we.push(Z[oe]);var w=[],T=[],R=[],N=[],J=[0],Ve={};Ve[0]={el_type:"tempo",qpm:g,timing:0};for(var Te,Ae=[],yi=!1,Ii=f.lines,jt=0;jt<Ii.length;jt++){var sn=Ii[jt];if(sn.staff){let pe=function(K){var Se={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},Ue;if(K.decoration){if(K.decoration.indexOf("pppp")>=0?Ue="pppp":K.decoration.indexOf("ppp")>=0?Ue="ppp":K.decoration.indexOf("pp")>=0?Ue="pp":K.decoration.indexOf("p")>=0?Ue="p":K.decoration.indexOf("mp")>=0?Ue="mp":K.decoration.indexOf("mf")>=0?Ue="mf":K.decoration.indexOf("f")>=0?Ue="f":K.decoration.indexOf("ff")>=0?Ue="ff":K.decoration.indexOf("fff")>=0?Ue="fff":K.decoration.indexOf("ffff")>=0&&(Ue="ffff"),Ue){Te=Se[Ue].slice(0);let zo=[Te];Array.isArray(K.decoration)&&(zo=[],K.decoration.forEach(ds=>{ds in Se&&zo.push(Se[ds].slice(0))})),w[ke].push({el_type:"beat",beats:Te.slice(0),volumesPerNotePitch:zo}),R[Tt]=!1,N[Tt]=!1}if(K.decoration.indexOf("crescendo(")>=0){var Et=e(Jt,In,"crescendo)"),ut=Math.min(127,Te[0]+de),ln=i(Jt,In+Et+1,Object.keys(Se));ln&&(ut=Se[ln][0]),Et>0?R[Tt]=Math.floor((ut-Te[0])/Et):R[Tt]=!1,N[Tt]=!1}else if(K.decoration.indexOf("crescendo)")>=0)R[Tt]=!1;else if(K.decoration.indexOf("diminuendo(")>=0){var Hn=e(Jt,In,"diminuendo)"),cn=Math.max(15,Te[0]-de),hr=i(Jt,In+Hn+1,Object.keys(Se));hr&&(cn=Se[hr][0]),R[Tt]=!1,Hn>0?N[Tt]=Math.floor((cn-Te[0])/Hn):N[Tt]=!1}else K.decoration.indexOf("diminuendo)")>=0&&(N[Tt]=!1)}};for(var St=sn.staff,ke=0,Ht=0;Ht<St.length;Ht++){var dt=St[Ht];if(!(dt.clef&&dt.clef.type==="TAB"))for(var Tt=0;Tt<dt.voices.length;Tt++){var Jt=dt.voices[Tt];if(!w[ke]){w[ke]=[].concat(JSON.parse(JSON.stringify(we)));var lr=a(sn.staff,ke);lr&&w[ke].unshift({el_type:"name",trackName:lr}),Ae[ke]=new yne(w[ke])}if(_&&dt.clef.type==="perc"&&w[ke].push({el_type:"transpose",transpose:0}),dt.clef&&dt.clef.type==="perc"&&!D)for(var Ai=0;Ai<w[ke].length;Ai++)w[ke][Ai].el_type==="instrument"&&(w[ke][Ai].program=n);else dt.key&&u(w[ke],dt.key);dt.meter&&d(w[ke],dt.meter),!yi&&O&&(w[ke].push({el_type:"drum",params:{pattern:b,bars:C,on:O,intro:k}}),yi=!0),dt.clef&&dt.clef.type!=="perc"&&dt.clef.transpose&&(dt.clef.el_type="clef",w[ke].push({el_type:"transpose",transpose:dt.clef.transpose}),T[ke]=!1),dt.clef&&dt.clef.type&&(dt.clef.type.indexOf("-8")>=0?(w[ke].push({el_type:"transpose",transpose:-12}),T[ke]=!0):dt.clef.type.indexOf("+8")>=0?(w[ke].push({el_type:"transpose",transpose:12}),T[ke]=!0):T[ke]&&(w[ke].push({el_type:"transpose",transpose:0}),T[ke]=!1)),f.formatting.midi&&f.formatting.midi.drumoff&&(w[ke].push({el_type:"bar"}),w[ke].push({el_type:"drum",params:{pattern:"",on:!1}}));var cr=0,dr=0,ci=0,ur=0;Te=[105,95,85,1];for(var In=0;In<Jt.length;In++){var Fe=Jt[In];switch(Fe.el_type){case"note":if(R[Tt]&&(Te[0]+=R[Tt],Te[1]+=R[Tt],Te[2]+=R[Tt],w[ke].push({el_type:"beat",beats:Te.slice(0)})),N[Tt]&&(Te[0]+=N[Tt],Te[1]+=N[Tt],Te[2]+=N[Tt],w[ke].push({el_type:"beat",beats:Te.slice(0)})),pe(Fe),!Fe.rest||Fe.rest.type!=="spacer"){var zt={elem:Fe,el_type:"note",timing:J[ke]};if(Fe.style?zt.style=Fe.style:F[ke]&&(zt.style=F[ke]),zt.duration=Fe.duration===0?.25:Fe.duration,Fe.startTriplet){if(dr=Fe.tripletMultiplier,ci=Fe.startTriplet*dr*Fe.duration,Fe.startTriplet!==Fe.tripletR&&In+Fe.tripletR<=Jt.length){for(var S=0,I=In;I<In+Fe.tripletR;I++)S+=Jt[I].duration;ci=dr*S}zt.duration=zt.duration*dr,zt.duration=Math.round(zt.duration*1e6)/1e6,ur=zt.duration}else dr&&(Fe.endTriplet?(dr=0,zt.duration=Math.round((ci-ur)*1e6)/1e6):(zt.duration=zt.duration*dr,zt.duration=Math.round(zt.duration*1e6)/1e6,ur+=zt.duration));Fe.rest&&(zt.rest=Fe.rest),Fe.decoration&&(zt.decoration=Fe.decoration.slice(0)),Fe.pitches&&(zt.pitches=DS.cloneArray(Fe.pitches)),Fe.gracenotes&&(zt.gracenotes=DS.cloneArray(Fe.gracenotes)),Fe.chord&&(zt.chord=DS.cloneArray(Fe.chord)),w[ke].push(zt),Fe.style==="rhythm"&&(U=!0,o(w)),cr++,J[ke]+=zt.duration}break;case"key":case"keySignature":u(w[ke],Fe);break;case"meter":d(w[ke],Fe);break;case"clef":Fe.transpose&&w[ke].push({el_type:"transpose",transpose:Fe.transpose}),Fe.type&&(Fe.type.indexOf("-8")>=0?w[ke].push({el_type:"transpose",transpose:-12}):Fe.type.indexOf("+8")>=0&&w[ke].push({el_type:"transpose",transpose:12}));break;case"tempo":g=s(Fe,f.getBeatLength()),w[ke].push({el_type:"tempo",qpm:g,timing:J[ke]}),Ve[""+J[ke]]={el_type:"tempo",qpm:g,timing:J[ke]};break;case"bar":cr>0&&w[ke].push({el_type:"bar"}),pe(Fe),cr=0,Ae[ke].addBar(Fe,ke),U=!1;break;case"style":F[ke]=Fe.head;break;case"timeSignature":w[ke].push(l(Fe));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var V=!1;switch(Fe.cmd){case"drumon":O=!0,V=!0;break;case"drumoff":O=!1,V=!0;break;case"drum":b=Fe.params,V=!0;break;case"drumbars":C=Fe.params[0],V=!0;break;case"drummap":break;case"channel":Fe.params[0]===10&&w[ke].push({el_type:"instrument",program:n});break;case"program":h(w[ke],{el_type:"instrument",program:Fe.params[0]}),D=!0;break;case"transpose":w[ke].push({el_type:"transpose",transpose:Fe.params[0]});break;case"gchordoff":w[ke].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":w[ke].push({el_type:"gchordOn",tacet:!1});break;case"beat":w[ke].push({el_type:"beat",beats:Fe.params});break;case"nobeataccents":w[ke].push({el_type:"beataccents",value:!1});break;case"beataccents":w[ke].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":w[ke].push({el_type:Fe.cmd,volume:Fe.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":w[ke].push({el_type:Fe.cmd,param:Fe.params[0]});break;case"bassprog":case"chordprog":w[ke].push({el_type:Fe.cmd,value:Fe.params[0],octaveShift:Fe.params[1]});break;case"gchordbars":w[ke].push({el_type:Fe.cmd,param:Fe.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",Fe.cmd,Fe)}V&&(w[0].push({el_type:"drum",params:{pattern:b,bars:C,intro:k,on:O}}),yi=!0);break;default:console.log("MIDI: element type "+Fe.el_type+" not handled.")}}ke++,J[ke]||(J[ke]=0)}}}}for(var B=0;B<Ae.length;B++)w[B]=Ae[B].resolveRepeats();if(r(w,Ve),k)for(var q=f.getPickupLength(),Me=0;Me<w.length;Me++){for(var fe=0;w[Me][fe].el_type!=="note"&&w[Me].length>fe;)fe++;if(w[Me].length>fe){for(var I=0;I<k;I++)q===0||I<k-1?(w[Me].splice(fe,0,{el_type:"note",rest:{type:"rest"},duration:t},{el_type:"bar"}),fe+=2):w[Me].splice(fe++,0,{el_type:"note",rest:{type:"rest"},duration:t-q});H&&(O=!1,w[Me].splice(fe++,0,{el_type:"drum",params:{pattern:b,bars:C,intro:k,on:O}}),H=!1)}}return w.length>0&&w[0].length>0&&(w[0][0].pickupLength=f.getPickupLength()),w};function e(f,p,g){for(var v=0,_=p+1;_<f.length;_++)if(f[_].el_type==="note"&&v++,f[_].decoration&&f[_].decoration.indexOf(g)>=0)return v;return v}function i(f,p,g){for(var v=Math.min(f.length,p+3),_=p;_<v;_++)if(f[_].el_type==="note"&&f[_].decoration){for(var y=0;y<f[_].decoration.length;y++)if(g.indexOf(f[_].decoration[y])>=0)return f[_].decoration[y]}return null}function r(f,p){if(!(!p||p.length===0))for(var g=Object.keys(p),v=0;v<f.length;v++)for(var _=f[v],y=p[0]?p[0].qpm:0,D=0;D<_.length;D++){var b=_[D];b.el_type==="tempo"&&(y=b.qpm),g.indexOf(""+b.timing)>=0&&y!==p[""+b.timing].qpm&&(y=p[""+b.timing].qpm,b.el_type==="tempo"?(b.qpm=p[""+b.timing].qpm,D++):(f[v].splice(D,0,{el_type:"tempo",qpm:p[""+b.timing].qpm,timing:b.timing}),D+=2))}}function o(f){for(var p=0;p<f.length;p++)for(var g=f[p],v=g.length-1;v>=0&&g[v].el_type!=="bar";)g[v].noChordVoice=!0,v--}function a(f,p){if(!(!f||f.length<=p||!f[p].title))return f[p].title.join(" ")}function s(f,p){var g=.25;f.duration&&(g=f.duration[0]);var v=60;return f.bpm&&(v=f.bpm),g*v/p}function l(f){var p;switch(f.type){case"common_time":p={el_type:"meter",num:4,den:4},t=4/4;break;case"cut_time":p={el_type:"meter",num:2,den:2},t=2/2;break;case"specified":let _=0;if(f.value&&f.value.length>0&&f.value[0].num.indexOf("+")>0)for(var g=f.value[0].num.split("+"),v=0;v<g.length;v++)_+=parseInt(g[v],10);else _=parseInt(f.value[0].num,10);p={el_type:"meter",num:_,den:f.value[0].den},t=_/parseInt(f.value[0].den,10);break;default:p={el_type:"meter"},t=1}return p}function c(f){for(var p=[],g=0;g<f.length;g++)f[g].acc!=="natural"&&p.push(f[g]);return p}function u(f,p){var g;p.root==="HP"?g={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:g={el_type:"key",accidentals:c(p.accidentals)},h(f,g)}function d(f,p){var g=l(p);h(f,g)}function h(f,p){for(var g=f.length-1;g>=0;g--)if(f[g].el_type===p.el_type){JSON.stringify(f[g])!==JSON.stringify(p)&&f.push(p);return}f.push(p)}})();K4.exports=Q4});var e5=P((pBe,J4)=>{var Tn=function(n,e,i,r){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=n,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!e,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=r,this.tempoChangeFactor=1,this.bassInstrument=i.bassprog&&i.bassprog.length>=1?i.bassprog[0]:0,this.chordInstrument=i.chordprog&&i.chordprog.length>=1?i.chordprog[0]:0,this.bassOctaveShift=i.bassprog&&i.bassprog.length===2?i.bassprog[1]:0,this.chordOctaveShift=i.chordprog&&i.chordprog.length===2?i.chordprog[1]:0,this.boomVolume=i.bassvol&&i.bassvol.length===1?i.bassvol[0]:64,this.chickVolume=i.chordvol&&i.chordvol.length===1?i.chordvol[0]:48,i.gchord&&i.gchord.length>0?this.overridePattern=Z4(i.gchord[0]):this.overridePattern=void 0};Tn.prototype.setMeter=function(t){this.meter=t};Tn.prototype.setTempoChangeFactor=function(t){this.tempoChangeFactor=t};Tn.prototype.setLastBarTime=function(t){this.lastBarTime=t};Tn.prototype.setTranspose=function(t){this.transpose=t};Tn.prototype.setRhythmHead=function(t,n){this.hasRhythmHead=t;var e=[];if(t&&this.lastChord&&this.lastChord.chick)for(var i=0;i<this.lastChord.chick.length;i++){var r=Object.assign({},n.pitches[0]);r.actualPitch=this.lastChord.chick[i],e.push(r)}return e};Tn.prototype.barEnd=function(t){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,SS(t.time)),this.currentChords=[]),this.chordLastBar=this.lastChord};Tn.prototype.gChordOn=function(t){this.chordsOff||(this.gChordTacet=t.tacet)};Tn.prototype.paramChange=function(t){switch(t.el_type){case"gchord":t.param&&t.param.length>0?this.overridePattern=Z4(t.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=t.value,t.octaveShift!=null&&t.octaveShift!=null?this.bassOctaveShift=t.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=t.value,t.octaveShift!=null&&t.octaveShift!=null?this.chordOctaveShift=t.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=t.param;break;case"chordvol":this.chickVolume=t.param;break;default:console.log("unhandled midi param",t)}};Tn.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)};Tn.prototype.addTrack=function(t){this.chordTrackEmpty()||t.push(this.chordTrack)};Tn.prototype.findChord=function(t){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!t.chord||t.chord.length===0)return null;for(var n=0;n<t.chord.length;n++){var e=t.chord[n];if(e.position==="default")return e.name;if(this.breakSynonyms.indexOf(e.name.toLowerCase())>=0)return"break"}return null};Tn.prototype.interpretChord=function(t){if(t.length!==0){if(t==="break")return{chick:[]};var n=t.substring(0,1);if(n==="("){if(t=t.substring(1,t.length-1),t.length===0)return;n=t.substring(0,1)}var e=this.basses[n];if(e){for(var i=this.transpose;i<-8;)i+=12;for(;i>8;)i-=12;e+=i,e<33?e+=12:e>44&&(e-=12);var r=e;e+=this.bassOctaveShift*12;var o=e-5,a;t.length===1&&(a=this.chordNotes(e,""));var s=t.substring(1),l=s.substring(0,1);l==="b"||l==="\u266D"?(r--,e--,o--,s=s.substring(1)):(l==="#"||l==="\u266F")&&(r++,e++,o++,s=s.substring(1));var c=s.split("/");if(a=this.chordNotes(r,c[0]),a.length>=3){var u=a[2]-a[0];o=o+u-7}if(c.length===2){var d=this.basses[c[1].substring(0,1)];if(d){var h=c[1].substring(1),f={"#":1,"\u266F":1,b:-1,"\u266D":-1}[h]||0;e=this.basses[c[1].substring(0,1)]+f+i,e+=this.bassOctaveShift*12,o=e}}return{boom:e,boom2:o,chick:a}}}};Tn.prototype.chordNotes=function(t,n){var e=this.chordIntervals[n];e||(n.slice(0,2).toLowerCase()==="ma"||n[0]==="M"?e=this.chordIntervals.M:n[0]==="m"||n[0]==="-"?e=this.chordIntervals.m:e=this.chordIntervals.M),t+=12,t+=this.chordOctaveShift*12;for(var i=[],r=0;r<e.length;r++)i.push(t+e[r]);return i};Tn.prototype.writeNote=function(t,n,e,i,r,o){t!==void 0&&this.chordTrack.push({cmd:"note",pitch:t,volume:e,start:this.lastBarTime+i*X4(n,this.tempoChangeFactor),duration:X4(r,this.tempoChangeFactor),gap:0,instrument:o})};Tn.prototype.chordTrackEmpty=function(){for(var t=!0,n=0;n<this.chordTrack.length&&t;n++)this.chordTrack[n].cmd==="note"&&(t=!1);return t};Tn.prototype.resolveChords=function(t,n){if(!this.hasRhythmHead){var e=this.meter.num,i=this.meter.den,r=1/i,o=r/2,a=parseInt(e,10)/parseInt(i,10),s=a-(n-t)/this.tempoChangeFactor;Math.abs(s)<1e-5&&(s=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var l=Cne(this.currentChords,8*e/i,r),c=this.overridePattern?this.overridePattern:this.rhythmPatterns[e+"/"+i];if(s){c=[];for(var u=(n-t)/this.tempoChangeFactor*8,d=0;d<u/2;d+=2)c.push("chick"),c.push("")}if(!c){c=[];for(var d=0;d<8*e/i/2;d++)c.push("chick"),c.push("")}for(var h=!0,f=Math.min(c.length,l.length),d=0;d<f;d++){d>0&&l[d-1]&&l[d]&&l[d-1].boom!==l[d].boom&&(h=!0);var p=c[d],g=p.indexOf("boom")>=0,v=!g&&d!==0&&c[0].indexOf("boom")>=0&&(!l[d-1]||l[d-1].boom!==l[d].boom),_=wne(l[d],p,h,v);g&&(h=!1);for(var y=0;y<_.length;y++)this.writeNote(_[y],.125,g||v?this.boomVolume:this.chickVolume,d,o,g||v?this.bassInstrument:this.chordInstrument),v?v=!1:g=!1}}};Tn.prototype.processChord=function(t){if(!this.chordTrackFinished){var n=this.findChord(t);if(n){var e=this.interpretChord(n);if(e){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=e;var i=xne(this.lastBarTime,SS(t.time));this.currentChords.push({chord:this.lastChord,beat:i,start:SS(t.time)})}}}};function wne(t,n,e,i){var r=[];if(!t)return r;n.indexOf("boom")>=0?r.push(e?t.boom:t.boom2):i&&r.push(t.boom);var o=t.chick.length;if(n.indexOf("chick")>=0)for(var a=0;a<o;a++)r.push(t.chick[a]);switch(n){case"DO":r.push(t.chick[0]);break;case"MI":r.push(t.chick[1]);break;case"SOL":r.push(Eu(t,2));break;case"TI":r.push(Eu(t,3));break;case"TOP":r.push(Eu(t,4));break;case"do":r.push(t.chick[0]+12);break;case"mi":r.push(t.chick[1]+12);break;case"sol":r.push(Eu(t,2)+12);break;case"ti":r.push(Eu(t,3)+12);break;case"top":r.push(Eu(t,4)+12);break}return r}function Eu(t,n){var e=Math.floor(n/t.chick.length),i=t.chick[n%t.chick.length];return i+e*12}function Z4(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];switch(i){case"z":n.push("");break;case"2":n.push("");break;case"c":n.push("chick");break;case"b":n.push("boom&chick");break;case"f":n.push("boom");break;case"G":n.push("DO");break;case"H":n.push("MI");break;case"I":n.push("SOL");break;case"J":n.push("TI");break;case"K":n.push("TOP");break;case"g":n.push("do");break;case"h":n.push("mi");break;case"i":n.push("sol");break;case"j":n.push("ti");break;case"k":n.push("top");break}}return n}function Cne(t,n,e){e=e*8;var i=[];if(t.length===0)return i;for(var r=t[0].chord,o=1;o<t.length;o++){for(var a=t[o];i.length<a.beat;)i.push(r);r=a.chord}for(;i.length<n;)i.push(r);return i}function xne(t,n){var e=n-t;return e*8}Tn.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"];Tn.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43};Tn.prototype.chordIntervals={dim:[0,3,6],"\xB0":[0,3,6],"\u02DA":[0,3,6],dim7:[0,3,6,9],"\xB07":[0,3,6,9],"\u02DA7":[0,3,6,9],\u00F87:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7\u266D5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7\u266D5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-\u22069":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7\u266D9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"\u22067":[0,4,7,11],\u03947:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7\u266F5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9\u266F5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]};Tn.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function SS(t){return t/1e6}function X4(t,n){return Math.round(t*n*1e6)/1e6}J4.exports=Tn});var kS=P((mBe,t5)=>{var Dne={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function Ene(t){var n=(t.accidental?t.accidental[0]:"x")+t.verticalPos;return Dne[n]}t5.exports=Ene});var o5=P((gBe,r5)=>{var i5,Sne=e5(),n5=kS();(function(){"use strict";var t,n,e,i,r,o,a,s=1,l,c,u,d,h,f,p,g={num:4,den:4},v=128,_,y=!0,D=105,b=95,C=85,k=[[D,b,C]],O=.25,H,F,U=0,de,X,Z={},me,we=0,oe,w=0,T=-.001,R=.4;i5=function(S,I,V,B){I||(I={}),B||(B={}),t=[],n=[0,0,0,0,0,0,0],i=!1,r=[],o=I.qpm,a=void 0,s=1,l=void 0,c=void 0,u=void 0,h=void 0,f=0,oe=V,g={num:4,den:4},y=!0,D=105,b=95,C=85,k=[],O=.25,H=void 0,F=void 0,U=0,de=[],X=!1,Z={},me=1,S.length>0&&S[0].length>0&&(we=S[0][0].pickupLength),I.bassprog!==void 0&&!B.bassprog&&(B.bassprog=[I.bassprog]),I.bassvol!==void 0&&!B.bassvol&&(B.bassvol=[I.bassvol]),I.chordprog!==void 0&&!B.chordprog&&(B.chordprog=[I.chordprog]),I.chordvol!==void 0&&!B.chordvol&&(B.chordvol=[I.chordvol]),I.gchord!==void 0&&!B.gchord&&(B.gchord=[I.gchord]),p=new Sne(S.length,I.chordsOff,B,g),Te(S,I);for(var q=0;q<S.length;q++){e=0,p.setTranspose(e),d=-1;var Me=S[q];u=[{cmd:"program",channel:q,instrument:l}],h=void 0,_=0,p.setLastBarTime(0);var fe=!1;(I.voicesOff===!0||I.voicesOff&&I.voicesOff.length&&I.voicesOff.indexOf(q)>=0)&&(fe=!0);for(var pe=0;pe<Me.length;pe++){var K=Me[pe];switch(K.el_type){case"name":h={cmd:"text",type:"name",text:K.trackName};break;case"note":St(K,fe);break;case"key":n=Tt(K);break;case"meter":a||(a=K),g=K,p.setMeter(g),O=Ae(g),In();break;case"tempo":o?s=K.qpm?o/K.qpm:1:o=K.qpm,p.setTempoChangeFactor(s);break;case"transpose":e=K.transpose,p.setTranspose(e);break;case"bar":p.barEnd(K),t=[],q===0&&Fe(S.length+1),p.setRhythmHead(!1),_=J(K.time),p.setLastBarTime(_);break;case"bagpipes":i=!0;break;case"instrument":if(l===void 0&&(l=K.program),c=K.program,u.length>0&&u[u.length-1].cmd==="program")u[u.length-1].instrument=K.program;else{var Se;for(Se=u.length-1;Se>=0&&u[Se].cmd!=="program";Se--);(Se<0||u[Se].instrument!==K.program)&&u.push({cmd:"program",channel:0,instrument:K.program})}break;case"channel":N(K.channel);break;case"drum":Z=ur(K.params),In();break;case"gchordOn":p.gChordOn(K);break;case"beat":D=K.beats[0],b=K.beats[1],C=K.beats[2],K.volumesPerNotePitch?k=K.volumesPerNotePitch:k=[];break;case"vol":H=K.volume;break;case"volinc":F=K.volume;break;case"beataccents":y=K.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":p.paramChange(K);break;default:console.log("MIDI creation. Unknown el_type: "+K.el_type+`
`);break}}u[0].instrument===void 0&&(u[0].instrument=l||0),h&&u.unshift(h),r.push(u),p.finish(),de.length>0&&(X=!0)}return I.detuneOctave&&zt(r,parseInt(I.detuneOctave,10)),p.addTrack(r),de.length>0&&r.push(de),{tempo:o,instrument:l,tracks:r,totalDuration:f}};function N(S){for(var I=u.length-1;I>=0;I--)if(u[I].cmd==="program"){u[I].channel=S;return}}function J(S){return S/1e6}function Ve(S){return Math.round(S*s*1e6)/1e6}function Te(S,I){for(var V=0;V<S.length;V++){for(var B=S[V],q={},Me=I.qpm,fe=0,pe=1,K=0;K<B.length;K++){var Se=B[K];if(Se.el_type==="tempo"){Me?pe=Se.qpm?Me/Se.qpm:1:Me=Se.qpm;continue}Se.time=fe;var Ue=Se.duration?Se.duration:0;if(fe+=Math.round(Ue*pe*1e6),Se.pitches){for(var Et=0;Et<Se.pitches.length;Et++){var ut=Se.pitches[Et];if(ut){if(ut.duration=Se.duration,ut.startTie)q[ut.pitch]===void 0?q[ut.pitch]={el:K,pitch:Et}:(B[q[ut.pitch].el].pitches[q[ut.pitch].pitch].duration+=ut.duration,Se.pitches[Et]=null);else if(ut.endTie){var ln=q[ut.pitch];if(ln){var Hn=ut.duration;delete B[ln.el].pitches[ln.pitch].startTie,B[ln.el].pitches[ln.pitch].duration+=Hn,Se.pitches[Et]=null,delete q[ut.pitch]}else delete ut.endTie}}}delete Se.duration}}for(var cn in q)if(q.hasOwnProperty(cn)){var hr=q[cn];delete B[hr.el].pitches[hr.pitch].startTie}}}function Ae(S){switch(parseInt(S.den,10)){case 2:return .5;case 4:return .25;case 8:return S.num%3===0?.375:.125;case 16:return .125}return .25}function yi(S,I,V){var B=V-S;return B/I}function Ii(S,I,V){if(I)return 0;let B=D,q=b,Me=C;V!==void 0&&k.length>=V+1&&(B=k[V][0],q=k[V][1],Me=k[V][2]);var fe;if(H!==void 0)fe=H,H=void 0;else if(!y)fe=q;else if(we>S)fe=Me;else{var pe=yi(_,Ae(g),S);pe===0?fe=B:parseInt(pe,10)===pe?fe=q:fe=Me}return F&&(fe+=F,F=void 0),fe<0&&(fe=0),fe>127&&(fe=127),I?0:fe}function jt(S,I){var V={};if(S.decoration)for(var B=0;B<S.decoration.length;B++)S.decoration[B]==="staccato"?V.thisBreakBetweenNotes="staccato":S.decoration[B]==="tenuto"?V.thisBreakBetweenNotes="tenuto":S.decoration[B]==="accent"?V.velocity=Math.min(127,I*1.5):S.decoration[B]==="trill"?V.noteModification="trill":S.decoration[B]==="lowermordent"?V.noteModification="lowermordent":S.decoration[B]==="uppermordent"?V.noteModification="pralltriller":S.decoration[B]==="mordent"?V.noteModification="mordent":S.decoration[B]==="turn"?V.noteModification="turn":S.decoration[B]==="roll"?V.noteModification="roll":S.decoration[B]==="pralltriller"?V.noteModification="pralltriller":S.decoration[B]==="trillh"&&(V.noteModification="trillh");return V}function sn(S,I){var V,B,q=I.start,Me,fe=I.duration,pe=Ve(1/32);switch(S){case"trill":for(var K=2;fe>0;)u.push({cmd:"note",pitch:I.pitch+K,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),K=K===2?0:2,fe-=pe,q+=pe;break;case"trillh":for(var K=1;fe>0;)u.push({cmd:"note",pitch:I.pitch+K,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),K=K===1?0:1,fe-=pe,q+=pe;break;case"pralltriller":u.push({cmd:"note",pitch:I.pitch,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),fe-=pe,q+=pe,u.push({cmd:"note",pitch:I.pitch+2,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),fe-=pe,q+=pe,u.push({cmd:"note",pitch:I.pitch,volume:I.volume,start:q,duration:fe,gap:0,instrument:c});break;case"mordent":case"lowermordent":u.push({cmd:"note",pitch:I.pitch,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),fe-=pe,q+=pe,u.push({cmd:"note",pitch:I.pitch-2,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),fe-=pe,q+=pe,u.push({cmd:"note",pitch:I.pitch,volume:I.volume,start:q,duration:fe,gap:0,instrument:c});break;case"turn":pe=I.duration/4,u.push({cmd:"note",pitch:I.pitch+2,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),u.push({cmd:"note",pitch:I.pitch,volume:I.volume,start:q+pe,duration:pe,gap:0,instrument:c,style:"decoration"}),u.push({cmd:"note",pitch:I.pitch-1,volume:I.volume,start:q+pe*2,duration:pe,gap:0,instrument:c,style:"decoration"}),u.push({cmd:"note",pitch:I.pitch,volume:I.volume,start:q+pe*3,duration:pe,gap:0,instrument:c,style:"decoration"});break;case"roll":for(;fe>0;)u.push({cmd:"note",pitch:I.pitch,volume:I.volume,start:q,duration:pe,gap:0,instrument:c,style:"decoration"}),fe-=pe*2,q+=pe*2;break}}function St(S,I){var V=Ii(J(S.time),I);p.processChord(S);var B;if(S.gracenotes&&S.pitches&&S.pitches.length>0&&S.pitches[0]&&(B=Jt(S.gracenotes,S.pitches[0].duration),S.elem&&(S.elem.midiGraceNotePitches=lr(B,J(S.time),V*2/3,c))),S.elem){var q=J(S.time),Me=q/O/o*60*1e3;if(S.elem.currentTrackMilliseconds===void 0)S.elem.currentTrackMilliseconds=Me,S.elem.currentTrackWholeNotes=q;else if(S.elem.currentTrackMilliseconds.length===void 0)S.elem.currentTrackMilliseconds!==Me&&(S.elem.currentTrackMilliseconds=[S.elem.currentTrackMilliseconds,Me],S.elem.currentTrackWholeNotes=[S.elem.currentTrackWholeNotes,q]);else{for(var fe=!1,pe=0;pe<S.elem.currentTrackMilliseconds.length;pe++)S.elem.currentTrackMilliseconds[pe]===Me&&(fe=!0);fe||(S.elem.currentTrackMilliseconds.push(Me),S.elem.currentTrackWholeNotes.push(q))}}if(S.pitches){var K="",Se=jt(S,V);Se.thisBreakBetweenNotes&&(K=Se.thisBreakBetweenNotes),Se.velocity&&(V=Se.velocity);var Ue=S.pitches;S.style==="rhythm"&&(Ue=p.setRhythmHead(!0,S)),S.elem&&(S.elem.midiPitches=[]);for(var Et=0;Et<Ue.length;Et++){let ds=V;!Se.velocity&&Array.isArray(S.decoration)&&S.decoration.length>Et&&(ds=Ii(J(S.time),I,Et));var ut=Ue[Et];if(ut){ut.startSlur&&(U+=ut.startSlur.length),ut.endSlur&&(U-=ut.endSlur.length);var ln=ut.actualPitch?ut.actualPitch:dt(ut);if(c===v&&oe){var Hn=n5(ut);Hn&&oe[Hn]&&(ln=oe[Hn].sound)}var cn={cmd:"note",pitch:ln,volume:ds,start:J(S.time),duration:Ve(ut.duration),instrument:c,startChar:S.elem.startChar,endChar:S.elem.endChar};if(cn=cr(cn),S.gracenotes&&(cn.duration=cn.duration/2,cn.start=cn.start+cn.duration),S.elem&&S.elem.midiPitches.push(cn),Se.noteModification)sn(Se.noteModification,cn);else{switch(U>0?cn.endType="tenuto":K&&(cn.endType=K),cn.endType){case"tenuto":cn.gap=T;break;case"staccato":var hr=cn.duration*R;cn.gap=o/60*hr;break;default:cn.gap=w;break}u.push(cn)}}}d=u.length-1}var zo=ke(S);f=Math.max(f,J(S.time)+Ve(zo))}function ke(S){return S.pitches&&S.pitches.length>0&&S.pitches[0]?S.pitches[0].duration:S.elem?S.elem.duration:S.duration}var Ht=[0,2,4,5,7,9,11];function dt(S){if(S.midipitch!==void 0)return S.midipitch;var I=S.pitch;if(S.accidental)switch(S.accidental){case"sharp":t[I]=1;break;case"flat":t[I]=-1;break;case"natural":t[I]=0;break;case"dblsharp":t[I]=2;break;case"dblflat":t[I]=-2;break;case"quartersharp":t[I]=.25;break;case"quarterflat":t[I]=-.25;break}var V=dr(I)*12+Ht[ci(I)]+60;return t[I]!==void 0?V+=t[I]:V+=n[ci(I)],V+=e,V}function Tt(S){var I=[0,0,0,0,0,0,0];if(!S.accidentals)return I;for(var V=0;V<S.accidentals.length;V++){var B=S.accidentals[V],q;switch(B.acc){case"flat":q=-1;break;case"quarterflat":q=-.25;break;case"sharp":q=1;break;case"quartersharp":q=.25;break;default:q=0;break}var Me=B.note.toLowerCase(),fe=ci(Me.charCodeAt(0)-99);I[fe]+=q}return I}function Jt(S,I){for(var V=0,B=[],q,Me=0;Me<S.length;Me++)q=S[Me],V+=q.duration;var fe=I/2/V;for(Me=0;Me<S.length;Me++){q=S[Me];var pe=dt(q);if(c===v&&oe){var K=n5(q);K&&oe[K]&&(pe=oe[K].sound)}var Se={pitch:pe,duration:q.duration*fe};Se=cr(Se),B.push(Se)}return B}function lr(S,I,V,B){var q=[];V=Math.round(V);for(var Me=0;Me<S.length;Me++){var fe=S[Me];u.push({cmd:"note",pitch:fe.pitch,volume:V,start:I,duration:fe.duration,gap:0,instrument:B,style:"grace"}),q.push({pitch:fe.pitch,durationInMeasures:fe.duration,volume:V,instrument:B}),I+=fe.duration}return q}var Ai=.02930223664349;function cr(S){var I=""+S.pitch;return I.indexOf(".75")>=0?(S.pitch=Math.round(S.pitch),S.cents=-50):I.indexOf(".25")>=0&&(S.pitch=Math.round(S.pitch),S.cents=50),S}function dr(S){return Math.floor(S/7)}function ci(S){return S=S%7,S<0&&(S+=7),S}function ur(S){if(S.pattern.length===0||S.on===!1)return{on:!1};for(var I=S.pattern[0],V=[],B="",q=0,Me=0;Me<I.length;Me++)if(I[Me]==="d"&&q++,I[Me]==="d"||I[Me]==="z")B.length!==0?(V.push(B),B=I[Me]):B=B+I[Me];else{if(B.length===0)return{on:!1};B=B+I[Me]}if(B.length!==0&&V.push(B),S.pattern.length!==q*2+1)return{on:!1};for(var fe={on:!0,bars:S.bars,pattern:[]},pe=Ae(g),K=0,Se=0;Se<V.length;Se++){B=V[Se];for(var Ue=1,Et=!1,ut=0,ln=1;ln<B.length;ln++)switch(B[ln]){case"/":ut!==0&&(Ue*=ut),ut=0,Et=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ut=ut*10+B[ln];break;default:return{on:!1}}Et?(ut===0&&(ut=2),Ue/=ut):ut&&(Ue*=ut),B[0]==="d"?(fe.pattern.push({len:Ue*pe,pitch:S.pattern[1+K],velocity:S.pattern[1+K+q]}),K++):fe.pattern.push({len:Ue*pe,pitch:null})}return me=S.bars?S.bars:1,fe}function In(){if(!(!Z||!Z.pattern)){for(var S=Z,I=0,V=g.num/g.den,B=0;B<S.pattern.length;B++)I+=S.pattern[B].len;var q=I/me/V;for(B=0;B<S.pattern.length;B++)S.pattern[B].len=S.pattern[B].len/q;Z=S}}function Fe(S){if(!(de.length===0&&!Z.on)){var I=g.num/g.den;if(de.length===0){if(f<I)return;de.push({cmd:"program",channel:S,instrument:v})}if(Z.on)for(var V=_,B=0;B<Z.pattern.length;B++){var q=Ve(Z.pattern[B].len);Z.pattern[B].pitch&&de.push({cmd:"note",pitch:Z.pattern[B].pitch,volume:Z.pattern[B].velocity,start:V,duration:q,gap:0,instrument:v}),V+=q}}}function zt(S,I){for(var V={},B=0;B<S.length;B++)for(var q=0;q<S[B].length;q++){var Me=S[B][q];Me.cmd==="note"&&(V[Me.start]===void 0&&(V[Me.start]=[]),V[Me.start].push({track:B,event:q,pitch:Me.pitch}))}var fe=Object.keys(V);for(B=0;B<fe.length;B++){var pe=V[fe[B]];if(pe.length>1){pe=pe.sort(function(ut,ln){return ut.pitch-ln.pitch});var K=pe[pe.length-1],Se=K.pitch%12,Ue=!1;for(q=0;!Ue&&q<pe.length-1;q++)pe[q].pitch%12===Se&&(Ue=!0);if(Ue){var Et=S[K.track][K.event];Et.cents||(Et.cents=0),Et.cents+=I}}}}})();r5.exports=i5});var c5=P((vBe,l5)=>{function kne(t,n){n||(n={});for(var e=!!n.lineBreaks,i=[],r=!1,o=[],a=[],s=[],l=[],c=[],u=[],d=[],h=0;h<t.length;h++){var f=s5(t[h]);if(f.staff){if(r&&!f.vskip)for(var p=i[i.length-1],g=0;g<p.staff.length;g++){var v=f.staff[g],_=p.staff[g];if(v&&(wc(v.meter,o[g])||(Mne(v.meter,v.voices),o[g]=v.meter,delete v.meter),wc(v.key,a[g])||(Tne(v.key,v.voices),a[g]=v.key,delete v.key),v.title&&(_.abbrevTitle=v.title),wc(v.clef,s[g])||(Ine(v.clef,v.voices),s[g]=v.clef,delete v.clef),wc(v.vocalfont,l[g])||(db(v.vocalfont,v.voices,"vocalfont"),l[g]=v.vocalfont,delete v.vocalfont),wc(v.gchordfont,c[g])||(db(v.gchordfont,v.voices,"gchordfont"),c[g]=v.gchordfont,delete v.gchordfont),wc(v.tripletfont,u[g])||(db(v.tripletfont,v.voices,"tripletfont"),u[g]=v.tripletfont,delete v.tripletfont),wc(v.annotationfont,d[g])||(db(v.annotationfont,v.voices,"annotationfont"),d[g]=v.annotationfont,delete v.annotationfont)),v)for(var y=0;y<_.voices.length;y++){var D=_.voices[y],b=v.voices[y];e&&D.push({el_type:"break"}),b&&(_.voices[y]=D.concat(b))}}else{for(var C=0;C<f.staff.length;C++)a[C]=f.staff[C].key,o[C]=f.staff[C].meter,s[C]=f.staff[C].clef;i.push(s5(f))}r=!0}else r=!1,i.push(f)}return i}function a5(t,n){return t==="abselem"?"abselem":n}function Mne(t,n){t.el_type="meter",t.startChar=-1,t.endChar=-1;for(var e=0;e<n.length;e++)n[e].unshift(t)}function Tne(t,n){t.el_type="key",t.startChar=-1,t.endChar=-1;for(var e=0;e<n.length;e++)n[e].unshift(t)}function Ine(t,n){t.el_type="clef",t.startChar=-1,t.endChar=-1;for(var e=0;e<n.length;e++)n[e].unshift(t)}function db(t,n,e){t.el_type="font",t.type=e,t.startChar=-1,t.endChar=-1;for(var i=0;i<n.length;i++)n[i].unshift(t)}function wc(t,n){if(!t)return!0;var e=JSON.stringify(t,a5),i=JSON.stringify(n,a5);return e===i}function s5(t){for(var n={},e=Object.keys(t),i=0;i<e.length;i++)if(e[i]!=="staff")n[e[i]]=t[e[i]];else{n.staff=[];for(var r=0;r<t.staff.length;r++){for(var o={},a=Object.keys(t.staff[r]),s=0;s<a.length;s++)if(a[s]!=="voices")o[a[s]]=t.staff[r][a[s]];else{o.voices=[];for(var l=0;l<t.staff[r].voices.length;l++)o.voices.push([].concat(t.staff[r].voices[l]))}n.staff.push(o)}}return n}l5.exports=kne});var MS=P((_Be,h5)=>{var d5=Ao(),u5=Hi(),Ane=ES(),Rne=o5(),One=c5(),Nne=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function t(a,s,l,c){for(var u=0;u<c.length;u++)a[l][c[u]]=s[l][c[u]]}this.copyTopInfo=function(a){var s=["tempo","title","header","rhythm","origin","composer","author","partOrder"];t(this,a,"metaText",s),t(this,a,"metaTextInfo",s)},this.copyBottomInfo=function(a){var s=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];t(this,a,"metaText",s),t(this,a,"metaTextInfo",s)},this.getBeatLength=function(){var a=this.getMeterFraction(),s=1;return a.num===6||a.num===9||a.num===12||a.num===3&&a.den===8?s=3:a.den===8&&(a.num===5||a.num===7)&&(s=2),s/a.den};function n(a,s){for(var l=0,c=0;c<a.length;c++)if(a[c].staff)for(var u=0;u<a[c].staff.length;u++)for(var d=0;d<a[c].staff[u].voices.length;d++)for(var h=a[c].staff[u].voices[d],f=1,p=0;p<h.length;p++){var g=h[p].rest&&h[p].rest.type==="spacer";if(h[p].startTriplet&&(f=h[p].tripletMultiplier),h[p].duration&&!g&&h[p].el_type!=="tempo"&&(l+=h[p].duration*f),h[p].endTriplet&&(f=1),l>=s&&(l-=s),h[p].el_type==="bar")return l}return l}this.getPickupLength=function(){var a=this.getBarLength(),s=n(this.lines,a);return s<1e-8||a-s<1e-8?0:s},this.getBarLength=function(){var a=this.getMeterFraction();return a.num/a.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(a){var s;if(a)s=a;else{var l=this.metaText?this.metaText.tempo:null;s=this.getBpm(l)}s<=0&&(s=1);var c=this.getBeatsPerMeasure(),u=c/s;return u*6e4},this.getBeatsPerMeasure=function(){var a=this.getBeatLength(),s=this.getBarLength();return s/a},this.getMeter=function(){for(var a=0;a<this.lines.length;a++){var s=this.lines[a];if(s.staff)for(var l=0;l<s.staff.length;l++){var c=s.staff[l].meter;if(c)return c}}return{type:"common_time"}},this.getMeterFraction=function(){var a=this.getMeter(),s=4,l=4;if(a)if(a.type==="specified"){if(a.value&&a.value.length>0&&a.value[0].num.indexOf("+")>0){var c=a.value[0].num.split("+");s=0;for(var u=0;u<c.length;u++)s+=parseInt(c[u],10)}else s=parseInt(a.value[0].num,10);l=parseInt(a.value[0].den,10)}else a.type==="cut_time"?(s=2,l=2):a.type==="common_time"&&(s=4,l=4);return this.meter={num:s,den:l},this.meter},this.getKeySignature=function(){for(var a=0;a<this.lines.length;a++){var s=this.lines[a];if(s.staff){for(var l=0;l<s.staff.length;l++)if(s.staff[l].key)return s.staff[l].key}}return{}},this.getElementFromChar=function(a){for(var s=0;s<this.lines.length;s++){var l=this.lines[s];if(l.staff)for(var c=0;c<l.staff.length;c++)for(var u=l.staff[c],d=0;d<u.voices.length;d++)for(var h=u.voices[d],f=0;f<h.length;f++){var p=h[f];if(p.startChar&&p.endChar&&p.startChar<=a&&p.endChar>a)return p}}return null};function e(a){for(var s,l,c,u,d=a.length-1;d>=0;d--){var h=a[d];h.type==="bar"?(h.top=c,h.nextTop=s,s=c,h.bottom=u,h.nextBottom=l,l=u):h.type==="event"&&(c=h.top,u=h.top+h.height)}}function i(a){var s=[];for(var l in a)a.hasOwnProperty(l)&&s.push(a[l]);return s=s.sort(function(c,u){var d=c.milliseconds-u.milliseconds;return d!==0?d:c.type==="bar"?-1:1}),s}this.addElementToEvents=function(a,s,l,c,u,d,h,f,p,g){if(s.hint)return{isTiedState:void 0,duration:0};var v=s.durationClass?s.durationClass:s.duration;if(s.abcelem.rest&&s.abcelem.rest.type==="spacer"&&(v=0),v>0){for(var _=[],y=0;y<s.elemset.length;y++)s.elemset[y]!==null&&_.push(s.elemset[y]);var D=s.startTie;if(p!==void 0)a["event"+p].elements.push(_),g&&(a["event"+l]||(a["event"+l]={type:"event",milliseconds:l,line:d,measureNumber:h,top:c,height:u,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),a["event"+l].measureStart=!0,g=!1),D||(p=void 0);else{if(!a["event"+l])a["event"+l]={type:"event",milliseconds:l,line:d,measureNumber:h,top:c,height:u,left:s.x,width:s.w,elements:[_],startChar:s.abcelem.startChar,endChar:s.abcelem.endChar,startCharArray:[s.abcelem.startChar],endCharArray:[s.abcelem.endChar],midiPitches:s.abcelem.midiPitches?d5.cloneArray(s.abcelem.midiPitches):[]},s.abcelem.midiGraceNotePitches&&(a["event"+l].midiGraceNotePitches=d5.cloneArray(s.abcelem.midiGraceNotePitches));else{if(a["event"+l].left?a["event"+l].left=Math.min(a["event"+l].left,s.x):a["event"+l].left=s.x,a["event"+l].elements.push(_),a["event"+l].startCharArray.push(s.abcelem.startChar),a["event"+l].endCharArray.push(s.abcelem.endChar),a["event"+l].startChar===null&&(a["event"+l].startChar=s.abcelem.startChar),a["event"+l].endChar===null&&(a["event"+l].endChar=s.abcelem.endChar),s.abcelem.midiPitches&&s.abcelem.midiPitches.length){a["event"+l].midiPitches||(a["event"+l].midiPitches=[]);for(var y=0;y<s.abcelem.midiPitches.length;y++)a["event"+l].midiPitches.push(s.abcelem.midiPitches[y])}if(s.abcelem.midiGraceNotePitches&&s.abcelem.midiGraceNotePitches.length){a["event"+l].midiGraceNotePitches||(a["event"+l].midiGraceNotePitches=[]);for(var b=0;b<s.abcelem.midiGraceNotePitches.length;b++)a["event"+l].midiGraceNotePitches.push(s.abcelem.midiGraceNotePitches[b])}}g&&(a["event"+l].measureStart=!0,g=!1)}}return{isTiedState:p,duration:v/f,nextIsBar:g||s.type==="bar"}},this.makeVoicesArray=function(){for(var a=[],s=[],l={},c=0;c<this.engraver.staffgroups.length;c++){var u=this.engraver.staffgroups[c];if(u&&u.staffs&&u.staffs.length>0){var d=u.staffs[0],h=d.absoluteY,f=h-d.top*u5.STEP,p=u.staffs[u.staffs.length-1];h=p.absoluteY;for(var g=h-p.bottom*u5.STEP,v=g-f,_=u.voices,y=0;y<_.length;y++)if(!(_[y].staff&&_[y].staff.isTabStaff)){var D=!1;a[y]||(a[y]=[]),s[y]===void 0&&(s[y]=0);for(var b=_[y].children,C=0;C<b.length;C++)b[C].type==="tempo"&&(l[s[y]]=this.getBpm(b[C].abcelem)),a[y].push({top:f,height:v,line:u.line,measureNumber:s[y],elem:b[C]}),b[C].type==="bar"&&D&&s[y]++,(b[C].type==="note"||b[C].type==="rest")&&(D=!0)}}}return this.tempoLocations=l,a},this.setupEvents=function(a,s,l,c){c||(c=1);for(var u=[],d={},h=a,f,p=!0,g=this.makeVoicesArray(),v=0,_=0;_<g.length;_++){var y=h,D=Math.round(y*1e3),b=0,C=-1,k=g[_],O=l;s=this.getBeatLength()*O/60;for(var H=-1,F=0;F<k.length;F++){var U=k[F].measureNumber;H!==U&&this.tempoLocations[U]&&(O=this.tempoLocations[U],s=c*this.getBeatLength()*O/60,H=U);var de=k[F].elem,X=this.addElementToEvents(d,de,D,k[F].top,k[F].height,k[F].line,k[F].measureNumber,s,f,p);f=X.isTiedState,p=X.nextIsBar,y+=X.duration;var Z;if(de.duration>0&&d["event"+D]&&(Z="event"+D),D=Math.round(y*1e3),de.type==="bar"){var me=de.abcelem.type,we=me==="bar_right_repeat"||me==="bar_dbl_repeat",oe=de.abcelem.startEnding==="1",w=me==="bar_left_repeat"||me==="bar_dbl_repeat"||me==="bar_right_repeat";if(we){F>0&&(d[Z].endX=de.x),C===-1&&(C=F);var T=0;H=-1;for(var R=b;R<C;R++){U=k[R].measureNumber,H!==U&&this.tempoLocations[U]&&(O=this.tempoLocations[U],s=c*this.getBeatLength()*O/60,H=U);var N=k[R].elem;X=this.addElementToEvents(d,N,D,k[R].top,k[R].height,k[R].line,k[R].measureNumber,s,f,p),f=X.isTiedState,p=X.nextIsBar,y+=X.duration,T=D,D=Math.round(y*1e3)}d["event"+T]&&(d["event"+T].endX=k[C].elem.x),p=!0,C=-1}oe&&(C=F),w&&(b=F)}}v=Math.max(v,D)}return u=i(d),e(u),o(this.lines,u),u.push({type:"end",milliseconds:v}),this.addUsefulCallbackInfo(u,O*c),u},this.addUsefulCallbackInfo=function(a,s){for(var l=this.millisecondsPerMeasure(s),c=0;c<a.length;c++){var u=a[c];u.millisecondsPerMeasure=l}};function r(a,s){for(;s<a.length&&a[s].left===null;)s++;return a[s]}function o(a,s){if(!(s.length<1)){for(var l=0;l<s.length-1;l++){var c=s[l],u=r(s,l+1);if(c.left!==null){var d=u&&c.top===u.top?u.left:a[c.line].staffGroup.w;c.endX!==void 0?d>c.left&&(c.endX=Math.min(c.endX,d)):c.endX=d}}var h=s[s.length-1];h.endX=a[h.line].staffGroup.w}}this.getBpm=function(a){var s;if(a||(a=this.metaText?this.metaText.tempo:null),a){s=a.bpm;var l=this.getBeatLength(),c=a.duration&&a.duration.length>0?a.duration[0]:l;s=s*c/l}if(!s){s=180;var u=this.getMeterFraction();u&&u.num!==3&&u.num%3===0&&(s=120)}return s},this.setTiming=function(a,s){if(s=s||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var l=this.metaText?this.metaText.tempo:null,c=this.getBpm(l),u=1;a?l&&(u=a/c):a=c;var d=this.getBeatLength(),h=a/60,f=this.getBarLength(),p=f/d*s/h;p&&(p-=this.getPickupLength()/d/h);var g=d*h;return this.noteTimings=this.setupEvents(p,g,a,u),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*h):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(a){a||(a={});var s=Ane(this,a);return Rne(s,a,this.formatting.percmap,this.formatting.midi)},this.deline=function(a){return One(this.lines,a)},this.findSelectableElement=function(a){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(a):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}};h5.exports=Nne});var b5=P((bBe,_5)=>{var f5=sb(),Fne=function(t){var n=this,e={},i="";t.reset(),this.setVisualTranspose=function(r){r!==void 0&&(t.visualTranspose=r)},this.cleanUp=function(r,o,a){TS(t),delete t.runningFonts,Pne(t),t.metaText.tempo&&t.metaText.tempo.bpm&&!t.metaText.tempo.duration&&(t.metaText.tempo.duration=[t.getBeatLength()]);var s=!1,l,c,u;for(l=0;l<t.lines.length;l++)if(t.lines[l].staff!==void 0){var d=!1;for(c=0;c<t.lines[l].staff.length;c++)if(t.lines[l].staff[c]===void 0)s=!0,t.lines[l].staff[c]=null;else for(u=0;u<t.lines[l].staff[c].voices.length;u++)t.lines[l].staff[c].voices[u]===void 0?t.lines[l].staff[c].voices[u]=[]:IS(t.lines[l].staff[c].voices[u])&&(d=!0);d||(t.lines[l]=null,s=!0)}if(s&&(t.lines=t.lines.filter(function(b){return!!b}),t.lines.forEach(function(b){b.staff&&(b.staff=b.staff.filter(function(C){return!!C}))})),r)for(;Hne(t.lines,r););if(o){for(s=!1,l=0;l<t.lines.length;l++)if(t.lines[l].staff!==void 0)for(c=0;c<t.lines[l].staff.length;c++){var h=!1;for(u=0;u<t.lines[l].staff[c].voices.length;u++)$ne(t.lines[l].staff[c].voices[u])&&(h=!0);h||(s=!0,t.lines[l].staff[c]=null)}s&&t.lines.forEach(function(b){b.staff&&(b.staff=b.staff.filter(function(C){return!!C}))})}for(Vne(t.lines),l=0;l<t.lines.length;l++)if(t.lines[l].staff)for(c=0;c<t.lines[l].staff.length;c++)delete t.lines[l].staff[c].workingClef;for(var f=!1;Lne(t);)f=!0;if(f)for(var p=0,g=m5(t.lines,p);g!=="not-found";)g=m5(t.lines,p),g?p++:Qne(t.lines,p);for(var l=0;l<t.lines.length;l++){var v=t.lines[l].staff;if(v)for(t.staffNum=0;t.staffNum<v.length;t.staffNum++)for(v[t.staffNum].clef&&f5.fixClef(v[t.staffNum].clef),t.voiceNum=0;t.voiceNum<v[t.staffNum].voices.length;t.voiceNum++){var _=v[t.staffNum].voices[t.voiceNum];jne(_,t.staffNum,t.voiceNum,a);for(var y=0;y<_.length;y++)_[y].el_type==="clef"&&f5.fixClef(_[y]);if(_.length>0&&_[_.length-1].barNumber){var D=g5(t.lines,l);D&&(D.staff[0].barNumber=_[_.length-1].barNumber),delete _[_.length-1].barNumber}}}return delete t.staffNum,delete t.voiceNum,delete t.lineNum,delete t.potentialStartBeam,delete t.potentialEndBeam,delete t.vskipPending,a},this.addTieToLastNote=function(r){var o=Une(t);return o&&o.pitches&&o.pitches.length>0?(o.pitches[0].startTie={},r&&(o.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(r,o,a,s){if(s.el_type=r,o!==null&&(s.startChar=o),a!==null&&(s.endChar=a),r==="note"){var l=qne(s);l>=.25||s.force_end_beam_last&&t.potentialStartBeam!==void 0?ub(t):s.end_beam&&t.potentialStartBeam!==void 0?s.rest===void 0?Gne(s,t):ub(t):s.rest===void 0&&(t.potentialStartBeam===void 0?s.end_beam||(t.potentialStartBeam=s,delete t.potentialEndBeam):t.potentialEndBeam=s)}else ub(t);return delete s.end_beam,delete s.force_end_beam_last,s.rest&&s.rest.type==="invisible"&&delete s.decoration,t.lines.length<=t.lineNum||t.lines[t.lineNum].staff.length<=t.staffNum?!1:(Wne(n,t,s,e,i),!0)},this.appendStartingElement=function(r,o,a,s){TS(t);var l;r==="key"&&(l=s.impliedNaturals,delete s.impliedNaturals,delete s.explicitAccidentals);var c=Object.assign({},s);if(t.lines[t.lineNum]){var u=t.lines[t.lineNum].staff;if(u){u.length<=t.staffNum&&(u[t.staffNum]={},u[t.staffNum].clef=Object.assign({},u[0].clef),u[t.staffNum].key=Object.assign({},u[0].key),u[0].meter&&(u[t.staffNum].meter=Object.assign({},u[0].meter)),u[t.staffNum].workingClef=Object.assign({},u[0].workingClef),u[t.staffNum].voices=[[]]),r==="clef"&&(u[t.staffNum].workingClef=c);for(var d=u[t.staffNum].voices[t.voiceNum],h=0;h<d.length;h++){if(d[h].el_type==="note"||d[h].el_type==="bar"){c.el_type=r,c.startChar=o,c.endChar=a,l&&(c.accidentals=l.concat(c.accidentals)),d.push(c);return}if(d[h].el_type===r){c.el_type=r,c.startChar=o,c.endChar=a,l&&(c.accidentals=l.concat(c.accidentals)),d[h]=c;return}}u[t.staffNum][r]=s}}},this.addSubtitle=function(r,o){xp(t,{subtitle:{text:r,startChar:o.startChar,endChar:o.endChar}})},this.addSpacing=function(r){t.vskipPending=r},this.addNewPage=function(r){xp(t,{newpage:r})},this.addSeparator=function(r,o,a,s){xp(t,{separator:{spaceAbove:Math.round(r),spaceBelow:Math.round(o),lineLength:Math.round(a),startChar:s.startChar,endChar:s.endChar}})},this.addText=function(r,o){xp(t,{text:{text:r,startChar:o.startChar,endChar:o.endChar}})},this.addCentered=function(r){xp(t,{text:[{text:r,center:!0}]})},this.changeVoiceScale=function(r){n.appendElement("scale",null,null,{size:r})},this.changeVoiceColor=function(r){n.appendElement("color",null,null,{color:r})},this.startNewLine=function(r){TS(t),r.currentVoiceName&&(i=r.currentVoiceName,e[r.currentVoiceName]=r),t.lines[t.lineNum]===void 0?Yne(n,t,r):t.lines[t.lineNum].staff===void 0?(t.lineNum++,this.startNewLine(r)):t.lines[t.lineNum].staff[t.staffNum]===void 0?v5(n,t,r):t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum]===void 0?AS(n,t,r):IS(t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum])?(t.lineNum++,this.startNewLine(r)):r.part&&n.appendElement("part",r.part.startChar,r.part.endChar,{title:r.part.title})},this.setRunningFont=function(r,o){t.runningFonts[r]=o},this.setBarNumberImmediate=function(r){var o=this.getCurrentVoice();if(o&&o.length>0){var a=o[o.length-1];if(a.el_type==="bar")a.barNumber!==void 0&&(a.barNumber=r);else return r-1}return r},this.hasBeginMusic=function(){for(var r=0;r<t.lines.length;r++)if(t.lines[r].staff)return!0;return!1},this.isFirstLine=function(r){for(var o=r-1;o>=0;o--)if(t.lines[o].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var r=zne(t.lines,t.lineNum);if(!r)return null;var o=r.staff[t.staffNum];return o&&o.voices[t.voiceNum]!==void 0?o.voices[t.voiceNum]:null},this.setCurrentVoice=function(r,o,a){t.staffNum=r,t.voiceNum=o,i=a;for(var s=0;s<t.lines.length;s++)if(t.lines[s].staff&&(t.lines[s].staff[r]===void 0||t.lines[s].staff[r].voices[o]===void 0||!IS(t.lines[s].staff[r].voices[o])))return t.lineNum=s,!!(!t.lines[s].staff[r]||t.lines[s].staff[r].voices[o]);return t.lineNum=s,!1},this.addMetaText=function(r,o,a){t.metaText[r]===void 0?(t.metaText[r]=o,t.metaTextInfo[r]=a):(typeof t.metaText[r]=="string"&&typeof o=="string"?t.metaText[r]+=`
`+o:(t.metaText[r]==="string"&&(t.metaText[r]=[{text:t.metaText[r]}]),typeof o=="string"&&(o=[{text:o}]),t.metaText[r]=t.metaText[r].concat(o)),t.metaTextInfo[r].endChar=a.endChar)},this.addMetaTextArray=function(r,o,a){t.metaText[r]===void 0?(t.metaText[r]=[o],t.metaTextInfo[r]=a):(t.metaText[r].push(o),t.metaTextInfo[r].endChar=a.endChar)},this.addMetaTextObj=function(r,o,a){t.metaText[r]=o,t.metaTextInfo[r]=a}};function p5(t){if(!t||typeof t=="string")return!1;for(var n=0;n<t.length;n++)if(typeof t[n]!="string")return!1;return!0}function Pne(t){p5(t.metaText.notes)&&(t.metaText.notes=t.metaText.notes.join(`
`)),p5(t.metaText.history)&&(t.metaText.history=t.metaText.history.join(`
`))}function Lne(t){for(var n=!1,e=0;e<t.lines.length;e++){var i=t.lines[e];if(i.staff)for(var r=0;r<i.staff.length;r++){for(var o=i.staff[r],a=[],s=0;s<o.voices.length;s++){var l=o.voices[s];a.push({hasOverlay:!1,voice:[],snip:[]});for(var c=0,u=!1,d=-1,h=0;h<l.length;h++){var f=l[h];if(f.el_type==="overlay"&&!u){n=!0,u=!0,d=h,a[s].hasOverlay=!0;for(var p=0;p<e;p++)t.lines[p].staff&&t.lines[p].staff.forEach(b=>{o.voices.length>=b.voices.length&&b.voices.forEach(C=>{let k=[];C.forEach(O=>{O.el_type==="bar"?k.push(O):O.el_type==="note"&&k.push({el_type:"note",duration:O.duration,rest:{type:"invisible"},startChar:O.startChar,endChar:O.endChar})}),b.voices.push(k)})})}else f.el_type==="bar"?(u?(u=!1,a[s].snip.push({start:d,len:h-d}),a[s].voice.push(f)):(c>0&&a[s].voice.push({el_type:"note",duration:c,rest:{type:"invisible"},startChar:f.startChar,endChar:f.endChar}),a[s].voice.push(f)),c=0):f.el_type==="note"?u?a[s].voice.push(f):(!f.rest||f.rest.type!=="spacer")&&(c+=f.duration):(f.el_type==="scale"||f.el_type==="stem"||f.el_type==="overlay"||f.el_type==="style"||f.el_type==="transpose"||f.el_type==="color")&&a[s].voice.push(f)}a[s].hasOverlay&&a[s].snip.length===0&&a[s].snip.push({start:d,len:l.length-d})}for(s=0;s<a.length;s++){var g=a[s];if(g.hasOverlay){g.voice.splice(0,0,{el_type:"stem",direction:"down"}),o.voices.push(g.voice);for(var v=g.snip.length-1;v>=0;v--){var _=g.snip[v];o.voices[s].splice(_.start,_.len),o.voices[s].splice(_.start+1,0,{el_type:"stem",direction:"auto"});var y=Bne(o.voices[s],_.start);o.voices[s].splice(y,0,{el_type:"stem",direction:"up"})}for(v=0;v<o.voices[o.voices.length-1].length;v++){o.voices[o.voices.length-1][v]=Object.assign({},o.voices[o.voices.length-1][v]);var D=o.voices[o.voices.length-1][v];D.el_type==="bar"&&D.startEnding&&delete D.startEnding,D.el_type==="bar"&&D.endEnding&&delete D.endEnding}}}}}return n}function Bne(t,n){for(var e=n-1;e>0&&t[e].el_type!=="bar";e--);return e}function Vne(t){for(var n=!0,e=0;e<t.length;e++){var i=t[e];if(i.staff){for(var r=0;r<i.staff.length;r++){var o=i.staff[r];if(o.title){for(var a=!1,s=0;s<o.title.length;s++)o.title[s]?(o.title[s]=n?o.title[s].name:o.title[s].subname,o.title[s]?a=!0:o.title[s]=""):o.title[s]="";a||delete o.title}}n=!1}}}function jne(t,n,e,i){i[n]||(i[n]=[]),i[n][e]||(i[n][e]=[]);for(var r,o=function(_,y,D){if(i[n][e][D]===void 0){for(r=0;r<i[n][e].length;r++)if(i[n][e][r]!==void 0){D=r;break}if(i[n][e][D]===void 0){var b=D*100+1;_.endSlur.forEach(function(O){b===O&&--b}),i[n][e][D]=[b]}}for(var C,k=0;k<y;k++)C=i[n][e][D].pop(),_.endSlur.push(C);return i[n][e][D].length===0&&delete i[n][e][D],C},a=function(_,y,D,b){_.startSlur=[],i[n][e][D]===void 0&&(i[n][e][D]=[]);for(var C=D*100+1,k=0;k<y;k++)b&&(b.forEach(function(O){C===O&&++C}),b.forEach(function(O){C===O&&++C}),b.forEach(function(O){C===O&&++C})),i[n][e][D].forEach(function(O){C===O&&++C}),i[n][e][D].forEach(function(O){C===O&&++C}),i[n][e][D].push(C),_.startSlur.push({label:C}),_.dottedSlur&&(_.startSlur[_.startSlur.length-1].style="dotted",delete _.dottedSlur),C++},s=0;s<t.length;s++){var l=t[s];if(l.el_type==="note"){if(l.gracenotes)for(var c=0;c<l.gracenotes.length;c++){if(l.gracenotes[c].endSlur){var u=l.gracenotes[c].endSlur;l.gracenotes[c].endSlur=[];for(var d=0;d<u;d++)o(l.gracenotes[c],1,20)}l.gracenotes[c].startSlur&&(r=l.gracenotes[c].startSlur,a(l.gracenotes[c],r,20))}if(l.endSlur&&(r=l.endSlur,l.endSlur=[],o(l,r,0)),l.startSlur&&(r=l.startSlur,a(l,r,0)),l.pitches){for(var h=[],f=0;f<l.pitches.length;f++)if(l.pitches[f].endSlur){var p=l.pitches[f].endSlur;l.pitches[f].endSlur=[];for(var g=0;g<p;g++){var v=o(l.pitches[f],1,f+1);h.push(v)}}for(f=0;f<l.pitches.length;f++)l.pitches[f].startSlur&&(r=l.pitches[f].startSlur,a(l.pitches[f],r,f+1,h));l.gracenotes&&l.pitches[0].endSlur&&l.pitches[0].endSlur[0]===100&&l.pitches[0].startSlur&&(l.gracenotes[0].endSlur?l.gracenotes[0].endSlur.push(l.pitches[0].startSlur[0].label):l.gracenotes[0].endSlur=[l.pitches[0].startSlur[0].label],l.pitches[0].endSlur.length===1?delete l.pitches[0].endSlur:l.pitches[0].endSlur[0]===100?l.pitches[0].endSlur.shift():l.pitches[0].endSlur[l.pitches[0].endSlur.length-1]===100&&l.pitches[0].endSlur.pop(),i[n][e][1].length===1?delete i[n][e][1]:i[n][e][1].pop())}}}}function Hne(t,n){for(var e=0;e<t.length;e++)if(t[e].staff!==void 0)for(var i=0;i<t[e].staff.length;i++)for(var r=[],o=0;o<t[e].staff[i].voices.length;o++)for(var a=t[e].staff[i].voices[o],s=0,l=0;l<a.length;l++)if(a[l].el_type==="bar"){if(s++,s>=n&&l<a.length-1){var c=g5(t,e);if(!c){var u=JSON.parse(JSON.stringify(t[e]));t.push(Object.assign({},u)),c=t[t.length-1];for(var d=0;d<c.staff.length;d++)for(var h=0;h<c.staff[d].voices.length;h++)c.staff[d].voices[h]=[]}var f=l+1,p=t[e].staff[i].voices[o].slice(f);return t[e].staff[i].voices[o]=t[e].staff[i].voices[o].slice(0,f),c.staff[i].voices[o]=r.concat(p.concat(c.staff[i].voices[o])),!0}}else a[l].duration||r.push(a[l]);return!1}function zne(t,n){if(t.length<=n)return null;for(;n>=0;){if(t[n].staff)return t[n];n--}return null}function g5(t,n){for(n++;t.length>n;){if(t[n].staff)return t[n];n++}return null}function Une(t){if(!t.lines[t.lineNum]||!t.lines[t.lineNum].staff||!t.lines[t.lineNum].staff[t.staffNum])return null;var n=t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum];if(!n)return null;for(var e=n.length-1;e>=0;e--){var i=n[e];if(i.el_type==="note")return i}return null}function qne(t){return t.duration?t.duration:0}function TS(t){t.potentialStartBeam&&t.potentialEndBeam&&(t.potentialStartBeam.startBeam=!0,t.potentialEndBeam.endBeam=!0),delete t.potentialStartBeam,delete t.potentialEndBeam}function IS(t){for(var n=0;n<t.length;n++)if(t[n].el_type==="note"||t[n].el_type==="bar")return!0;return!1}function $ne(t){for(var n=0;n<t.length;n++)if(t[n].el_type==="note"&&(t[n].rest===void 0||t[n].chord!==void 0))return!0;return!1}function xp(t,n){t.vskipPending&&(n.vskip=t.vskipPending,delete t.vskipPending),t.lines.push(n)}function Wne(t,n,e,i,r){var o=n.lines[n.lineNum].staff[n.staffNum];if(e.pitches!==void 0){var a=o.workingClef.verticalPos;e.pitches.forEach(function(l){l.verticalPos=l.pitch-a})}if(e.gracenotes!==void 0){var s=o.workingClef.verticalPos;e.gracenotes.forEach(function(l){l.verticalPos=l.pitch-s})}o.voices.length<=n.voiceNum&&(i[r]||(i[r]={}),AS(t,n,i[r])),o.voices[n.voiceNum].push(e)}function Gne(t,n){n.potentialStartBeam.startBeam=!0,t.endBeam=!0,delete n.potentialStartBeam,delete n.potentialEndBeam}function ub(t){t.potentialStartBeam!==void 0&&t.potentialEndBeam!==void 0&&(t.potentialStartBeam.startBeam=!0,t.potentialEndBeam.endBeam=!0),delete t.potentialStartBeam,delete t.potentialEndBeam}function hb(t,n,e){if(t.runningFonts[n]){for(var i=!1,r=Object.keys(e),o=0;o<r.length;o++)t.runningFonts[n][r[o]]!==e[r[o]]&&(i=!0);i&&(t.lines[t.lineNum].staff[t.staffNum][n]=e)}t.runningFonts[n]=e}function AS(t,n,e){var i=n.lines[n.lineNum].staff[n.staffNum];if(i.voices[n.voiceNum]=[],i.title||(i.title=[]),i.title[n.voiceNum]={name:e.name,subname:e.subname},e.style&&t.appendElement("style",null,null,{head:e.style}),e.stem)t.appendElement("stem",null,null,{direction:e.stem});else if(n.voiceNum>0){if(i.voices[0]!==void 0){for(var r=!1,o=0;o<i.voices[0].length;o++)i.voices[0].el_type==="stem"&&(r=!0);if(!r){var a={el_type:"stem",direction:"up"};i.voices[0].splice(0,0,a)}}t.appendElement("stem",null,null,{direction:"down"})}e.scale&&t.appendElement("scale",null,null,{size:e.scale}),e.color&&t.appendElement("color",null,null,{color:e.color})}function v5(t,n,e){e.key&&e.key.impliedNaturals&&(e.key.accidentals=e.key.accidentals.concat(e.key.impliedNaturals),delete e.key.impliedNaturals),n.lines[n.lineNum].staff[n.staffNum]={voices:[],clef:e.clef,key:e.key,workingClef:e.clef};var i=n.lines[n.lineNum].staff[n.staffNum];e.stafflines!==void 0&&(i.clef.stafflines=e.stafflines,i.workingClef.stafflines=e.stafflines),e.staffscale&&(i.staffscale=e.staffscale),e.annotationfont&&hb(n,"annotationfont",e.annotationfont),e.gchordfont&&hb(n,"gchordfont",e.gchordfont),e.tripletfont&&hb(n,"tripletfont",e.tripletfont),e.vocalfont&&hb(n,"vocalfont",e.vocalfont),e.bracket&&(i.bracket=e.bracket),e.brace&&(i.brace=e.brace),e.connectBarLines&&(i.connectBarLines=e.connectBarLines),e.barNumber&&(i.barNumber=e.barNumber),AS(t,n,e),e.part&&t.appendElement("part",e.part.startChar,e.part.endChar,{title:e.part.title}),e.meter!==void 0&&(i.meter=e.meter),n.vskipPending&&(n.lines[n.lineNum].vskip=n.vskipPending,delete n.vskipPending)}function Yne(t,n,e){n.lines[n.lineNum]={staff:[]},v5(t,n,e)}function m5(t,n){for(var e=!1,i=!1,r=0;r<t.length;r++){var o=t[r].staff;if(o)for(var a=0;a<o.length;a++){var s=o[a];if(n<s.voices.length){i=!0;for(var l=s.voices[n],c=[],u=0;u<l.length;u++){var d=l[u];d.el_type==="note"&&(!d.rest||d.chord)&&(e=!0)}}}}return i?e:"not-found"}function Qne(t,n){for(var e=0;e<t.length;e++){var i=t[e].staff;if(i)for(var r=0;r<i.length;r++){var o=i[r];n<o.voices.length&&o.voices.splice(n,1)}}}_5.exports=Fne});var RS=P((yBe,w5)=>{var Xs=Ao(),y5=eb(),Kne=x4(),Xne=B4(),Zne=j4(),Jne=xS(),eie=$4(),tie=MS(),nie=b5(),iie=function(){"use strict";var t=new tie,n=new nie(t),e,i="",r="";this.getTune=function(){var b={formatting:t.formatting,lines:t.lines,media:t.media,metaText:t.metaText,metaTextInfo:t.metaTextInfo,version:t.version,addElementToEvents:t.addElementToEvents,addUsefulCallbackInfo:t.addUsefulCallbackInfo,getTotalTime:t.getTotalTime,getTotalBeats:t.getTotalBeats,getBarLength:t.getBarLength,getBeatLength:t.getBeatLength,getBeatsPerMeasure:t.getBeatsPerMeasure,getBpm:t.getBpm,getMeter:t.getMeter,getMeterFraction:t.getMeterFraction,getPickupLength:t.getPickupLength,getKeySignature:t.getKeySignature,getElementFromChar:t.getElementFromChar,makeVoicesArray:t.makeVoicesArray,millisecondsPerMeasure:t.millisecondsPerMeasure,setupEvents:t.setupEvents,setTiming:t.setTiming,setUpAudio:t.setUpAudio,deline:t.deline,findSelectableElement:t.findSelectableElement,getSelectableArray:t.getSelectableArray};return t.lineBreaks&&(b.lineBreaks=t.lineBreaks),t.visualTranspose&&(b.visualTranspose=t.visualTranspose),t.chordGrid&&(b.chordGrid=t.chordGrid),b};function o(b,C,k){b.positioning||(b.positioning={}),b.positioning[C]=k}function a(b,C,k){b.fonts||(b.fonts={}),b.fonts[C]=k}var s={reset:function(){for(var b in this)this.hasOwnProperty(b)&&typeof this[b]!="function"&&delete this[b];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(b,C){return this[b].decoration!==C[b].decoration||this[b].face!==C[b].face||this[b].size!==C[b].size||this[b].style!==C[b].style||this[b].weight!==C[b].weight},addFormattingOptions:function(b,C,k){k==="note"?(this.vocalPosition!=="auto"&&o(b,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&o(b,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(b,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(b,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(b,"volumePosition",this.volumePosition),this.differentFont("annotationfont",C)&&a(b,"annotationfont",this.annotationfont),this.differentFont("gchordfont",C)&&a(b,"gchordfont",this.gchordfont),this.differentFont("vocalfont",C)&&a(b,"vocalfont",this.vocalfont),this.differentFont("tripletfont",C)&&a(b,"tripletfont",this.tripletfont)):k==="bar"&&(this.dynamicPosition!=="auto"&&o(b,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(b,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(b,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(b,"volumePosition",this.volumePosition),this.differentFont("measurefont",C)&&a(b,"measurefont",this.measurefont),this.differentFont("repeatfont",C)&&a(b,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var b=0;b<this.inTie.length;b++)if(this.endingHoldOver.inTie.push([]),this.inTie[b])for(var C=0;C<this.inTie[b].length;C++)this.endingHoldOver.inTie[b].push(this.inTie[b][C]);for(var k in this.inTieChord)this.inTieChord.hasOwnProperty(k)&&(this.endingHoldOver.inTieChord[k]=this.inTieChord[k])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var b=0;b<this.endingHoldOver.inTie.length;b++){this.inTie.push([]);for(var C=0;C<this.endingHoldOver.inTie[b].length;C++)this.inTie[b].push(this.endingHoldOver.inTie[b][C])}for(var k in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(k)&&(this.inTieChord[k]=this.endingHoldOver.inTieChord[k])}}},l=function(b){s.warnings||(s.warnings=[]),s.warnings.push(b)},c=function(b){s.warningObjects||(s.warningObjects=[]),s.warningObjects.push(b)},u=function(b){var C=b.replace(/\x12/g," ");return C=C.replace(/&/g,"&amp;"),C=C.replace(/</g,"&lt;"),C.replace(/>/g,"&gt;")},d=function(b,C,k){C||(C=" ");var O=C[k];(O===" "||!O)&&(O="SPACE");var H=u(C.substring(k-64,k))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+O+"</span>"+u(C.substring(k+1).substring(0,64));l("Music Line:"+e.lineIndex+":"+(k+1)+": "+b+":  "+H),c({message:b,line:C,startChar:s.iChar+k,column:k})},h,f;this.getWarnings=function(){return s.warnings},this.getWarningObjects=function(){return s.warningObjects};var p=function(b,C){if(C.indexOf("")>=0){i+=C;return}if(C=i+C,i="",!b){d("Can't add words before the first line of music",b,0);return}C=Xs.strip(C),C[C.length-1]!=="-"&&(C=C+" ");for(var k=[],O=0,H=!1,F=function(Z){var me=Xs.strip(C.substring(O,Z));if(me=me.replace(/\\([-_*|~])/g,"$1"),O=Z+1,me.length>0){H&&(me=me.replace(/~/g," "));var we=C[Z];return we!=="_"&&we!=="-"&&(we=" "),k.push({syllable:e.translateString(me),divider:we}),H=!1,!0}return!1},U=!1,de=0;de<C.length;de++){switch(C[de]){case" ":case"":F(de);break;case"-":!U&&!F(de)&&k.length>0&&(Xs.last(k).divider="-",k.push({skip:!0,to:"next"}));break;case"_":U||(F(de),k.push({skip:!0,to:"slur"}));break;case"*":U||(F(de),k.push({skip:!0,to:"next"}));break;case"|":U||(F(de),k.push({skip:!0,to:"bar"}));break;case"~":U||(H=!0);break}U=C[de]==="\\"}var X=!1;b.forEach(function(Z){if(k.length!==0){if(k[0].skip){switch(k[0].to){case"next":Z.el_type==="note"&&Z.pitches!==null&&!X&&k.shift();break;case"slur":Z.el_type==="note"&&Z.pitches!==null&&k.shift();break;case"bar":Z.el_type==="bar"&&k.shift();break}Z.el_type!=="bar"&&(Z.lyric===void 0?Z.lyric=[{syllable:"",divider:" "}]:Z.lyric.push({syllable:"",divider:" "}))}else if(Z.el_type==="note"&&Z.rest===void 0&&!X){var me=k.shift();me.syllable&&(me.syllable=me.syllable.replace(/ +/g,"\xA0")),Z.lyric===void 0?Z.lyric=[me]:Z.lyric.push(me)}}})},g=function(b,C){if(C.indexOf("")>=0){r+=C;return}if(C=r+C,r="",!b){d("Can't add symbols before the first line of music",b,0);return}C=Xs.strip(C),C[C.length-1]!=="-"&&(C=C+" ");for(var k=[],O=0,H=!1,F=function(X){var Z=Xs.strip(C.substring(O,X));if(O=X+1,Z.length>0){H&&(Z=Z.replace(/~/g," "));var me=C[X];return me!=="_"&&me!=="-"&&(me=" "),k.push({syllable:e.translateString(Z),divider:me}),H=!1,!0}return!1},U=0;U<C.length;U++)switch(C[U]){case" ":case"":F(U);break;case"-":!F(U)&&k.length>0&&(Xs.last(k).divider="-",k.push({skip:!0,to:"next"}));break;case"_":F(U),k.push({skip:!0,to:"slur"});break;case"*":F(U),k.push({skip:!0,to:"next"});break;case"|":F(U),k.push({skip:!0,to:"bar"});break;case"~":H=!0;break}var de=!1;b.forEach(function(X){if(k.length!==0){if(k[0].skip)switch(k[0].to){case"next":X.el_type==="note"&&X.pitches!==null&&!de&&k.shift();break;case"slur":X.el_type==="note"&&X.pitches!==null&&k.shift();break;case"bar":X.el_type==="bar"&&k.shift();break}else if(X.el_type==="note"&&X.rest===void 0&&!de){var Z=k.shift();X.lyric===void 0?X.lyric=[Z]:X.lyric.push(Z)}}})},v=function(b){if(Xs.startsWith(b,"%%")){var C=y5.addDirective(b.substring(2));C&&d(C,b,2);return}var k=b.indexOf("%");if(k>=0&&(b=b.substring(0,k)),b=b.replace(/\s+$/,""),b.length!==0){if(i){p(n.getCurrentVoice(),b.substring(2));return}if(r){g(n.getCurrentVoice(),b.substring(2));return}if(b.length<2||b[1]!==":"||f.lineContinuation){f.parseMusic(b);return}var O=h.parseHeader(b);O.regular&&f.parseMusic(b),O.newline&&f.startNewLine(),O.words&&p(n.getCurrentVoice(),b.substring(2)),O.symbols&&g(n.getCurrentVoice(),b.substring(2))}};function _(b,C){b.push({el_type:"hint"});for(var k=0;k<C.length;k++){var O=C[k],H=Object.assign({},O);if(b.push(H),O.el_type==="bar")return}}function y(b,C){for(var k=0;k<b.length;k++){var O=b[k],H=C[k];if(H)for(var F=0;F<H.voices.length;F++){var U=H.voices[F],de=O.voices[F];de&&_(de,U)}}}function D(){for(var b=0;b<t.lines.length;b++){var C=t.lines[b].staff;if(C){for(var k=b+1;k<t.lines.length&&t.lines[k].staff===void 0;)k++;if(k<t.lines.length){var O=t.lines[k].staff;y(C,O)}}}}this.parse=function(b,C,k){C||(C={}),k||(k=0),t.reset(),b=b.replace(/\r\n?/g,`
`)+`
`;var O=b.split(`
\\`);if(O.length>1){for(var H=1;H<O.length;H++)for(;O[H].length>0&&O[H][0]!==`
`;)O[H]=O[H].substr(1),O[H-1]+=" ";b=O.join("  ")}b=b.replace(/\\([ \t]*)(%.*)*\n/g,function(we,oe,w){var T=w?Array(w.length+1).join(" "):"";return oe+""+T+`
`});var F=b.split(`
`);Xs.last(F).length===0&&F.pop(),e=new Zne(F,s),h=new Kne(e,d,s,t,n),f=new Xne(e,d,s,t,n,h),C.print&&(t.media="print"),s.reset(),s.iChar=k,C.visualTranspose?(s.globalTranspose=parseInt(C.visualTranspose),s.globalTranspose===0?s.globalTranspose=void 0:n.setVisualTranspose(C.visualTranspose)):s.globalTranspose=void 0,C.lineBreaks&&(s.lineBreaks=C.lineBreaks),h.reset(e,d,s,t);try{C.format&&y5.globalFormatting(C.format);for(var U=e.nextLine();U;){if(C.header_only&&s.is_in_header===!1||C.stop_on_warning&&s.warnings)throw"normal_abort";var de=s.is_in_header;v(U),de&&!s.is_in_header&&(n.setRunningFont("annotationfont",s.annotationfont),n.setRunningFont("gchordfont",s.gchordfont),n.setRunningFont("tripletfont",s.tripletfont),n.setRunningFont("vocalfont",s.vocalfont)),U=e.nextLine()}i&&p(n.getCurrentVoice(),""),r&&g(n.getCurrentVoice(),""),s.openSlurs=n.cleanUp(s.barsperstaff,s.staffnonote,s.openSlurs)}catch(we){if(we!=="normal_abort")throw we}var X=792,Z=8.5*72;switch(s.papersize){case"legal":X=1008,Z=8.5*72;break;case"A4":X=11.7*72,Z=8.3*72;break}if(s.landscape){var me=X;X=Z,Z=me}if(t.formatting.pagewidth||(t.formatting.pagewidth=Z),t.formatting.pageheight||(t.formatting.pageheight=X),C.hint_measures&&D(),Jne.wrapLines(t,s.lineBreaks,s.barNumbers),C.chordGrid)try{t.chordGrid=eie(t)}catch(we){switch(we.message){case"notCommonTime":d("Chord grid only works for 2/2 and 4/4 time.",0,0);break;case"noChords":d("No chords are found in the tune.",0,0);break;default:d(we.message,0,0)}}}};w5.exports=iie});var x5=P((wBe,C5)=>{var Dp=Ao(),rie=function(t){"use strict";var n="",e=t.match(/(\s*)/);t=Dp.strip(t);for(var i=t.split(`
X:`),r=1;r<i.length;r++)i[r]="X:"+i[r];var o=e?e[0].length:0,a=[];if(i.forEach(function(u){a.push({abc:u,startPos:o}),o+=u.length+1}),a.length>1&&!Dp.startsWith(a[0].abc,"X:")){var s=a.shift(),l=s.abc.split(`
`);l.forEach(function(u){Dp.startsWith(u,"%%")&&(n+=u+`
`)})}var c=n;return a.forEach(function(u){var d=u.abc.indexOf(`

`);d>0&&(u.abc=u.abc.substring(0,d)),u.pure=u.abc,u.abc=n+u.abc,u.title="";var h=u.pure.split("T:");h.length>1&&(h=h[1].split(`
`),u.title=Dp.strip(h[0]));var f=u.pure.substring(2,u.pure.indexOf(`
`));u.id=Dp.strip(f)}),{header:c,tunes:a}};C5.exports=rie});var E5=P((CBe,D5)=>{function OS(t,n){this.numLines=t,this.lineSpace=n,this.verticalSize=this.numLines*this.lineSpace;var e=3;this.bar={pitch:e,pitch2:n*t,height:5}}OS.prototype.bypass=function(t){var n=t.staffGroup.voices;return!!(n.length>0&&n[0].isPercussion)};OS.prototype.setRelative=function(t,n,e){switch(t.type){case"bar":n.pitch=this.bar.pitch,n.pitch2=this.bar.pitch2,n.height=this.height;break;case"symbol":var i=this.bar.pitch2/2;if(t.name=="dots.dot")return e?(n.pitch=i,!1):(n.pitch=i+this.lineSpace,!0);break}return e};D5.exports=OS});var NS=P((xBe,S5)=>{var Zs=function(n,e){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=n,this.voicetotal=e,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Zs.prototype.addChild=function(t){if(t.type==="bar"){for(var n=!0,e=0;n&&e<this.children.length;e++)this.children[e].type.indexOf("staff-extra")<0&&this.children[e].type!=="tempo"&&(n=!1);n||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=t,this.setRange(t)};Zs.prototype.setLimit=function(t,n){var e=n.specialY;e||(e=n),e[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],e[t]):this.specialY[t]=e[t])};Zs.prototype.adjustRange=function(t){t.bottom!==void 0&&(this.bottom=Math.min(this.bottom,t.bottom)),t.top!==void 0&&(this.top=Math.max(this.top,t.top))};Zs.prototype.setRange=function(t){this.adjustRange(t),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)};Zs.prototype.addOther=function(t){this.otherchildren.push(t),this.setRange(t)};Zs.prototype.addBeam=function(t){this.beams.push(t)};Zs.prototype.setWidth=function(t){this.w=t};S5.exports=Zs});var fb=P((DBe,k5)=>{var oie=function(t,n,e,i){if(t)for(var r=0;r<t.length;r++){var o=t[r],a=o.getAttribute("highlight");a||(a="fill"),o.setAttribute(a,i);var s=o.getAttribute("class");s||(s=""),s=s.replace(e,""),s=s.replace(n,""),n.length>0&&(s.length>0&&s[s.length-1]!==" "&&(s+=" "),s+=n),o.setAttribute("class",s)}};k5.exports=oie});var FS=P((EBe,M5)=>{var aie=fb(),sie=function(t,n){t===void 0&&(t="abcjs-note_selected"),n===void 0&&(n="#ff0000"),aie(this.elemset,t,"",n)};M5.exports=sie});var PS=P((SBe,T5)=>{var lie=fb(),cie=function(t,n){t===void 0&&(t="abcjs-note_selected"),n===void 0&&(n="#000000"),lie(this.elemset,"",t,n)};T5.exports=cie});var Cc=P((kBe,I5)=>{var die=FS(),uie=PS(),_i=function(n,e,i,r,o,a){a||(a={}),this.tuneNumber=o,this.abcelem=n,this.duration=e,this.durationClass=a.durationClassOveride?a.durationClassOveride:this.duration,this.minspacing=i||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=r,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};_i.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};_i.prototype.addExtra=function(t){this.fixed.w=Math.max(this.fixed.w,t.dx+t.w),this.fixed.t===void 0?this.fixed.t=t.top:this.fixed.t=Math.max(this.fixed.t,t.top),this.fixed.b===void 0?this.fixed.b=t.bottom:this.fixed.b=Math.min(this.fixed.b,t.bottom),t.dx<this.extraw&&(this.extraw=t.dx),this.extra[this.extra.length]=t,this._addChild(t)};_i.prototype.addHead=function(t){t.dx<this.extraw&&(this.extraw=t.dx),this.heads[this.heads.length]=t,this.addRight(t)};_i.prototype.addRight=function(t){this.fixed.w=Math.max(this.fixed.w,t.dx+t.w),t.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=t.top:this.fixed.t=Math.max(this.fixed.t,t.top)),t.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=t.bottom:this.fixed.b=Math.min(this.fixed.b,t.bottom)),t.dx+t.w>this.w&&(this.w=t.dx+t.w),this.right[this.right.length]=t,this._addChild(t)};_i.prototype.addFixed=function(t){this._addChild(t)};_i.prototype.addFixedX=function(t){this._addChild(t)};_i.prototype.addCentered=function(t){var n=t.w/2;-n<this.extraw&&(this.extraw=-n),this.extra[this.extra.length]=t,t.dx+n>this.w&&(this.w=t.dx+n),this.right[this.right.length]=t,this._addChild(t)};_i.prototype.setLimit=function(t,n){n[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],n[t]):this.specialY[t]=n[t])};_i.prototype._addChild=function(t){var n=!0;this.abcelem.el_type=="clef"&&t.type=="barNumber"&&(n=!1),t.parent=this,this.children[this.children.length]=t,n&&this.pushTop(t.top),this.pushBottom(t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)};_i.prototype.pushTop=function(t){t!==void 0&&(this.top===void 0?this.top=t:this.top=Math.max(t,this.top))};_i.prototype.pushBottom=function(t){t!==void 0&&(this.bottom===void 0?this.bottom=t:this.bottom=Math.min(t,this.bottom))};_i.prototype.setX=function(t){this.x=t;for(var n=0;n<this.children.length;n++)this.children[n].setX(t)};_i.prototype.center=function(t,n){var e=(n.x-t.x)/2+t.x;this.x=e-this.w/2;for(var i=0;i<this.children.length;i++)this.children[i].setX(this.x)};_i.prototype.setHint=function(){this.hint=!0};_i.prototype.highlight=function(t,n){die.bind(this)(t,n)};_i.prototype.unhighlight=function(t,n){uie.bind(this)(t,n)};I5.exports=_i});var No=P((MBe,A5)=>{var Su=function(n,e,i,r,o){switch(o=o||{},this.x=0,this.c=n,this.dx=e,this.w=i,this.pitch=r,this.scalex=o.scalex||1,this.scaley=o.scaley||1,this.type=o.type||"symbol",this.pitch2=o.pitch2,this.linewidth=o.linewidth,this.klass=o.klass,this.anchor=o.anchor?o.anchor:"middle",this.top=r,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=r,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),o.thickness&&(this.top+=o.thickness/2,this.bottom-=o.thickness/2),o.stemHeight&&(o.stemHeight>0?this.top+=o.stemHeight:this.bottom+=o.stemHeight),o.dim&&(this.dim=o.dim),o.position&&(this.position=o.position),this.height=o.height?o.height:4,o.top&&(this.top=o.top),o.bottom&&(this.bottom=o.bottom),o.name?this.name=o.name:this.c?this.name=this.c:this.name=this.type,o.realWidth?this.realWidth=o.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":o.position&&o.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};Su.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var t=0,n=this.type==="chord"?this.realWidth/2:0,e=this.x-n-t,i=e+this.realWidth+t;return{left:e,right:i}};Su.prototype.invertLane=function(t){this.lane===void 0&&(this.lane=0),this.lane=t-this.lane-1};Su.prototype.putChordInLane=function(t){this.lane=t,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};Su.prototype.getLane=function(){return this.lane===void 0?0:this.lane};Su.prototype.setX=function(t){this.x=t+this.dx};A5.exports=Su});var B5=P((TBe,L5)=>{var O5=Cc(),VS=No();function hie(t){return t!=null&&t.constructor===Object}function LS(t,n){for(var e in n)n.hasOwnProperty(e)&&(Array.isArray(n[e])||hie(n[e])||(t[e]=n[e]))}function N5(t){var n=new O5("",0,0,"",0);return LS(n,t),n.top=0,n.bottom=-1,t.abcelem&&(n.abcelem={},LS(n.abcelem,t.abcelem),n.abcelem.el_type==="note"&&(n.abcelem.el_type="tabNumber")),t.cloned=n,n}function fie(t,n){var e=N5(t);if(n)for(var i=t.children,r=!0,o=0;o<i.length;o++){var a=i[o],s=new VS("",0,0,0,"");LS(s,a),r=n.tablature.setRelative(a,s,r),e.children.push(s)}return e}function pie(t,n,e){var i="tab.tiny",r=7.5;t.isTabBig&&(i="tab.big",r=10);var o={el_type:"tab",icon:i,Ypos:r};if(r+=t.tabSymbolOffset,!t.hideTabSymbol){var a=new O5(o,0,0,"symbol",0);a.x=n;var s=new VS(i,0,0,7.5,"tab");s.x=e,a.children.push(s),a.abcelem.el_type=="tab"&&(s.pitch=r)}return a}function mie(t){if(t.extra)for(var n=0;n<t.extra.length;n++){var e=t.extra[n];if(e.type=="lyric")return{bottom:e.bottom,height:e.height}}return null}function F5(){this.accidentals=null}function gie(t){for(var n=0,e=0;e<t.length;e++)t[e].tabNameInfos||n++;return n}function BS(t,n,e,i,r){var o=i.num;i.note.quarter!=null&&(o=o.toString(),o+=i.note.quarter);var a=t.semantics.stringToPitch(i.str);e.notes.push({num:o,str:i.str,pitch:i.note.emit()});var s={type:"tabNumber"},l=new VS(o,0,0,a+.3,s);return l.x=n,l.isGrace=r,l.isAltered=i.note.isAltered,l}function P5(t,n){var e=0;if(t.extra){for(var i=0;i<t.extra.length;i++)if(t.extra[i].c.indexOf("noteheads")>=0){if(e===n)return t.extra[i].x+t.extra[i].w/2;e++}}return-1}function vie(t){if(t.abcelem){var n=t.abcelem;if(n.rest)return n.gracenotes}return null}function R5(t,n,e){var i=t.semantics.notesToNumber(n,e);if(i.error)return t.setError(i.error),i;if(i.graces&&i.notes){var r=i.notes.length-1;i.notes[r].graces=i.graces}return i}function _ie(t,n,e,i,r){for(var o=0;o<i.length;o++){var a={el_type:"note",startChar:e.abcelem.startChar,endChar:e.abcelem.endChar,notes:[],grace:!0},s=P5(e,o),l=i[o],c=BS(t,s,a,l,!0);n.children.push(c),r.push(a)}}F5.prototype.build=function(t,n,e,i,r,o,a){var s=gie(n),l=n[r+i],c=n[a],u=null,d=null;l.children[0].abcelem.el_type!="clef"&&o!="none"&&l.children.splice(0,0,o);for(var h=0;h<l.children.length;h++){var f=l.children[h],p=f.x,g=p;switch(f.isClef&&(c.children.push(pie(t,p,g)),f.abcelem.type.indexOf("-8")>=0&&(t.semantics.clefTranspose=-12),f.abcelem.type.indexOf("+8")>=0&&(t.semantics.clefTranspose=12)),f.type){case"staff-extra key-signature":this.accidentals=f.abcelem.accidentals,t.semantics.accidentals=this.accidentals;break;case"bar":t.semantics.measureAccidentals={};var v=!1;h===l.children.length-1&&(v=!0);var _=fie(f,t);if(_.abcelem.barNumber){delete _.abcelem.barNumber;for(var y=0;y<_.children.length;y++)if(_.children[y].type==="barNumber"){_.children.splice(y,1);break}}_.abcelem.lastBar=v,c.children.push(_),e.push({el_type:f.abcelem.el_type,type:f.abcelem.type,endChar:f.abcelem.endChar,startChar:f.abcelem.startChar,abselem:_});break;case"rest":var D=vie(f);if(D){if(u=R5(t,null,D),u.error)return;de={el_type:"note",startChar:f.abcelem.startChar,endChar:f.abcelem.endChar,notes:[],grace:!0},_ie(t,b,f,u.graces,e)}break;case"note":var b=N5(f);b.x=f.heads[0].x+f.heads[0].w/2,b.lyricDim=mie(f);var C=f.abcelem.pitches,k=f.abcelem.gracenotes;if(b.type="tabNumber",u=R5(t,C,k),u.error)return;if(u.graces){var O=u.notes.length-1;u.notes[O].graces=u.graces}d={el_type:"note",startChar:f.abcelem.startChar,endChar:f.abcelem.endChar,notes:[]};for(var H=0;H<u.notes.length;H++){var F=u.notes[H];if(F.graces)for(var U=0;U<F.graces.length;U++){var de={el_type:"note",startChar:f.abcelem.startChar,endChar:f.abcelem.endChar,notes:[],grace:!0},X=P5(f,U),Z=F.graces[U],me=BS(t,X,de,Z,!0);b.children.push(me),e.push(de)}var we=BS(t,b.x+f.heads[H].dx,d,F,!1);b.children.push(we)}d.notes.length>0&&(d.abselem=b,e.push(d),c.children.push(b));break}}};L5.exports=F5});var j5=P((IBe,V5)=>{var bie=NS(),yie=B5(),wie=Hi();function Cie(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function xie(t){for(var n=0,e=0;e<t.children.length;e++){var i=t.children[e];i.specialY&&i.specialY.lyricHeightBelow>n&&(n=i.specialY.lyricHeightBelow)}return n}function Die(t,n,e){var i=t.semantics,r=n.controller.getTextSize,o=i.tabInfos(t),a=i.suppress(t),s=!0;if(a&&(s=!1),s){var l=r.calc(o,"tablabelfont","text instrumentname");return e.tabNameInfos={textSize:{height:l.height,width:l.width},name:o},l.height}return 0}function Eie(t,n){return n[t].isTabStaff?t===n.length-1?!0:!n[t+1].isTabStaff:!1}function Sie(t){for(var n=0,e=0;e<t.length;e++)t[e].isTabStaff||n++;return n}function kie(t,n){for(var e=n;e>=0;e--)if(!t[e].isTabStaff)return e;return-1}function Mie(t){for(var n=0;n<t.length;n++)if(t[n].isTabStaff){var e=kie(t,n);t[n].hasStaff=t[e],t[e].hasTab||(t[e].hasTab=[]),t[e].hasTab.push(t[n])}}function Tie(t,n){return Sie(t)===1&&n.voices.length>1}function Iie(t,n){for(var e=0,i=0,r=!0,o=0;r;){if(!n[e])return-1;if(n[e].isTabStaff||(o=n[e].voices.length),n[e].isTabStaff){if(i++,Eie(e,n)&&i<o)return e+1}else if(i=0,e>=t&&(e+1==n.length||!n[e+1].isTabStaff))return e+1;if(e++,e>n.length)return-1}}function Aie(t,n){for(var e=n;e>=0;e--)if(!t[e].isTabStaff)return t[e];return null}function Rie(t,n){var e=t[n],i=e.children[0].abcelem;return i.el_type==="clef"?null:n==0?"none":t[n-1].children[0]}function Oie(t,n,e,i){var r=new yie,o={clef:{type:"TAB"}},a=t.linePitch*t.nbLines,s=e.staff;if(s){var l=s[0];if(l&&l.clef&&l.clef.stafflines==0){t.setError("No tablatures when stafflines=0");return}s.splice(s.length,0,o)}var c=e.staffGroup,u=c.voices,d=u[0],h=xie(d),f=3,p=i,g=c.staffs[p],v=a+f-g.bottom-h;g.isTabStaff&&(v=g.top);var _={bottom:-1,isTabStaff:!0,specialY:Cie(),lines:t.nbLines,linePitch:t.linePitch,dy:.15,top:v},y=Iie(i,c.staffs);if(y!==-1){_.parentIndex=y-1,c.staffs.splice(y,0,_),c.height+=a+f;var D=Aie(c.staffs,y),b=1;Tie(c.staffs,D)&&(b=D.voices.length),o.voices=[];for(var C=0;C<b;C++){var k=new bie(0,0);C>0&&(k.duplicate=!0);var O=Die(t,n,k)/wie.STEP;O=Math.max(O,1),c.staffs[i].top+=1,c.height+=O,k.staff=_;var H=u.length;u.splice(u.length,0,k);var F=Rie(u,C+i);o.voices[C]=[],r.build(t,u,o.voices[C],C,i,F,H)}Mie(c.staffs)}}V5.exports=Oie});var HS=P((ABe,H5)=>{var Nie={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},jS=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function Fie(t){var n=t.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(n&&n.length===5){var e=Nie[n[1]],i=jS.indexOf(n[2]),r=n[4].length-n[3].length;return 48+i+e+r*12}return 0}function Pie(t){t=parseInt(t,10);var n=Math.floor(t/12),e=t%12,i=jS[e];if(i==="-"&&(i="^"+jS[e-1]),n>4)for(i=i.toLowerCase(),n-=5;n>0;)i+="'",n--;else for(;n<4;)i+=",",n++;return i}H5.exports={noteToMidi:Fie,midiToNote:Pie}});var US=P((RBe,z5)=>{var{noteToMidi:Lie,midiToNote:zS}=HS();function Xr(t,n){var e=Lie(t);n&&(e+=n);var i=zS(e),r=!1,o=!1,a=!1,s=null,l=null,c=!1,u=0;t.startsWith("_")?(r=!0,u=-1,t[1]=="/"?(r=!1,l="v",u=0):t[1]=="_"&&(c=!0,u-=1)):t.startsWith("^")?(o=!0,u=1,t[1]=="/"?(o=!1,l="^",u=0):t[1]=="^"&&(c=!0,u+=1)):t.startsWith("=")&&(s=!0,u=0),a=r||o||l!=null,(a||s)&&(l!=null||c?i=t.slice(2):i=t.slice(1));var d=(i.match(/,/g)||[]).length,h=(i.match(/'/g)||[]).length;this.pitch=e,this.pitchAltered=0,this.name=i,this.acc=u,this.isSharp=o,this.isKeySharp=!1,this.isDouble=c,this.isAltered=a,this.isFlat=r,this.isKeyFlat=!1,this.natural=s,this.quarter=l,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=d,this.isQuoted=h}function Bie(t){var n=t.name,e=new Xr(n);return e.pitch=t.pitch,e.hasComma=t.hasComma,e.isLower=t.isLower,e.isQuoted=t.isQuoted,e.isSharp=t.isSharp,e.isKeySharp=t.isKeySharp,e.isFlat=t.isFlat,e.isKeyFlat=t.isKeyFlat,e}Xr.prototype.sameNoteAs=function(t){return t.pitch===this.pitch};Xr.prototype.isLowerThan=function(t){return t.pitch>this.pitch};Xr.prototype.checkKeyAccidentals=function(t,n){if(!(this.isAltered||this.natural)){if(n[this.name.toUpperCase()])switch(n[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(t)for(var e=this.name,i=0;i<t.length;i++){var r=t[i];e==r.note.toUpperCase()&&(r.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),r.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};Xr.prototype.getAccidentalEquiv=function(){var t=Bie(this);return t.isSharp||t.isKeySharp?(t=t.nextNote(),t.isFlat=!0,t.isSharp=!1,t.isKeySharp=!1):(t.isFlat||t.isKeyFlat)&&(t=t.prevNote(),t.isSharp=!0,t.isFlat=!1,t.isKeyFlat=!1),t};Xr.prototype.nextNote=function(){var t=zS(this.pitch+1+this.pitchAltered);return new Xr(t)};Xr.prototype.prevNote=function(){var t=zS(this.pitch-1+this.pitchAltered);return new Xr(t)};Xr.prototype.emitNoAccidentals=function(){var t=this.name;this.isLower&&(t=t.toLowerCase());for(var n=0;n<this.isQuoted;n++)t+="'";for(var e=0;e<this.hasComma;e++)t+=",";return t};Xr.prototype.emit=function(){var t=this.name;(this.isSharp||this.isKeySharp)&&(t="^"+t,this.isDouble&&(t="^"+t)),(this.isFlat||this.isKeyFlat)&&(t="_"+t,this.isDouble&&(t="_"+t)),this.quarter&&(this.quarter=="^"?t="^/"+t:t="_/"+t),this.natural&&(t="="+t);for(var n=1;n<=this.hasComma;n++)t+=",";if(this.isLower){t=t.toLowerCase();for(var e=1;e<=this.isQuoted;e++)t+="'"}return t};z5.exports=Xr});var W5=P((OBe,$5)=>{var U5=US(),q5=["A","B","C","D","E","F","G"];function Vie(t,n){var e=new U5(t),i=new U5(n);if(i.isLowerThan(e)){var r=e.emit(),o=i.emit();return{error:"Invalid string Instrument tuning : "+o+" string lower than "+r+" string"}}var a=[],s=q5.indexOf(e.name),l=q5.indexOf(i.name);if(s==-1||l==-1)return a;for(var c=!1;!c;)a.push(e.emit()),e=e.nextNote(),e.sameNoteAs(i)&&(c=!0);return a}$5.exports=Vie});var K5=P((NBe,Q5)=>{var{noteToMidi:jie}=HS(),pb=US(),Hie=W5();function zie(t){var n=null,e=t.tuning;if(t.capo>0){n=[];for(var i=0;i<e.length;i++){for(var r=new pb(e[i]),o=0;o<t.capo;o++)r=r.nextNote();n[i]=r.emit()}}return n}function Uie(t){var n=[],e=t.tuning;t.capo>0&&(e=t.capoTuning);for(var i=e.length-1,r=0;r<e.length;r++){var o=t.highestNote;r!=e.length-1&&(o=e[r+1]);var a=Hie(e[r],o);if(a.error)return a;n[i--]=a}return n}function qie(t){var n=[];n[0]=[];for(var e=t.strings,i=1;i<e.length;i++)n[i]=e[i-1];return n}function $ie(t,n){for(var e=0;e<n.length-1;e++){var i=n[e],r=n[e+1];if(i.str==r.str){if(i.str==t.strings.length-1){i.num="?",r.num="?";return}r.num<i.num?(r.str++,r=G5(t,r.note,r.str,t.secondPos,t.strings[r.str].length)):(i.str++,i=G5(t,i.note,i.str,t.secondPos,t.strings[i.str].length)),n[e]=i,n[e+1]=r}}return null}function Wie(t,n){for(var e=[],i=0;i<n.length;i++)if(!n[i].endTie){var r=new pb(n[i].name,t.clefTranspose);r.checkKeyAccidentals(t.accidentals,t.measureAccidentals);var o=qS(t,r);e.push(o)}return $ie(t,e),e}function G5(t,n,e,i,r){var o=t.strings;n.checkKeyAccidentals(t.accidentals,t.measureAccidentals),i&&(o=i);var a=n.emitNoAccidentals(),s=o[e].indexOf(a),l=n.acc;if(s!=-1){if(i&&(s+=r),(n.isFlat||n.acc==-1)&&s==0){var c=n.getAccidentalEquiv();e++,s=o[e].indexOf(c.emit()),l=0}return{num:s+l,str:e,note:n}}return null}function qS(t,n){if(n.isAltered||n.natural){var e;n.isFlat?n.isDouble?e="__":e="_":n.isSharp?n.isDouble?e="^^":e="^":n.natural&&(e="="),t.measureAccidentals[n.name.toUpperCase()]=e}for(var i=t.stringPitches.length-1;i>=0;i--)if(n.pitch+n.pitchAltered>=t.stringPitches[i]){var r=n.pitch+n.pitchAltered-t.stringPitches[i];return n.quarter==="^"?r-=.5:n.quarter==="v"&&(r+=.5),{num:Math.round(r),str:t.stringPitches.length-1-i,note:n}}return{num:"?",str:t.stringPitches.length-1,note:n}}ku.prototype.stringToPitch=function(t){var n=5.3,e=this.strings.length-1;return n+(e-t)*this.linePitch};function Y5(t,n){var e={num:"?",str:0,note:n};t.push(e),t.error=n.emit()+": unexpected note for instrument"}ku.prototype.notesToNumber=function(t,n){var e,i,r=null,o=null;if(t&&(o=[],t.length>1?(o=Wie(this,t),o.error&&(r=o.error)):t[0].endTie||(e=new pb(t[0].name,this.clefTranspose),e.checkKeyAccidentals(this.accidentals,this.measureAccidentals),i=qS(this,e),i?o.push(i):(Y5(o,e),r=o.error))),r)return o;var a=null;if(n){a=[];for(var s=0;s<n.length;s++)e=new pb(n[s].name,this.clefTranspose),e.checkKeyAccidentals(this.accidentals,this.measureAccidentals),i=qS(this,e),i?a.push(i):(Y5(a,e),r=o.error)}return{notes:o,graces:a,error:r}};ku.prototype.toString=function(){for(var t=[],n=0;n<this.tuning.length;n++){var e=this.tuning[n].replaceAll(",","").replaceAll("'","").toUpperCase();e[0]==="_"?e=e[1]+"b ":e[0]==="^"&&(e=e[1]+"# "),t.push(e)}return t.join("")};ku.prototype.tabInfos=function(t){var n=t.params.label;if(n){var e=n.indexOf("%T"),i="";return e!=-1&&(i=this.toString(),t.capo>0&&(i+=" capo:"+t.capo),n=n.replace("%T",i)),n}return""};ku.prototype.suppress=function(t){var n=t.params.suppress;return!!n};function ku(t){var n=t.tuning,e=t.capo,i=t.params.highestNote;this.linePitch=t.linePitch,this.highestNote="a'",i&&(this.highestNote=i),this.measureAccidentals={},this.capo=0,e&&(this.capo=parseInt(e,10)),this.transpose=t.transpose?t.transpose:0,this.tuning=n,this.stringPitches=[];for(var r=0;r<this.tuning.length;r++){var o=jie(this.tuning[r])+this.capo;this.stringPitches.push(o)}if(this.capo>0&&(this.capoTuning=zie(this)),this.strings=Uie(this),this.strings.error){t.setError(this.strings.error),t.inError=!0;return}this.secondPos=qie(this)}Q5.exports=ku});var Z5=P((FBe,X5)=>{var Gie=E5(),Yie=j5(),Qie=K5();mb.prototype.init=function(t,n,e,i){this.tune=t,this.params=e,this.tuneNumber=n,this.inError=!1,this.abcTune=t,this.linePitch=3,this.nbLines=i.defaultTuning.length,this.isTabBig=i.isTabBig,this.tabSymbolOffset=i.tabSymbolOffset,this.capo=e.capo,this.transpose=e.visualTranspose,this.hideTabSymbol=e.hideTabSymbol,this.tablature=new Gie(this.nbLines,this.linePitch);var r=e.tuning;r||(r=i.defaultTuning),this.tuning=r,this.semantics=new Qie(this)};mb.prototype.setError=function(t){t&&(this.error=t,this.inError=!0,this.tune.warnings?this.tune.warnings.push(t):this.tune.warnings=[t])};mb.prototype.render=function(t,n,e){this.inError||this.tablature.bypass(n)||Yie(this,t,n,e)};function mb(){}var Kie=function(){return{name:"StringTab",tablature:mb}};X5.exports=Kie});var $S=P((PBe,J5)=>{var Xie=Z5(),Zie={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},Jie={inited:!1,plugins:{},register:function(t){var n=t.name,e=t.tablature;this.plugins[n]=e},setError:function(t,n){t.warnings?t.warning.push(n):t.warnings=[n]},preparePlugins:function(t,n,e){this.inited||(this.register(new Xie),this.inited=!0);var i=null,r=0;if(e.tablature){var o=e.tablature;i=[];for(var a=0;a<o.length;a++){var s=o[a],l=s.instrument;if(l==null)return this.setError(t,"tablature 'instrument' is missing"),i;var c=Zie[l],u=null;if(c&&(u=this.plugins[c.name]),u){e.visualTranspose!=0&&(s.visualTranspose=e.visualTranspose),s.abcSrc=e.tablature.abcSrc;var d={classz:u,tuneNumber:n,params:s,instance:null,tabType:c};i.push(d),r++}else if(l==="")i.push(null);else return this.setError(t,"Undefined tablature plugin: "+l),i}}return i},layoutTablatures:function(n,e){var i=e.tablatures,r=0;if(i&&i.length>0)for(var o=i.length,a=0;a<o;++a)i[a]&&i[a].params.firstStaffOnly&&(i[a].params.suppress=!1);for(var s=0;s<e.lines.length;s++){var l=e.lines[s];if(l.staff&&r++,r>1&&i&&i.length>0)for(var o=i.length,a=0;a<o;++a)i[a].params.firstStaffOnly&&(i[a].params.suppress=!0);var c=l.staff;if(c){for(var u=c.length,d=0;d<c.length;d++)if(i[d]&&d<u){var h=i[d];h.instance==null&&(h.instance=new h.classz,h.instance.init(e,h.tuneNumber,h.params,h.tabType)),h.instance.render(n,l,d)}}}}};J5.exports=Jie});var Ep=P((LBe,e6)=>{var ere=RS(),tre=x5(),nre=$S(),ts={};(function(){"use strict";ts.numberOfTunes=function(i){var r=i.split(`
X:`),o=r.length;return o===0&&(o=1),o};var t=ts.TuneBook=function(i){var r=tre(i);this.header=r.header,this.tunes=r.tunes};t.prototype.getTuneById=function(i){for(var r=0;r<this.tunes.length;r++)if(this.tunes[r].id===""+i)return this.tunes[r];return null},t.prototype.getTuneByTitle=function(i){for(var r=0;r<this.tunes.length;r++)if(this.tunes[r].title===i)return this.tunes[r];return null},ts.parseOnly=function(i,r){for(var o=ts.numberOfTunes(i),a=[],s=0;s<o;s++)a.push(1);function l(){}return ts.renderEngine(l,a,i,r)},ts.renderEngine=function(i,r,o,a){var s=[],l=function(_){return _&&!_.propertyIsEnumerable("length")&&typeof _=="object"&&typeof _.length=="number"};if(!(r===void 0||o===void 0)){l(r)||(r=[r]),a===void 0&&(a={});for(var c=a.startingTune?parseInt(a.startingTune,10):0,u=new t(o),d=new ere,h=0;h<r.length;h++){var f=r[h];if(f==="*"||typeof f=="string"&&(f=document.getElementById(f)),f)if(c>=0&&c<u.tunes.length){d.parse(u.tunes[c].abc,a,u.tunes[c].startPos-u.header.length);var p=d.getTune();a.tablature&&(p.tablatures=nre.preparePlugins(p,c,a));var g=d.getWarnings();g&&(p.warnings=g);var v=i(f,p,h,u.tunes[c].abc);s.push(v||p)}else f.innerHTML&&(f.innerHTML="");c++}return s}};function n(i){for(var r=[],o=0;o<i.lines.length;o++){var a=i.lines[o];if(a.staff)for(var s=0;s<a.staff.length;s++){var l=a.staff[s];if(!r[s])r[s]=l;else for(var c=0;c<l.voices.length;c++)r[s].voices[c]&&(r[s].voices[c]=r[s].voices[c].concat(l.voices[c]))}}return r}function e(i,r){for(var o=[],a=null,s=null,l=null,c=!1,u=0;u<i.voices.length;u++){var d=i.voices[u];o.push([]);for(var h=0;h<d.length;h++){var f=d[h];if(l===null&&f.startChar>=0&&(l=f.startChar,f.chord===void 0?s=a:s=null),f.chord&&(a=f),f.el_type==="bar"){if(c){var p=r.abc.substring(l,f.endChar),g={abc:p};a=s&&s.chord&&s.chord.length>0?s.chord[0].name:null,a&&(g.lastChord=a),f.startEnding&&(g.startEnding=f.startEnding),f.endEnding&&(g.endEnding=f.endEnding),o[u].push(g),l=null,c=!1}}else f.el_type==="note"&&(c=!0)}}return o}ts.extractMeasures=function(i){for(var r=[],o=new t(i),a=0;a<o.tunes.length;a++){for(var s=o.tunes[a],l=s.abc.split("K:"),c=l[1].split(`
`),u=l[0]+"K:"+c[0]+`
`,d=null,h=null,f=null,p=[],g=!1,v=ts.parseOnly(s.abc)[0],_=v.getPickupLength()>0,y=0;y<v.lines.length;y++){var D=v.lines[y];if(D.staff)for(var b=0;b<1;b++)for(var C=D.staff[b],k=0;k<1;k++)for(var O=C.voices[k],H=0;H<O.length;H++){var F=O[H];if(f===null&&F.startChar>=0&&(f=F.startChar,F.chord===void 0?h=d:h=null),F.chord&&(d=F),F.el_type==="bar"){if(g){var U=s.abc.substring(f,F.endChar),de={abc:U};d=h&&h.chord&&h.chord.length>0?h.chord[0].name:null,d&&(de.lastChord=d),F.startEnding&&(de.startEnding=F.startEnding),F.endEnding&&(de.endEnding=F.endEnding),p.push(de),f=null,g=!1}}else F.el_type==="note"&&(g=!0)}}r.push({header:u,measures:p,hasPickup:_})}return r}})();e6.exports=ts});var s6=P((BBe,a6)=>{var t6=mS(),{relativeMajor:n6,transposeKey:WS,relativeMode:i6,isLegalMode:ire}=hS(),r6=uS(),o6;(function(){"use strict";o6=function(y,D,b){if(D==="TEST")return{keyAccidentals:t6,relativeMajor:n6,transposeKey:WS,relativeMode:i6,transposeChordName:r6};b=parseInt(b,10);var C=[],k;for(k=0;k<D.length;k++)C=C.concat(t(y,D[k],b));C=C.sort(function(F,U){return U.start-F.start});var O=y.split("");for(k=0;k<C.length;k++){var H=C[k];O.splice(H.start,H.end-H.start,H.note)}return O.join("")};function t(y,D,b){var C=[],k=D.getKeySignature();if(k.root==="Hp"||k.root==="HP")return C;C=C.concat(n(y,b));for(var O=0;O<D.lines.length;O++){var H=D.lines[O].staff;if(H)for(var F=0;F<H.length;F++){var U=H[F];U.clef.type!=="perc"&&(C=C.concat(e(y,U.voices,U.key,b)))}}return C}function n(y,D){for(var b=[],C=y.split("K:"),k=C[0].length,O=1;O<C.length;O++){var H=C[O],F=H.match(/^( *)([A-G])([#b]?)( ?)(\w*)/);if(F){var U=k+2+F[1].length,de=ire(F[5])?F[5]:"",X=F[2]+F[3]+F[4]+de,Z=l({root:F[2],acc:F[3],mode:de},D),me=Z.root+Z.acc+F[4]+Z.mode;b.push({start:U,end:U+X.length,note:me})}k+=H.length+2}return b}function e(y,D,b,C){for(var k=[],O=l(b,C),H=0;H<D.length;H++)k=k.concat(o(y,D[H],b.root,i(b),O,C));return k}function i(y){for(var D={},b=0;b<y.accidentals.length;b++){var C=y.accidentals[b];C.acc==="flat"?D[C.note.toUpperCase()]="_":C.acc==="sharp"&&(D[C.note.toUpperCase()]="^")}return D}function r(y,D,b){var C=a.indexOf(y.root)-a.indexOf(D);return D==="none"&&(C=a.indexOf(y.root)),C===0?b>2?C+=7:b===-12&&(C-=7):b>0&&C<0?C+=7:b<0&&C>0&&(C-=7),b>12?C+=7:b<-12&&(C-=7),C}function o(y,D,b,C,k,O){for(var H=[],F=r(k,b,O),U={},de={},X=0;X<D.length;X++){var Z=D[X];if(Z.chord)for(var me=0;me<Z.chord.length;me++){var we=Z.chord[me];if(we.position==="default"){var oe=k.accidentals.length&&k.accidentals[0].acc==="flat",w=r6(we.name,O,oe,!0);w=w.replace(//g,"b").replace(//g,"#"),w!==we.name&&H.push(v(y,Z.startChar,Z.endChar,w))}}if(Z.el_type==="note"&&Z.pitches){for(var T=p(y,Z.startChar,Z.endChar),R=0;R<T.length;R++){var N=f(T[R].note,b,C,U);N.acc&&(U[N.name.toUpperCase()]=N.acc);var J=c(N,k,F,de);J.acc&&(de[J.upper]=J.acc),H.push({note:J.acc+J.name,start:T[R].index,end:T[R].index+T[R].note.length})}if(Z.gracenotes)for(var Ve=0;Ve<Z.gracenotes.length;Ve++){var Te=f(Z.gracenotes[Ve].name,b,C,U);Te.acc&&(U[Te.name.toUpperCase()]=Te.acc);var Ae=c(Te,k,F,U);Ae.acc&&(de[Ae.upper]=Ae.acc),H.push(g(y,Z.startChar,Z.endChar,Ae.acc+Ae.name,Ve))}}else Z.el_type==="bar"?(U={},de={}):Z.el_type==="keySignature"&&(b=Z.root,C=i(Z),k=l(Z,O),F=r(k,b,O))}return H}var a="CDEFGAB",s=[",,,,",",,,",",,",",","","'","''","'''","''''"];function l(y,D){if(y.root==="none")return{root:WS("C",D),mode:"",acc:"",accidentals:[]};var b=n6(y.root+y.acc+y.mode),C=WS(b,D),k=i6(C,y.mode),O=t6(C);return{root:k[0],mode:y.mode,acc:k.length>1?k[1]:"",accidentals:O}}function c(y,D,b,C){for(var k=y.pitch,O=a.indexOf(y.name),H=a.indexOf(D.root),F=(H+k)%7,U=O+b,de=y.oct;U>6;)de++,U-=7;for(;U<0;)de--,U+=7;for(var X=a[F],Z="",me=y.adj,we="=",oe=0;oe<D.accidentals.length;oe++)if(D.accidentals[oe].note.toLowerCase()===X.toLowerCase()){me=me+(D.accidentals[oe].acc==="flat"?-1:1),we=D.accidentals[oe].acc==="flat"?"_":"^";break}var w;switch(me){case-2:Z="__";break;case-1:Z="_";break;case 0:Z="=";break;case 1:Z="^";break;case 2:Z="^^";break;case-3:return w={},w.pitch=y.pitch-1,w.oct=y.oct,w.name=a[a.indexOf(y.name)-1],w.name||(w.name="B",w.oct--),w.name==="B"||w.name==="E"?w.adj=y.adj+1:w.adj=y.adj+2,c(w,D,b+1,C);case 3:return w={},w.pitch=y.pitch+1,w.oct=y.oct,w.name=a[a.indexOf(y.name)+1],w.name||(w.name="C",w.oct++),w.name==="C"||w.name==="F"?w.adj=y.adj-1:w.adj=y.adj-2,c(w,D,b+1,C)}switch((C[X]===Z||!C[X]&&Z===we)&&!y.courtesy&&(Z=""),de){case 0:X=X+",,,";break;case 1:X=X+",,";break;case 2:X=X+",";break;case 4:X=X.toLowerCase();break;case 5:X=X.toLowerCase()+"'";break;case 6:X=X.toLowerCase()+"''";break;case 7:X=X.toLowerCase()+"'''";break;case 8:X=X.toLowerCase()+"''''";break}return de>4&&(X=X.toLowerCase()),{acc:Z,name:X,upper:X.toUpperCase()}}var u=/([_^=]*)([A-Ga-g])([,']*)/,d=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,h=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/;function f(y,D,b,C){var k=D==="none"?0:a.indexOf(D),O=y.match(u),H=O[2].toUpperCase(),F=a.indexOf(H)-k;F<0&&(F+=7);var U=s.indexOf(O[3]);H===O[2]&&U--;var de=C[H]||b[H]||"=";return{acc:O[1],name:H,pitch:F,oct:U,adj:_(O[1],b[H],C[H]),courtesy:O[1]===de}}function p(y,D,b){for(var C=y.substring(D,b),k,O=[],H=/("[^"]+")+/g;(k=H.exec(C))!==null;)O.push({start:H.lastIndex-k[0].length,end:H.lastIndex});for(var F=/(![^!]+!)+/g;(k=F.exec(C))!==null;)O.push({start:F.lastIndex-k[0].length,end:F.lastIndex});for(var U=[],de=/([_^=]*)([A-Ga-g])([,']*)/g;(k=de.exec(C))!==null;){for(var X=!1,Z=0;Z<O.length;Z++)de.lastIndex>=O[Z].start&&de.lastIndex<=O[Z].end&&(X=!0);X||U.push({note:k[0],index:D+de.lastIndex-k[0].length})}return U}function g(y,D,b,C,k){var O=y.substring(D,b),H=/\{/,F=/\}/,U=/([^\{]*)/,de=/(\/*)/,X=O.match(new RegExp(U.source+H.source+de.source+h.source+de.source+h.source+de.source+h.source+de.source+h.source+de.source+h.source+de.source+h.source+de.source+h.source+de.source+h.source+F.source));if(X){for(var Z=1+X[1].length,me=0;me<k;me++)X[me*3+2]&&(Z+=X[me*3+2].length),X[me*3+3]&&(Z+=X[me*3+3].length),X[me*3+4]&&(Z+=X[me*3+4].length),X[me*3+5]&&(Z+=X[me*3+5].length);X[k*3+2]&&(Z+=X[me*3+2].length),D+=Z;var we=X[k*3+3]?X[k*3+3].length:0;we+=X[k*3+4]?X[k*3+4].length:0,we+=X[k*3+5]?X[k*3+5].length:0,b=D+we}return{start:D,end:b,note:C}}function v(y,D,b,C){var k=y.substring(D,b).match(/([^"]+)?(".+")+/);return k[1]&&(D+=k[1].length),b=D+k[2].length,{start:D+1,end:b-1,note:C}}function _(y,D,b){if(!y&&b&&(y=b),!y)return 0;switch(D){case void 0:switch(y){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(y){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(y){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();a6.exports=o6});var d6=P((VBe,c6)=>{var xc=function(n,e,i,r){this.type="BeamElem",this.isflat=!!i,this.isgrace=!!(e&&e==="grace"),this.forceup=!!(this.isgrace||e&&e==="up"),this.forcedown=!!(e&&e==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=n,this.beams=[],r&&r.duration?(this.duration=r.duration,r.startTriplet&&(this.duration*=r.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};xc.prototype.setHint=function(){this.hint=!0};xc.prototype.runningDirection=function(t){var n=t.averagepitch;n!==void 0&&(this.total=Math.round(this.total+n),this.count||(this.count=0),this.count++)};xc.prototype.add=function(t){var n=t.abcelem.averagepitch;n!==void 0&&(t.abcelem.rest||(this.allrests=!1),t.beam=this,this.elems.push(t),this.total=Math.round(this.total+n),(this.min===void 0||t.abcelem.minpitch<this.min)&&(this.min=t.abcelem.minpitch),(this.max===void 0||t.abcelem.maxpitch>this.max)&&(this.max=t.abcelem.maxpitch))};xc.prototype.addBeam=function(t){this.beams.push(t)};xc.prototype.setStemDirection=function(){if(this.average=l6(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var t=6;this.stemsUp=this.average<t}delete this.count,this.total=0};xc.prototype.calcDir=function(){if(this.average=l6(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var t=6;this.stemsUp=this.average<t}for(var n=this.stemsUp?"up":"down",e=0;e<this.elems.length;e++)for(var i=0;i<this.elems[e].heads.length;i++)this.elems[e].heads[i].stemDir=n};function l6(t,n){return n?t/n:0}c6.exports=xc});var h6=P((jBe,u6)=>{var Sp=function(n,e){this.startVoice=n,this.type=e};Sp.prototype.setBottomStaff=function(t){this.endVoice=t,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};Sp.prototype.continuing=function(t){this.lastContinuedVoice=t};Sp.prototype.getWidth=function(){return 10};Sp.prototype.isStartVoice=function(t){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===t)};u6.exports=Sp});var ns=P((HBe,p6)=>{var rre=Hi(),Ar={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};Ar["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};Ar["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};Ar["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};Ar["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var f6=function(t){for(var n=[],e=0,i=t.length;e<i;e++){n[e]=[];for(var r=0,o=t[e].length;r<o;r++)n[e][r]=t[e][r]}return n},ore=function(t,n,e){for(var i=0,r=t.length;i<r;i++){var o=t[i],a,s;for(a=1,s=o.length;a<s;a++)o[a]*=a%2?n:e}},are={printSymbol:function(t,n,e,i,r){if(!Ar[e])return null;var o=f6(Ar[e].d);o[0][1]+=t,o[0][2]+=n;for(var a="",s=0;s<o.length;s++)a+=o[s].join(" ");return r.path=a,i.path(r)},getPathForSymbol:function(t,n,e,i,r){if(i=i||1,r=r||1,!Ar[e])return null;var o=f6(Ar[e].d);return(i!==1||r!==1)&&ore(o,i,r),o[0][1]+=t,o[0][2]+=n,o},getSymbolWidth:function(t){return Ar[t]?Ar[t].w:0},symbolHeightInPitches:function(t){var n=Ar[t]?Ar[t].h:0;return n/rre.STEP},getSymbolAlign:function(t){return t.substring(0,7)==="scripts"&&t!=="scripts.roll"?"center":"left"},getYCorr:function(t){switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(t,n){Ar[t]=n}};p6.exports=are});var g6=P((zBe,m6)=>{var sre=Cc(),kp=ns(),GS=No(),lre=function(t,n){var e,i=0;t.el_type="clef";var r=new sre(t,0,10,"staff-extra clef",n);switch(r.isClef=!0,t.type){case"treble":e="clefs.G";break;case"tenor":e="clefs.C";break;case"alto":e="clefs.C";break;case"bass":e="clefs.F";break;case"treble+8":e="clefs.G",i=1;break;case"tenor+8":e="clefs.C",i=1;break;case"bass+8":e="clefs.F",i=1;break;case"alto+8":e="clefs.C",i=1;break;case"treble-8":e="clefs.G",i=-1;break;case"tenor-8":e="clefs.C",i=-1;break;case"bass-8":e="clefs.F",i=-1;break;case"alto-8":e="clefs.C",i=-1;break;case"none":return null;case"perc":e="clefs.perc";break;default:r.addFixed(new GS("clef="+t.type,0,0,void 0,{type:"debug"}))}var o=5;if(e){var a=kp.symbolHeightInPitches(e),s=cre(e);if(r.addRight(new GS(e,o,kp.getSymbolWidth(e),t.clefPos,{top:a+t.clefPos+s,bottom:t.clefPos+s})),i!==0){var l=.6666666666666666,c=(kp.getSymbolWidth(e)-kp.getSymbolWidth("8")*l)/2,u=i>0?r.top+3:r.bottom-1,d=i>0?r.top+3:r.bottom-3,h=d-2;t.type==="bass-8"&&(u=3,c=0),r.addRight(new GS("8",o+c,kp.getSymbolWidth("8")*l,u,{scalex:l,scaley:l,top:d,bottom:h}))}}return r};function cre(t){switch(t){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}m6.exports=lre});var _6=P((UBe,v6)=>{var dre=Cc(),gb=ns(),ure=No(),hre=function(t,n){if(t.el_type="keySignature",!t.accidentals||t.accidentals.length===0)return null;var e=new dre(t,0,10,"staff-extra key-signature",n);e.isKeySig=!0;var i=0;return t.accidentals.forEach(function(r){var o,a=0;switch(r.acc){case"sharp":o="accidentals.sharp",a=-3;break;case"natural":o="accidentals.nat";break;case"flat":o="accidentals.flat",a=-1.2;break;case"quartersharp":o="accidentals.halfsharp",a=-2.5;break;case"quarterflat":o="accidentals.halfflat",a=-1.2;break;default:o="accidentals.flat"}e.addRight(new ure(o,i,gb.getSymbolWidth(o),r.verticalPos,{thickness:gb.symbolHeightInPitches(o),top:r.verticalPos+gb.symbolHeightInPitches(o)+a,bottom:r.verticalPos+a})),i+=gb.getSymbolWidth(o)+2},this),e};v6.exports=hre});var y6=P((qBe,b6)=>{var Fo=ns(),Mu=No(),fre=function(t,n,e,i){i||(i={});var r=i.dir!==void 0?i.dir:null,o=i.headx!==void 0?i.headx:0,a=i.extrax!==void 0?i.extrax:0,s=i.flag!==void 0?i.flag:null,l=i.dot!==void 0?i.dot:0,c=i.dotshiftx!==void 0?i.dotshiftx:0,u=i.scale!==void 0?i.scale:1,d=i.accidentalSlot!==void 0?i.accidentalSlot:[],h=i.shouldExtendStem!==void 0?i.shouldExtendStem:!1,f=i.printAccidentals!==void 0?i.printAccidentals:!0,p=e.verticalPos,g,v=0,_=0,y=0;if(n===void 0)t.addFixed(new Mu("pitch is undefined",0,0,0,{type:"debug"}));else if(n==="")g=new Mu(null,0,0,p);else{var D=o;if(e.printer_shift){var b=e.printer_shift==="same"?1:0;D=r==="down"?-Fo.getSymbolWidth(n)*u+b:Fo.getSymbolWidth(n)*u-b}var C={scalex:u,scaley:u,thickness:Fo.symbolHeightInPitches(n)*u,name:e.name};if(g=new Mu(n,D,Fo.getSymbolWidth(n)*u,p,C),g.stemDir=r,s){var k=p+(r==="down"?-7:7)*u;h&&(r==="down"&&k>6&&(k=6),r==="up"&&k<6&&(k=6));var O=r==="down"?o:o+g.w-.6;t.addRight(new Mu(s,O,Fo.getSymbolWidth(s)*u,k,{scalex:u,scaley:u}))}for(_=g.w+c-2+5*l;l>0;l--){var H=1-Math.abs(p)%2;t.addRight(new Mu("dots.dot",g.w+c-2+5*l,Fo.getSymbolWidth("dots.dot"),p+H))}}if(g&&(g.highestVert=e.highestVert),f&&e.accidental){var F;switch(e.accidental){case"quartersharp":F="accidentals.halfsharp";break;case"dblsharp":F="accidentals.dblsharp";break;case"sharp":F="accidentals.sharp";break;case"quarterflat":F="accidentals.halfflat";break;case"flat":F="accidentals.flat";break;case"dblflat":F="accidentals.dblflat";break;case"natural":F="accidentals.nat"}for(var U=!1,de=a,X=0;X<d.length;X++)if(p-d[X][0]>=6){d[X][0]=p,de=d[X][1],U=!0;break}U===!1&&(de-=Fo.getSymbolWidth(F)*u+2,d.push([p,de]),v=Fo.getSymbolWidth(F)*u+2);var Z=Fo.symbolHeightInPitches(F);t.addExtra(new Mu(F,de,Fo.getSymbolWidth(F),p,{scalex:u,scaley:u,top:p+Z/2,bottom:p-Z/2})),y=Fo.getSymbolWidth(F)/2}return{notehead:g,accidentalshiftx:v,dotshiftx:_,extraLeft:y}};b6.exports=fre});var C6=P(($Be,w6)=>{var pre=Cc(),Bn=ns(),ga=No(),mre=function(t,n){t.el_type="timeSignature";var e=new pre(t,0,10,"staff-extra time-signature",n);if(t.type==="specified")for(var i=0,r=0;r<t.value.length;r++)if(r!==0&&(e.addRight(new ga("+",i+1,Bn.getSymbolWidth("+"),6,{thickness:Bn.symbolHeightInPitches("+")})),i+=Bn.getSymbolWidth("+")+2),t.value[r].den){for(var o=0,a=0;a<t.value[r].num.length;a++)o+=Bn.getSymbolWidth(t.value[r].num[a]);var s=0;for(a=0;a<t.value[r].num.length;a++)s+=Bn.getSymbolWidth(t.value[r].den[a]);var l=Math.max(o,s);e.addRight(new ga(t.value[r].num,i+(l-o)/2,o,8,{thickness:Bn.symbolHeightInPitches(t.value[r].num[0])})),e.addRight(new ga(t.value[r].den,i+(l-s)/2,s,4,{thickness:Bn.symbolHeightInPitches(t.value[r].den[0])})),i+=l}else{for(var c=0,u=0;u<t.value[r].num.length;u++)c+=Bn.getSymbolWidth(t.value[r].num[u]);e.addRight(new ga(t.value[r].num,i,c,6,{thickness:Bn.symbolHeightInPitches(t.value[r].num[0])})),i+=c}else t.type==="common_time"?e.addRight(new ga("timesig.common",0,Bn.getSymbolWidth("timesig.common"),6,{thickness:Bn.symbolHeightInPitches("timesig.common")})):t.type==="cut_time"?e.addRight(new ga("timesig.cut",0,Bn.getSymbolWidth("timesig.cut"),6,{thickness:Bn.symbolHeightInPitches("timesig.cut")})):t.type==="tempus_imperfectum"?e.addRight(new ga("timesig.imperfectum",0,Bn.getSymbolWidth("timesig.imperfectum"),6,{thickness:Bn.symbolHeightInPitches("timesig.imperfectum")})):t.type==="tempus_imperfectum_prolatio"?e.addRight(new ga("timesig.imperfectum2",0,Bn.getSymbolWidth("timesig.imperfectum2"),6,{thickness:Bn.symbolHeightInPitches("timesig.imperfectum2")})):t.type==="tempus_perfectum"?e.addRight(new ga("timesig.perfectum",0,Bn.getSymbolWidth("timesig.perfectum"),6,{thickness:Bn.symbolHeightInPitches("timesig.perfectum")})):t.type==="tempus_perfectum_prolatio"?e.addRight(new ga("timesig.perfectum2",0,Bn.getSymbolWidth("timesig.perfectum2"),6,{thickness:Bn.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",t);return e};w6.exports=mre});var D6=P((WBe,x6)=>{var gre=function(n,e,i){this.type="DynamicDecoration",this.anchor=n,this.dec=e,i==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0};x6.exports=gre});var S6=P((GBe,E6)=>{var vre=function(n,e,i,r){this.type="CrescendoElem",this.anchor1=n,this.anchor2=e,this.dir=i,r==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0};E6.exports=vre});var M6=P((YBe,k6)=>{var _re=function(n,e){this.type="GlissandoElem",this.anchor1=n,this.anchor2=e};k6.exports=_re});var YS=P((QBe,T6)=>{var Rr=function(n){this.type="TieElem",this.anchor1=n.anchor1,this.anchor2=n.anchor2,n.isGrace&&(this.isGrace=!0),n.fixedY&&(this.fixedY=!0),n.stemDir&&(this.stemDir=n.stemDir),n.voiceNumber!==void 0&&(this.voiceNumber=n.voiceNumber),n.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};Rr.prototype.addInternalNote=function(t){this.internalNotes.push(t)};Rr.prototype.setEndAnchor=function(t){this.anchor2=t,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};Rr.prototype.setStartX=function(t){this.startLimitX=t};Rr.prototype.setEndX=function(t){this.endLimitX=t};Rr.prototype.setHint=function(){this.hint=!0};Rr.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var t;this.anchor1?t=this.anchor1.pitch:this.anchor2?t=this.anchor2.pitch:t=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=t>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=t>=6}};Rr.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var t=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(t=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(t=!0);for(var n=0;n<this.internalNotes.length;n++){var e=this.internalNotes[n];e.stemDir==="down"&&(t=!0)}this.above=t}};Rr.prototype.calcX=function(t,n){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=t,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=n};Rr.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};Rr.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var t=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,n=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!t&&n<this.startY?(this.endY=n,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&t?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var e=!!this.anchor1.parent.beam,i=!!this.anchor2.parent.beam;if(e){var r=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];r||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(i){var o=this.anchor2.parent===this.anchor2.parent.beam.elems[0];o||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};Rr.prototype.avoidCollisionAbove=function(){if(this.above){for(var t=-50,n=0;n<this.internalNotes.length;n++)this.internalNotes[n].highestVert>t&&(t=this.internalNotes[n].highestVert);t>this.startY&&t>this.endY&&(this.startY=this.endY=t-1)}};Rr.prototype.getYBounds=function(){var t=10,n=1e3;this.isTie?(this.calcTieDirection(),this.calcX(t,n),this.calcTieY()):(this.calcSlurDirection(),this.calcX(t,n),this.calcSlurY());var e,i;return this.above?(i=Math.min(this.startY,this.endY),e=i+3):(e=Math.min(this.startY,this.endY),i=e-3),[e,i]};T6.exports=Rr});var O6=P((KBe,R6)=>{var bre=D6(),vb=S6(),yre=M6(),Po=ns(),Dc=No(),wre=YS(),_b=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},Cre=function(t,n,e,i,r,o,a,s,l){for(var c,u=0;u<n.length;u++){if(n[u]==="staccato"||n[u]==="tenuto"||n[u]==="accent"&&!l){var d="scripts."+n[u];if(n[u]==="accent"&&(d="scripts.sforzato"),c===void 0?c=a==="down"?e+2:s-2:c=a==="down"?c+2:c-2,n[u]==="accent")a==="up"?c--:c++;else switch(c){case 2:case 4:case 6:case 8:case 10:a==="up"?c--:c++;break}e>9&&c++;var h=i/2;Po.getSymbolAlign(d)!=="center"&&(h-=Po.getSymbolWidth(d)/2),r.addFixedX(new Dc(d,h,Po.getSymbolWidth(d),c))}if(n[u]==="slide"&&r.heads[0]){var f=r.heads[0].pitch;f-=2;var p=new Dc("",-o-15,0,f-1),g=new Dc("",-o-5,0,f+1);r.addFixedX(p),r.addFixedX(g),t.addOther(new wre({anchor1:p,anchor2:g,fixedY:!0}))}}return c===void 0&&(c=e),{above:c,below:r.bottom}},xre=function(t,n,e,i){for(var r=0;r<n.length;r++)switch(n[r]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var o=new bre(e,n[r],i);t.addOther(o)}},Dre=function(t,n,e,i,r){function o(){if(i.heads.length===0)return 10;for(var c=i.heads[0].pitch,u=1;u<i.heads.length;u++)c=Math.max(c,i.heads[u].pitch);return c}function a(){if(i.heads.length===0)return 2;for(var c=i.heads[0].pitch,u=1;u<i.heads.length;u++)c=Math.min(c,i.heads[u].pitch);return c}function s(c,u){var d=r==="down"?a()+1:o()+9;r!=="down"&&u===1&&d--;var h=e/2;h+=r==="down"?-5:3;for(var f=0;f<u;f++)d-=1,i.addFixedX(new Dc(c,h,Po.getSymbolWidth(c),d))}for(var l=0;l<t.length;l++)switch(t[l]){case"/":s("flags.ugrace",1);break;case"//":s("flags.ugrace",2);break;case"///":s("flags.ugrace",3);break;case"////":s("flags.ugrace",4);break}},Ere=function(t,n,e,i,r,o,a,s){function l(g,v){g==="above"?i.above+=v:i.below-=v}function c(g){var v;return g==="above"?(v=i.above,v<o&&(v=o)):(v=i.below,v>a&&(v=a)),v}function u(g,v,_){var y=c(v),D=2,b=5;e.addFixedX(new Dc(g,n/2,0,y+D,{type:"decoration",klass:"ornament",thickness:3,anchor:_})),l(v,b)}function d(g,v){var _=n/2;Po.getSymbolAlign(g)!=="center"&&(_-=Po.getSymbolWidth(g)/2);var y=Po.symbolHeightInPitches(g)+1,D=c(v);D=v==="above"?D+y/2:D-y/2,e.addFixedX(new Dc(g,_,Po.getSymbolWidth(g),D,{klass:"ornament",thickness:Po.symbolHeightInPitches(g),position:v})),l(v,y)}for(var h={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",trillh:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},f=!1,p=0;p<t.length;p++)switch(t[p]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":u(t[p],r,"middle"),f=!0;break;case"D.C.alcoda":u("D.C. al coda",r,"end"),f=!0;break;case"D.C.alfine":u("D.C. al fine",r,"end"),f=!0;break;case"D.S.alcoda":u("D.S. al coda",r,"end"),f=!0;break;case"D.S.alfine":u("D.S. al fine",r,"end"),f=!0;break;case"fine":u("FINE",r,"middle"),f=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"trillh":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":d(h[t[p]],r),f=!0;break;case"invertedfermata":d(h[t[p]],"below"),f=!0;break;case"mark":e.klass="mark";break;case"accent":s&&(d("scripts.sforzato",r),f=!0);break}return f};function Sre(t,n,e){for(var i=0;i<t.length;i++)switch(t[i]){case"arpeggio":for(var r=n.abcelem.minpitch-1;r<=n.abcelem.maxpitch;r+=2)n.addExtra(new Dc("scripts.arpeggio",-Po.getSymbolWidth("scripts.arpeggio")*2-e,0,r+2,{klass:"ornament",thickness:Po.symbolHeightInPitches("scripts.arpeggio")}));break}}_b.prototype.endLine=function(t){this.startDiminuendoX&&(t.addOther(new vb(this.startDiminuendoX,A6(t.children),">",this.dynamicPositioning)),this.startDiminuendoX=void 0),this.startCrescendoX&&(t.addOther(new vb(this.startCrescendoX,A6(t.children),"<",this.dynamicPositioning)),this.startCrescendoX=void 0)};_b.prototype.dynamicDecoration=function(t,n,e,i){for(var r,o,a,s=0;s<n.length;s++)switch(n[s]){case"diminuendo(":this.startDiminuendoX=e,this.dynamicPositioning=i,r=void 0;break;case"diminuendo)":this.startDiminuendoX||(this.startDiminuendoX=I6(t.children)),r={start:this.startDiminuendoX,stop:e},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=e,this.dynamicPositioning=i,o=void 0;break;case"crescendo)":this.startCrescendoX||(this.startCrescendoX=I6(t.children)),o={start:this.startCrescendoX,stop:e},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=e,a=void 0;break;case"~)":case"glissando)":a={start:this.startGlissandoX,stop:e},this.startGlissandoX=void 0;break}r&&t.addOther(new vb(r.start,r.stop,">",i)),o&&t.addOther(new vb(o.start,o.stop,"<",i)),a&&t.addOther(new yre(a.start,a.stop))};function I6(t){for(var n=0;n<t.length;n++)if(t[n].abcelem.pitches)return t[n];return null}function A6(t){return t[t.length-1]}_b.prototype.createDecoration=function(t,n,e,i,r,o,a,s,l,c,u){l||(l={ornamentPosition:"above",volumePosition:c?"above":"below",dynamicPosition:c?"above":"below"}),xre(t,n,r,l.volumePosition),this.dynamicDecoration(t,n,r,l.dynamicPosition),Dre(n,e,i,r,a);var d=Cre(t,n,e,i,r,o,a,s,u);d.above=Math.max(d.above,this.minTop),d.below=Math.min(d.below,s);var h=Ere(n,i,r,d,l.ornamentPosition,this.minTop,s,u);Sre(n,r,o)};R6.exports=_b});var F6=P((XBe,N6)=>{var kre=function(n,e,i){this.type="EndingElem",this.text=n,this.anchor1=e,this.anchor2=i,this.endingHeightAbove=5,this.pitch=void 0};N6.exports=kre});var L6=P((ZBe,P6)=>{var Mre=function(t){for(var n=0,e=0;e<t.voices.length;e++){var i=t.voices[e].staff;t.voices[e].duplicate||(n+=i.top,n+=-i.bottom)}return n};P6.exports=Mre});var V6=P((JBe,B6)=>{var Tre=L6(),Tu=function(t){this.getTextSize=t,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};Tu.prototype.setLimit=function(t,n){n.specialY[t]&&(n.staff.specialY[t]?n.staff.specialY[t]=Math.max(n.staff.specialY[t],n.specialY[t]):n.staff.specialY[t]=n.specialY[t])};Tu.prototype.addVoice=function(t,n,e){var i=this.voices.length;this.voices[i]=t,this.staffs[n]?this.staffs[n].voices.push(i):this.staffs[this.staffs.length]={top:10,bottom:2,lines:e,voices:[i],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},t.staff=this.staffs[n]};Tu.prototype.setHeight=function(){this.height=Tre(this)};Tu.prototype.setWidth=function(t){this.w=t;for(var n=0;n<this.voices.length;n++)this.voices[n].setWidth(t)};Tu.prototype.setStaffLimits=function(t){t.staff.top=Math.max(t.staff.top,t.top),t.staff.bottom=Math.min(t.staff.bottom,t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)};B6.exports=Tu});var H6=P((e7e,j6)=>{var Ire=Cc(),Are=No(),QS=function(n,e,i){this.type="TempoElement",this.tempo=n,this.tempo.type="tempo",this.tuneNumber=e,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(i,n,e))};QS.prototype.setX=function(t){this.x=t};QS.prototype.createNote=function(t,n,e){var i=.75,r=n.duration[0],o=new Ire(n,r,1,"tempo",e),a,s,l;r<=1/32?(l="noteheads.quarter",s="flags.u32nd",a=0):r<=1/16?(l="noteheads.quarter",s="flags.u16th",a=0):r<=3/32?(l="noteheads.quarter",s="flags.u16nd",a=1):r<=1/8?(l="noteheads.quarter",s="flags.u8th",a=0):r<=3/16?(l="noteheads.quarter",s="flags.u8th",a=1):r<=1/4?(l="noteheads.quarter",a=0):r<=3/8?(l="noteheads.quarter",a=1):r<=1/2?(l="noteheads.half",a=0):r<=3/4?(l="noteheads.half",a=1):r<=1?(l="noteheads.whole",a=0):r<=1.5?(l="noteheads.whole",a=1):r<=2?(l="noteheads.dbl",a=0):(l="noteheads.dbl",a=1);var c=t(o,l,{verticalPos:0},{dir:"up",flag:s,dot:a,scale:i}),u=c.notehead;o.addHead(u);var d;if(l!=="noteheads.whole"&&l!=="noteheads.dbl"){var h=.3333333333333333*i,f=5*i,p=u.dx+u.w,g=-.6;d=new Are(null,p,0,h,{type:"stem",pitch2:f,linewidth:g}),o.addRight(d)}return o};j6.exports=QS});var U6=P((t7e,z6)=>{var bb=function(n,e,i){this.type="TripletElem",this.anchor1=e,this.number=n,this.durationClass=("d"+Math.round(e.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=i.flatBeams};bb.prototype.isClosed=function(){return!!this.anchor2};bb.prototype.middleNote=function(t){this.middleElems.push(t)};bb.prototype.setCloseAnchor=function(t){this.anchor2=t,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};z6.exports=bb});var W6=P((n7e,$6)=>{function q6(t){switch(t){case"B#":return"H#";case"B\u266F":return"H\u266F";case"B":return"H";case"Bb":return"B";case"B\u266D":return"B"}return t}function Rre(t,n,e){var i=t.split(`
`);for(let r=0;r<i.length;r++){let a=i[r].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!a)continue;let s=a[1]||"",l=a[2]||"",c=a[4]||"";e&&(s=q6(s),c=q6(c));let u=n?"":"",d=c?"/"+c:"";i[r]=[s,l,d].join(u)}return i.join(`
`)}$6.exports=Rre});var Q6=P((i7e,Y6)=>{var Iu=No(),KS=Hi(),Ore=W6(),Nre=function(t,n,e,i,r,o,a,s){for(var l=0;l<e.chord.length;l++){var c=e.chord[l].position,u=e.chord[l].rel_position,d=c==="left"||c==="right"||c==="below"||c==="above"||!!u,h,f;d?(h="annotationfont",f="abcjs-annotation"):(h="gchordfont",f="abcjs-chord");var p=t.attr(h,f),g=e.chord[l].name,v;if(typeof g=="string")v=G6(g,c,u,d,h,f,p,t,n,e,i,r,o,a,s),i=v.roomTaken,r=v.roomTakenRight;else for(var _=0;_<g.length;_++)v=G6(g[_].text,c,u,d,h,f,p,t,n,e,i,r,o,a,s),i=v.roomTaken,r=v.roomTakenRight}return{roomTaken:i,roomTakenRight:r}};function G6(t,n,e,i,r,o,a,s,l,c,u,d,h,f,p){for(var g=t.split(`
`),v=g.length-1;v>=0;v--){var _=g[v],y=0,D;i||(_=Ore(_,f,p));var b=s.calc(_,r,o),C=b.width,k=b.height/KS.STEP;switch(n){case"left":u+=C+7,y=-u,D=c.averagepitch,l.addExtra(new Iu(_,y,C+4,D,{type:"text",height:k,dim:a,position:"left"}));break;case"right":d+=4,y=d,D=c.averagepitch,l.addRight(new Iu(_,y,C+4,D,{type:"text",height:k,dim:a,position:"right"}));break;case"below":l.addRight(new Iu(_,0,0,void 0,{type:"text",position:"below",height:k,dim:a,realWidth:C}));break;case"above":l.addRight(new Iu(_,0,0,void 0,{type:"text",position:"above",height:k,dim:a,realWidth:C}));break;default:if(e){var O=e.y+3*KS.STEP;l.addRight(new Iu(_,y+e.x,0,c.minpitch+O/KS.STEP,{position:"relative",type:"text",height:k,dim:a}))}else{var H="above";c.positioning&&c.positioning.chordPosition&&(H=c.positioning.chordPosition),H!=="hidden"&&l.addCentered(new Iu(_,h/2,C,void 0,{type:"chord",position:H,height:k,dim:a,realWidth:C}))}}}return{roomTaken:u,roomTakenRight:d}}Y6.exports=Nre});var sL=P((r7e,aL)=>{var Au=Cc(),Z6=d6(),K6=h6(),J6=g6(),eL=_6(),Tp=y6(),tL=C6(),Fre=O6(),nL=F6(),Mp=ns(),Vn=No(),Ip=Hi(),Pre=V6(),iL=H6(),Ru=YS(),Lre=U6(),Bre=NS(),rL=Q6(),Vre=kS(),Js=Ao(),XS=function(t){var n=0;return t.duration&&(n=t.duration),n},Bo=!1,Lo={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},jn=function(t,n,e){this.decoration=new Fre,this.getTextSize=t,this.tuneNumber=n,this.isBagpipes=e.bagpipes,this.flatBeams=e.flatbeams,this.graceSlurs=e.graceSlurs,this.percmap=e.percmap,this.initialClef=e.initialClef,this.jazzchords=!!e.jazzchords,this.accentAbove=!!e.accentAbove,this.germanAlphabet=!!e.germanAlphabet,this.reset()};jn.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};jn.prototype.setStemHeight=function(t){this.stemHeight=Math.round(t*10/Ip.STEP)/10};jn.prototype.getCurrentVoiceId=function(t,n){return"s"+t+"v"+n};jn.prototype.pushCrossLineElems=function(t,n){this.slursbyvoice[this.getCurrentVoiceId(t,n)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(t,n)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(t,n)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(t,n)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(t,n)]=this.voiceColor)};jn.prototype.popCrossLineElems=function(t,n){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(t,n)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(t,n)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(t,n)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(t,n)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(t,n)]};jn.prototype.containsLyrics=function(t){for(var n=0;n<t.length;n++)for(var e=0;e<t[n].voices.length;e++)for(var i=0;i<t[n].voices[e].length;i++){var r=t[n].voices[e][i];if(r.lyric){(!r.positioning||r.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};jn.prototype.createABCLine=function(t,n,e){this.minY=2,this.containsLyrics(t);var i=new Pre(this.getTextSize);this.tempoSet=!1;for(var r=0;r<t.length;r++)Bo&&this.restoreState(),Bo=!1,this.createABCStaff(i,t[r],n,r,e);return i};jn.prototype.createABCStaff=function(t,n,e,i,r){t.getTextSize.updateFonts(n);for(var o=0;o<n.voices.length;o++){var a=new Bre(o,n.voices.length);o===0?(a.barfrom=n.connectBarLines==="start"||n.connectBarLines==="continue",a.barto=n.connectBarLines==="continue"||n.connectBarLines==="end"):a.duplicate=!0,n.title&&n.title[o]&&(a.header=n.title[o].replace(/\\n/g,`
`),a.headerPosition=6+t.getTextSize.baselineToCenter(a.header,"voicefont","staff-extra voice-name",o,n.voices.length)/Ip.STEP),n.clef&&n.clef.type==="perc"&&(a.isPercussion=!0);var s=(!this.initialClef||r===0)&&J6(n.clef,this.tuneNumber);s&&(o===0&&n.barNumber&&this.addMeasureNumber(n.barNumber,s),a.addChild(s),this.startlimitelem=s);var l=eL(n.key,this.tuneNumber);if(l&&(a.addChild(l),this.startlimitelem=l),n.meter){n.meter.type==="specified"?this.measureLength=n.meter.value[0].num/n.meter.value[0].den:this.measureLength=1;var c=tL(n.meter,this.tuneNumber);a.addChild(c),this.startlimitelem=c}a.duplicate&&(a.children=[]);var u=n.clef.stafflines||n.clef.stafflines===0?n.clef.stafflines:5;t.addVoice(a,i,u);var d=u===1;this.createABCVoice(n.voices[o],e,i,o,d,a),t.setStaffLimits(a),o===0&&(n.brace==="start"||!t.brace&&n.brace?(t.brace||(t.brace=[]),t.brace.push(new K6(a,"brace"))):n.brace==="end"&&t.brace?t.brace[t.brace.length-1].setBottomStaff(a):n.brace==="continue"&&t.brace&&t.brace[t.brace.length-1].continuing(a),n.bracket==="start"||!t.bracket&&n.bracket?(t.bracket||(t.bracket=[]),t.bracket.push(new K6(a,"bracket"))):n.bracket==="end"&&t.bracket?t.bracket[t.bracket.length-1].setBottomStaff(a):n.bracket==="continue"&&t.bracket&&t.bracket[t.bracket.length-1].continuing(a))}};function jre(t,n){var e=t[n];if(e.el_type!=="note"||!e.startBeam||e.endBeam)return{count:1,elem:e};for(var i=[];n<t.length&&t[n].el_type==="note"&&(i.push(t[n]),!t[n].endBeam);)n++;return{count:i.length,elem:i}}jn.prototype.createABCVoice=function(t,n,e,i,r,o){this.popCrossLineElems(e,i),this.stemdir=this.isBagpipes?"down":null,this.abcline=t,this.partstartelem&&(this.partstartelem=new nL("",null,null),o.addOther(this.partstartelem));var a=o.voicetotal<2?-1:o.voicenumber;for(var s in this.slurs)this.slurs.hasOwnProperty(s)&&(this.slurs[s]=new Ru({force:this.slurs[s].force,voiceNumber:a,stemDir:this.slurs[s].stemDir,style:this.slurs[s].dotted}),Bo&&this.slurs[s].setHint(),o.addOther(this.slurs[s]));for(var l=0;l<this.ties.length;l++)this.ties[l]=new Ru({force:this.ties[l].force,stemDir:this.ties[l].stemDir,voiceNumber:a,style:this.ties[l].dotted}),Bo&&this.ties[l].setHint(),o.addOther(this.ties[l]);for(var c=0;c<this.abcline.length;c++)Hre(this.abcline[c]),this.minY=Math.min(this.abcline[c].minpitch,this.minY);for(var u=e===0,d=0;d<this.abcline.length;){var h=jre(this.abcline,d),f=this.createABCElement(u,r,o,h.elem);if(f)for(l=0;l<f.length;l++){if(!this.tempoSet&&n&&!n.suppress){this.tempoSet=!0;var p=new Au(n,0,0,"tempo",this.tuneNumber,{});p.addFixedX(new iL(n,this.tuneNumber,Tp)),o.addChild(p)}o.addChild(f[l])}d+=h.count}this.decoration.endLine(o),this.pushCrossLineElems(e,i)};jn.prototype.saveState=function(){this.tiesSave=Js.cloneArray(this.ties),this.slursSave=Js.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=Js.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=Js.cloneHashOfArrayOfHash(this.tiesbyvoice)};jn.prototype.restoreState=function(){this.ties=Js.cloneArray(this.tiesSave),this.slurs=Js.cloneHashOfHash(this.slursSave),this.slursbyvoice=Js.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=Js.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};jn.prototype.createABCElement=function(t,n,e,i){var r=[];switch(i.el_type){case void 0:r=this.createBeam(n,e,i);break;case"note":r[0]=this.createNote(i,!1,n,e),this.triplet&&this.triplet.isClosed()&&(e.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":r[0]=this.createBarLine(e,i,t),e.duplicate&&r.length>0&&(r[0].invisible=!0);break;case"meter":r[0]=tL(i,this.tuneNumber),this.startlimitelem=r[0],e.duplicate&&r.length>0&&(r[0].invisible=!0);break;case"clef":if(r[0]=J6(i,this.tuneNumber),!r[0])return null;e.duplicate&&r.length>0&&(r[0].invisible=!0);break;case"key":var o=eL(i,this.tuneNumber);o&&(r[0]=o,this.startlimitelem=r[0]),e.duplicate&&r.length>0&&(r[0].invisible=!0);break;case"stem":this.stemdir=i.direction==="auto"?void 0:i.direction;break;case"part":var a=new Au(i,0,0,"part",this.tuneNumber),s=this.getTextSize.calc(i.title,"partsfont","part");a.addFixedX(new Vn(i.title,0,0,void 0,{type:"part",height:s.height/Ip.STEP})),r[0]=a;break;case"tempo":var l=new Au(i,0,0,"tempo",this.tuneNumber);i.suppress||l.addFixedX(new iL(i,this.tuneNumber,Tp)),r[0]=l;break;case"style":i.head==="normal"?delete this.style:this.style=i.head;break;case"hint":Bo=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=i.size;break;case"color":this.voiceColor=i.color,e.color=this.voiceColor;break;default:var c=new Au(i,0,0,"unsupported",this.tuneNumber);c.addFixed(new Vn("element type "+i.el_type,0,0,void 0,{type:"debug"})),r[0]=c}return r};function Hre(t){if(t.pitches){zre(t);for(var n=0,e=0;e<t.pitches.length;e++)n+=t.pitches[e].verticalPos;t.averagepitch=n/t.pitches.length,t.minpitch=t.pitches[0].verticalPos,t.maxpitch=t.pitches[t.pitches.length-1].verticalPos}}jn.prototype.createBeam=function(t,n,e){var i=[],r=new Z6(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,e[0]);Bo&&r.setHint();for(var o=0;o<e.length;o++)r.runningDirection(e[o]);r.setStemDirection();var a=this.stemdir;for(this.stemdir=r.stemsUp?"up":"down",o=0;o<e.length;o++){var s=e[o],l=this.createNote(s,!0,t,n);i.push(l),r.add(l),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return r.calcDir(),n.addBeam(r),this.stemdir=a,i};var zre=function(t){var n;do{n=!0;for(var e=0;e<t.pitches.length-1;e++)if(t.pitches[e].pitch>t.pitches[e+1].pitch){n=!1;var i=t.pitches[e];t.pitches[e]=t.pitches[e+1],t.pitches[e+1]=i}}while(!n)},oL=function(t,n,e,i,r,o,a,s,l){for(var c=e;c>11;c--)c%2===0&&!i&&t.addFixed(new Vn(null,s,(r+4)*l,c,{type:"ledger"}));for(c=n;c<1;c++)c%2===0&&!i&&t.addFixed(new Vn(null,s,(r+4)*l,c,{type:"ledger"}));for(c=0;c<o.length;c++){var u=r;a==="down"&&(u=-u),t.addFixed(new Vn(null,u+s,(r+4)*l,o[c],{type:"ledger"}))}};jn.prototype.addGraceNotes=function(t,n,e,i,r,o,a){var s=.6,l=3.5/5;r=Math.round(r*l);var c=null,u;t.gracenotes.length>1&&(c=new Z6(r,"grace",o),Bo&&c.setHint(),c.mainNote=e);var d,h=[];for(d=t.gracenotes.length-1;d>=0;d--)a+=10,h[d]=a,t.gracenotes[d].accidental&&(a+=7);for(d=0;d<t.gracenotes.length;d++){var f=t.gracenotes[d].verticalPos;u=c?null:Lo.uflags[o?5:3];var p=[],g=Tp(e,"noteheads.quarter",t.gracenotes[d],{dir:"up",headx:-h[d],extrax:-h[d],flag:u,scale:s*this.voiceScale,accidentalSlot:p});g.notehead.highestVert=g.notehead.pitch+r;var v=g.notehead;if(this.addSlursAndTies(e,t.gracenotes[d],v,n,"up",!0),e.addExtra(v),t.gracenotes[d].acciaccatura){var _=t.gracenotes[d].verticalPos+7*s,y=c?5:6;e.addRight(new Vn("flags.ugrace",-h[d]+y,0,_,{scalex:s,scaley:s}))}if(c){var D=t.gracenotes[d].duration/2;o&&(D/=2);var b={heads:[v],abcelem:{averagepitch:f,minpitch:f,maxpitch:f,duration:D}};c.add(b)}else{var C=f+.3333333333333333*s,k=f+7*s,O=v.dx+v.w,H=-.6;e.addExtra(new Vn(null,O,0,C,{type:"stem",pitch2:k,linewidth:H}))}oL(e,f,f,!1,Mp.getSymbolWidth("noteheads.quarter"),[],!0,v.dx-1,.6);var F=t.rest&&(t.rest.type==="spacer"||t.rest.type==="invisible");d===0&&!o&&this.graceSlurs&&!F&&n.addOther(new Ru({anchor1:v,anchor2:i,isGrace:!0}))}return c&&(c.calcDir(),n.addBeam(c)),a};function Ure(t,n,e,i,r,o,a,s,l){var c,u=7,d,h,f;switch(r&&(o==="down"&&(u=3),o==="up"&&(u=11)),a&&(e<.5||e<1?u=7:u=5),n.rest.type){case"whole":c=Lo.rest[0],n.averagepitch=u,n.minpitch=u,n.maxpitch=u,i=0;break;case"rest":n.style==="rhythm"?c=Lo.rhythm[-s]:c=Lo.rest[-s],n.averagepitch=u,n.minpitch=u,n.maxpitch=u;break;case"invisible":case"invisible-multimeasure":case"spacer":c="",n.averagepitch=u,n.minpitch=u,n.maxpitch=u;break;case"multimeasure":c=Lo.rest.multi,n.averagepitch=u,n.minpitch=u,n.maxpitch=u,i=0;var p=Mp.getSymbolWidth(c);t.addHead(new Vn(c,p,p*2,7));var g=new Vn(""+n.rest.text,p,p,16,{type:"multimeasure-text"});t.addExtra(g)}if(n.rest.type.indexOf("multimeasure")<0&&n.rest.type!=="invisible"){var v=Tp(t,c,{verticalPos:u},{dot:i,scale:l});d=v.notehead,d&&(t.addHead(d),h=v.accidentalshiftx,f=v.dotshiftx)}return{noteHead:d,roomTaken:h,roomTakenRight:f}}function X6(t,n){for(var e=0;e<t.length;e++)if(JSON.stringify(t[e])===JSON.stringify(n))return;t.push(n)}jn.prototype.addNoteToAbcElement=function(t,n,e,i,r,o,a,s,l){var c=0,u,d=0,h=0,f,p,g=[],v=[],_=0,y=n.averagepitch>=6?"down":"up";i&&(y=i),r=n.style?n.style:r,(!r||r==="normal")&&(r="note");var D;o?D=Lo[r].nostem:D=Lo[r][-a],D||console.log("noteSymbol:",r,a,o);var b;for(b=y==="down"?n.pitches.length-2:1;y==="down"?b>=0:b<n.pitches.length;b=y==="down"?b-1:b+1){var C=n.pitches[y==="down"?b+1:b-1],k=n.pitches[b],O=y==="down"?C.pitch-k.pitch:k.pitch-C.pitch;O<=1&&!C.printer_shift&&(k.printer_shift=O?"different":"same",(k.verticalPos>11||k.verticalPos<1)&&g.push(k.verticalPos-k.verticalPos%2),y==="down"?d=Mp.getSymbolWidth(D)+2:c=Mp.getSymbolWidth(D)+2)}var H=n.pitches.length;for(b=0;b<n.pitches.length;b++){if(!s){var F;y==="down"&&b!==0||y==="up"&&b!==H-1?F=null:F=Lo[y==="down"?"dflags":"uflags"][-a]}var U;if(n.pitches[b].style)U=Lo[n.pitches[b].style][-a];else if(l.isPercussion&&this.percmap){U=D;var de=this.percmap[Vre(n.pitches[b])];de&&de.noteHead&&Lo[de.noteHead]&&(U=Lo[de.noteHead][-a])}else U=D;n.pitches[b].highestVert=n.pitches[b].verticalPos;var X=(i==="up"||y==="up")&&b===0,Z=(i==="down"||y==="down")&&b===H-1;if(X||Z){if((n.startSlur||H===1)&&(n.pitches[b].highestVert=n.pitches[H-1].verticalPos,XS(n)<1&&(i==="up"||y==="up")&&(n.pitches[b].highestVert+=6)),n.startSlur)for(n.pitches[b].startSlur||(n.pitches[b].startSlur=[]),p=0;p<n.startSlur.length;p++)X6(n.pitches[b].startSlur,n.startSlur[p]);if(n.endSlur)for(n.pitches[b].highestVert=n.pitches[H-1].verticalPos,XS(n)<1&&(i==="up"||y==="up")&&(n.pitches[b].highestVert+=6),n.pitches[b].endSlur||(n.pitches[b].endSlur=[]),p=0;p<n.endSlur.length;p++)X6(n.pitches[b].endSlur,n.endSlur[p])}var me=!s&&a<=-1,we=Tp(t,U,n.pitches[b],{dir:y,extrax:-d,flag:F,dot:e,dotshiftx:c,scale:this.voiceScale,accidentalSlot:v,shouldExtendStem:!i,printAccidentals:!l.isPercussion});_=Math.max(Mp.getSymbolWidth(U),_),t.extraw-=we.extraLeft,u=we.notehead,u&&(this.addSlursAndTies(t,n.pitches[b],u,l,me?y:null,!1),n.gracenotes&&n.gracenotes.length>0&&(u.bottom=u.bottom-1),t.addHead(u)),d+=we.accidentalshiftx,h=Math.max(h,we.dotshiftx)}if(me){var oe=Math.round(70*this.voiceScale)/10,w=y==="down"?n.minpitch-oe:n.minpitch+1/3;w>6&&!i&&(w=6);var T=y==="down"?n.maxpitch-1/3:n.maxpitch+oe;T<6&&!i&&(T=6);var R=y==="down"||t.heads.length===0?0:t.heads[0].w,N=y==="down"?1:-1;u&&u.c==="noteheads.slash.quarter"&&(y==="down"?T-=1:w+=1),u&&u.c==="noteheads.triangle.quarter"&&(y==="down"?T-=.7:w-=1.2),t.addRight(new Vn(null,R,0,w,{type:"stem",pitch2:T,linewidth:N,bottom:w-1})),f=Math.min(w,T)}return{noteHead:u,roomTaken:d,roomTakenRight:h,min:f,additionalLedgers:g,dir:y,symbolWidth:_}};jn.prototype.addLyric=function(t,n){var e="";n.lyric.forEach(function(o){var a=o.divider===" "?"":o.divider;e+=o.syllable+a+`
`});var i=this.getTextSize.calc(e,"vocalfont","lyric"),r=n.positioning?n.positioning.vocalPosition:"below";t.addCentered(new Vn(e,0,i.width,void 0,{type:"lyric",position:r,height:i.height/Ip.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};jn.prototype.createNote=function(t,n,e,i){var r=null,o=0,a=0,s=0,l=[],c,u=XS(t),d=!1;u===0&&(d=!0,u=.25,n=!0);for(var h=Math.floor(Math.log(u)/Math.log(2)),f=0,p=Math.pow(2,h),g=p/2;p<u;f++,p+=g,g/=2);t.startTriplet&&(this.tripletmultiplier=t.tripletMultiplier);var v=u*this.tripletmultiplier;t.rest&&t.rest.type==="multimeasure"&&(v=1),t.rest&&t.rest.type==="invisible-multimeasure"&&(v=this.measureLength*t.rest.text);var _=t.rest?"rest":"note",y=new Au(t,v,1,_,this.tuneNumber,{durationClassOveride:t.duration*this.tripletmultiplier});if(Bo&&y.setHint(),t.rest){this.measureLength===u&&t.rest.type!=="invisible"&&t.rest.type!=="spacer"&&t.rest.type.indexOf("multimeasure")<0&&(t.rest.type="whole");var D=Ure(y,t,u,f,i.voicetotal>1,this.stemdir,e,h,this.voiceScale);r=D.noteHead,o=D.roomTaken,a=D.roomTakenRight}else{var b=this.addNoteToAbcElement(y,t,f,this.stemdir,this.style,d,h,n,i);b.min!==void 0&&(this.minY=Math.min(b.min,this.minY)),r=b.noteHead,o=b.roomTaken,a=b.roomTakenRight,l=b.additionalLedgers,c=b.dir,s=b.symbolWidth}if(t.lyric!==void 0&&this.addLyric(y,t),t.gracenotes!==void 0&&(o+=this.addGraceNotes(t,i,y,r,this.stemHeight*this.voiceScale,this.isBagpipes,o)),t.decoration){var C=n&&c!=="up"?Math.min(-3,y.bottom-6):y.bottom;this.decoration.createDecoration(i,t.decoration,y.top,r?r.w:0,y,o,c,C,t.positioning,this.hasVocals,this.accentAbove)}if(t.barNumber&&y.addFixed(new Vn(t.barNumber,-10,0,0,{type:"barNumber"})),oL(y,t.minpitch,t.maxpitch,t.rest,s,l,c,-2,1),t.chord!==void 0){var k=rL(this.getTextSize,y,t,o,a,s,this.jazzchords,this.germanAlphabet);o=k.roomTaken,a=k.roomTakenRight}return t.startTriplet&&(this.triplet=new Lre(t.startTriplet,r,{flatBeams:this.flatBeams})),t.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(r),this.triplet&&!t.startTriplet&&!t.endTriplet&&!(t.rest&&t.rest.type==="spacer")&&this.triplet.middleNote(r),y};jn.prototype.addSlursAndTies=function(t,n,e,i,r,o){if(n.endTie&&this.ties.length>0){for(var a=!1,s=0;s<this.ties.length;s++)if(this.ties[s].anchor1&&this.ties[s].anchor1.pitch===e.pitch){this.ties[s].setEndAnchor(e),i.setRange(this.ties[s]),this.ties.splice(s,1),a=!0;break}a||(this.ties[0].setEndAnchor(e),i.setRange(this.ties[0]),this.ties.splice(0,1))}var l=i.voicetotal<2?-1:i.voicenumber;if(n.startTie){var c=new Ru({anchor1:e,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:o,voiceNumber:l,style:n.startTie.style});Bo&&c.setHint(),this.ties[this.ties.length]=c,i.addOther(c),t.startTie=!0}var u,d;if(n.endSlur)for(var h=0;h<n.endSlur.length;h++)d=n.endSlur[h],this.slurs[d]?(u=this.slurs[d],u.setEndAnchor(e),i.setRange(u),delete this.slurs[d]):(u=new Ru({anchor2:e,stemDir:this.stemdir,voiceNumber:l}),Bo&&u.setHint(),i.addOther(u)),this.startlimitelem&&u.setStartX(this.startlimitelem);else if(!o)for(var f in this.slurs)this.slurs.hasOwnProperty(f)&&this.slurs[f].addInternalNote(e);if(n.startSlur)for(h=0;h<n.startSlur.length;h++)d=n.startSlur[h].label,u=new Ru({anchor1:e,stemDir:this.stemdir,voiceNumber:l,style:n.startSlur[h].style}),Bo&&u.setHint(),this.slurs[d]=u,i.addOther(u)};jn.prototype.addMeasureNumber=function(t,n){var e=this.getTextSize.calc(t,"measurefont","bar-number"),i=0;n.isClef&&(i+=e.width/2);var r=e.width>10&&n.abcelem.type==="treble"?13.5:11;n.addFixed(new Vn(t,i,e.width,r+e.height/Ip.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};jn.prototype.createBarLine=function(t,n,e){var i=new Au(n,0,10,"bar",this.tuneNumber),r=null,o=0;n.barNumber&&this.addMeasureNumber(n.barNumber,i);var a=n.type==="bar_right_repeat"||n.type==="bar_dbl_repeat",s=n.type!=="bar_left_repeat"&&n.type!=="bar_thick_thin"&&n.type!=="bar_invisible",l=n.type==="bar_right_repeat"||n.type==="bar_dbl_repeat"||n.type==="bar_left_repeat"||n.type==="bar_thin_thick"||n.type==="bar_thick_thin",c=n.type==="bar_left_repeat"||n.type==="bar_thick_thin"||n.type==="bar_thin_thin"||n.type==="bar_dbl_repeat",u=n.type==="bar_left_repeat"||n.type==="bar_dbl_repeat";if(a||u){for(var d in this.slurs)this.slurs.hasOwnProperty(d)&&this.slurs[d].setEndX(i);this.startlimitelem=i}if(a&&(i.addRight(new Vn("dots.dot",o,1,7)),i.addRight(new Vn("dots.dot",o,1,5)),o+=6),s&&(r=new Vn(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(r)),n.type==="bar_invisible"&&(r=new Vn(null,o,1,2,{type:"none",pitch2:10,linewidth:.6}),i.addRight(r)),n.decoration&&this.decoration.createDecoration(t,n.decoration,12,l?3:1,i,0,"down",2,n.positioning,this.hasVocals,this.accentAbove),l&&(o+=4,r=new Vn(null,o,4,2,{type:"bar",pitch2:10,linewidth:4}),i.addRight(r),o+=5),this.partstartelem&&n.endEnding&&(this.partstartelem.anchor2=r,this.partstartelem=null),c&&(o+=3,r=new Vn(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(r)),u&&(o+=3,i.addRight(new Vn("dots.dot",o,1,7)),i.addRight(new Vn("dots.dot",o,1,5))),n.startEnding&&e&&t.voicenumber===0){var h=this.getTextSize.calc(n.startEnding,"repeatfont","").width;i.minspacing+=h+10,this.partstartelem=new nL(n.startEnding,r,null),t.addOther(this.partstartelem)}if(i.extraw-=5,n.chord!==void 0)var f=rL(this.getTextSize,i,n,0,0,0,!1,this.germanAlphabet);return i};aL.exports=jn});var uL=P((o7e,dL)=>{var sr="http://www.w3.org/2000/svg";function un(t){this.svg=JS(),this.currentGroup=[],t.appendChild(this.svg)}un.prototype.clear=function(){if(this.svg){var t=this.svg.parentNode;this.svg=JS(),this.currentGroup=[],t&&(t.innerHTML="",t.appendChild(this.svg))}};un.prototype.setTitle=function(t){var n=document.createElement("title"),e=document.createTextNode(t);n.appendChild(e),this.svg.insertBefore(n,this.svg.firstChild)};un.prototype.setResponsiveWidth=function(t,n){if(this.svg.setAttribute("viewBox","0 0 "+t+" "+n),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var e=this.svg.parentNode.getAttribute("class");e?e.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",e+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var i=n/t*100;this.svg.parentNode.style["padding-bottom"]=i+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};un.prototype.setSize=function(t,n){this.svg.setAttribute("width",t),this.svg.setAttribute("height",n)};un.prototype.setAttribute=function(t,n){this.svg.setAttribute(t,n)};un.prototype.setScale=function(t){t!==1?(this.svg.style.transform="scale("+t+","+t+")",this.svg.style["-ms-transform"]="scale("+t+","+t+")",this.svg.style["-webkit-transform"]="scale("+t+","+t+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};un.prototype.insertStyles=function(t){var n=document.createElementNS(sr,"style");n.textContent=t,this.svg.insertBefore(n,this.svg.firstChild)};un.prototype.setParentStyles=function(t){for(var n in t)t.hasOwnProperty(n)&&this.svg.parentNode&&(this.svg.parentNode.style[n]=t[n]);if(this.dummySvg){var e=document.querySelector("body");e.removeChild(this.dummySvg),this.dummySvg=null}};function lL(t,n,e){var i=e-t;return"M "+t+" "+n+" l "+i+" 0 l 0 1  l "+-i+" 0  z "}function cL(t,n,e){var i=e-n;return"M "+t+" "+n+" l 0 "+i+" l 1 0  l 0 "+-i+"  z "}un.prototype.rect=function(t){var n=[],e=t.x,i=t.y,r=t.x+t.width,o=t.y+t.height;return n.push(lL(e,i,r)),n.push(lL(e,o,r)),n.push(cL(r,i,o)),n.push(cL(e,o,i)),this.path({path:n.join(" "),stroke:"none","data-name":t["data-name"]})};un.prototype.dottedLine=function(t){var n=document.createElementNS(sr,"line");n.setAttribute("x1",t.x1),n.setAttribute("x2",t.x2),n.setAttribute("y1",t.y1),n.setAttribute("y2",t.y2),n.setAttribute("stroke",t.stroke),n.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(n,this.svg.firstChild)};un.prototype.rectBeneath=function(t){var n=document.createElementNS(sr,"rect");n.setAttribute("x",t.x),n.setAttribute("width",t.width),n.setAttribute("y",t.y),n.setAttribute("height",t.height),t.stroke&&n.setAttribute("stroke",t.stroke),t["stroke-opacity"]&&n.setAttribute("stroke-opacity",t["stroke-opacity"]),t.fill&&n.setAttribute("fill",t.fill),t["fill-opacity"]&&n.setAttribute("fill-opacity",t["fill-opacity"]),this.svg.insertBefore(n,this.svg.firstChild)};un.prototype.text=function(t,n,e,i){var r=document.createElementNS(sr,"text");r.setAttribute("stroke","none");for(var o in n)n.hasOwnProperty(o)&&r.setAttribute(o,n[o]);for(var a=n["data-name"]=="free-text",s=(""+t).split(`
`),l=0;l<s.length;l++)if(!(a&&s[l]=="")){var c=document.createElementNS(sr,"tspan");if(i)for(var u in i)i.hasOwnProperty(u)&&c.setAttribute(u,i[u]);if(c.setAttribute("x",n.x?n.x:0),l!==0&&c.setAttribute("dy","1.2em"),s[l].indexOf("")!==-1){var d=s[l].split("");if(c.textContent=d[0],d[1]){var h=document.createElementNS(sr,"tspan");h.setAttribute("dy","-0.3em"),h.setAttribute("style","font-size:0.7em"),h.textContent=d[1],c.appendChild(h)}if(d[2]){var f=d[1]?"0.4em":"0.1em",p=document.createElementNS(sr,"tspan");p.setAttribute("dy",f),p.setAttribute("style","font-size:0.7em"),p.textContent=d[2],c.appendChild(p)}}else a&&s[l].trim()==""?c.innerHTML="&nbsp;":c.textContent=s[l];r.appendChild(c)}return e?e.appendChild(r):this.append(r),r};un.prototype.richTextLine=function(t,n,e,i,r,o){var a=document.createElementNS(sr,"text");a.setAttribute("stroke","none"),a.setAttribute("class",i),a.setAttribute("x",n),a.setAttribute("y",e),a.setAttribute("text-anchor",r),a.setAttribute("dominant-baseline","middle");for(var s=0;s<t.length;s++){for(var l=t[s],c=document.createElementNS(sr,"tspan"),u=Object.keys(l.attrs),d=0;d<u.length;d++){var h=l.attrs[u[d]];h!==""&&c.setAttribute(u[d],h)}c.textContent=l.content,a.appendChild(c)}return o?o.appendChild(a):this.append(a),a};un.prototype.guessWidth=function(t,n){var e=this.createDummySvg(),i=this.text(t,n,e),r;try{r=i.getBBox(),isNaN(r.height)||!r.height?r={width:n["font-size"]/2,height:n["font-size"]+2}:r={width:r.width,height:r.height}}catch(o){r={width:n["font-size"]/2,height:n["font-size"]+2}}return e.removeChild(i),r};un.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=JS();var t=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",t.join(""));var n=document.querySelector("body");n.appendChild(this.dummySvg)}return this.dummySvg};var ZS={};un.prototype.getTextSize=function(t,n,e){if(typeof t=="number"&&(t=""+t),!t||t.match(/^\s+$/))return{width:0,height:0};var i;if(t.length<20&&(i=t+JSON.stringify(n),ZS[i]))return ZS[i];var r=!e;e||(e=this.text(t,n));var o;try{o=e.getBBox(),isNaN(o.height)||!o.height?o=this.guessWidth(t,n):o={width:o.width,height:o.height}}catch(a){o=this.guessWidth(t,n)}return r&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(e):this.svg.removeChild(e)),i&&(ZS[i]=o),o};un.prototype.openGroup=function(t){t=t||{};var n=document.createElementNS(sr,"g");return t.klass&&n.setAttribute("class",t.klass),t.fill&&n.setAttribute("fill",t.fill),t.stroke&&n.setAttribute("stroke",t.stroke),t["data-name"]&&n.setAttribute("data-name",t["data-name"]),t.prepend?this.prepend(n):this.append(n),this.currentGroup.unshift(n),n};un.prototype.closeGroup=function(){var t=this.currentGroup.shift();return t&&t.children.length===0?(t.parentElement.removeChild(t),null):t};un.prototype.path=function(t){var n=document.createElementNS(sr,"path");for(var e in t)t.hasOwnProperty(e)&&(e==="path"?n.setAttributeNS(null,"d",t.path):e==="klass"?n.setAttributeNS(null,"class",t[e]):t[e]!==void 0&&n.setAttributeNS(null,e,t[e]));return this.append(n),n};un.prototype.pathToBack=function(t){var n=document.createElementNS(sr,"path");for(var e in t)t.hasOwnProperty(e)&&(e==="path"?n.setAttributeNS(null,"d",t.path):e==="klass"?n.setAttributeNS(null,"class",t[e]):n.setAttributeNS(null,e,t[e]));return this.prepend(n),n};un.prototype.lineToBack=function(t){for(var n=document.createElementNS(sr,"line"),e=Object.keys(t),i=0;i<e.length;i++)n.setAttribute(e[i],t[e[i]]);return this.prepend(n),n};un.prototype.append=function(t){this.currentGroup.length>0?this.currentGroup[0].appendChild(t):this.svg.appendChild(t)};un.prototype.prepend=function(t){this.currentGroup.length>0?this.currentGroup[0].appendChild(t):this.svg.insertBefore(t,this.svg.firstChild)};un.prototype.setAttributeOnElement=function(t,n){for(var e in n)n.hasOwnProperty(e)&&t.setAttributeNS(null,e,n[e])};un.prototype.moveElementToChild=function(t,n){t.appendChild(n)};function JS(){var t=document.createElementNS(sr,"svg");return t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("role","img"),t.setAttribute("fill","currentColor"),t.setAttribute("stroke","currentColor"),t}dL.exports=un});var fL=P((a7e,hL)=>{var e2=Hi(),qre=uL(),Or=function(t){this.paper=new qre(t),this.controller=null,this.space=3*e2.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};Or.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};Or.prototype.newTune=function(t){this.abctune=t,this.setVerticalSpace(t.formatting),this.isPrint=t.media==="print",this.setPadding(t)};Or.prototype.setLineThickness=function(t){this.lineThickness=t};Or.prototype.setPaddingOverride=function(t){this.paddingOverride={top:t.paddingtop,bottom:t.paddingbottom,right:t.paddingright,left:t.paddingleft}};Or.prototype.setPadding=function(t){function n(e,i,r,o,a){t.formatting[r]!==void 0?e.padding[i]=t.formatting[r]:e.paddingOverride[i]!==void 0?e.padding[i]=e.paddingOverride[i]:e.isPrint?e.padding[i]=o:e.padding[i]=a}n(this,"top","topmargin",38,15),n(this,"bottom","botmargin",38,15),n(this,"left","leftmargin",68,15),n(this,"right","rightmargin",68,15)};Or.prototype.adjustNonScaledItems=function(t){this.padding.top/=t,this.padding.bottom/=t,this.padding.left/=t,this.padding.right/=t,this.abctune.formatting.headerfont.size/=t,this.abctune.formatting.footerfont.size/=t};Or.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};Or.prototype.setVerticalSpace=function(t){t.staffsep!==void 0&&(this.spacing.staffSeparation=t.staffsep*4/3),t.composerspace!==void 0&&(this.spacing.composer=t.composerspace*4/3),t.partsspace!==void 0&&(this.spacing.parts=t.partsspace*4/3),t.textspace!==void 0&&(this.spacing.text=t.textspace*4/3),t.musicspace!==void 0&&(this.spacing.music=t.musicspace*4/3),t.titlespace!==void 0&&(this.spacing.title=t.titlespace*4/3),t.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=t.sysstaffsep*4/3),t.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=t.stafftopmargin*4/3),t.subtitlespace!==void 0&&(this.spacing.subtitle=t.subtitlespace*4/3),t.topspace!==void 0&&(this.spacing.top=t.topspace*4/3),t.vocalspace!==void 0&&(this.spacing.vocal=t.vocalspace*4/3),t.wordsspace!==void 0&&(this.spacing.words=t.wordsspace*4/3)};Or.prototype.calcY=function(t){return this.y-t*e2.STEP};Or.prototype.yToPitch=function(t){return t/e2.STEP};Or.prototype.moveY=function(t,n){n===void 0&&(n=1),this.y+=t*n};Or.prototype.absolutemoveY=function(t){this.y=t};hL.exports=Or});var mL=P((s7e,pL)=>{function $re(t,n,e,i,r,o){var a=t.text;this.rows=[];var s;n&&this.rows.push({move:n});var l=e.calc("textfont","defined-text");if(a==="")this.rows.push({move:l.attr["font-size"]*2});else if(typeof a=="string"){let v=function(_){return _.replace(/^[ \t]*\n/gm,`X
`)};var g=v;this.rows.push({move:l.attr["font-size"]/2}),this.rows.push({left:i,text:a,font:"textfont",klass:"defined-text",anchor:"start",startChar:t.startChar,endChar:t.endChar,absElemType:"freeText",name:"free-text"});var c=v(a);s=o.calc(c,"textfont","defined-text"),this.rows.push({move:s.height})}else if(a){for(var u=0,d=i,h="textfont",f=0;f<a.length;f++)a[f].font?h=a[f].font:h="textfont",this.rows.push({left:d,text:a[f].text,font:h,klass:"defined-text",anchor:"start",startChar:t.startChar,endChar:t.endChar,absElemType:"freeText",name:"free-text"}),s=o.calc(a[f].text,e.calc(h,"defined-text").font,"defined-text"),d+=s.width+s.height/2,u=Math.max(u,s.height);this.rows.push({move:u})}else if(t.length===1){var p=r/2;this.rows.push({left:p,text:t[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:t.startChar,endChar:t.endChar,absElemType:"freeText",name:"free-text"}),s=o.calc(t[0].text,"textfont","defined-text"),this.rows.push({move:s.height})}}pL.exports=$re});var vL=P((l7e,gL)=>{function Wre(t,n,e){this.rows=[],t&&this.rows.push({move:t}),this.rows.push({separator:n,absElemType:"separator"}),e&&this.rows.push({move:e})}gL.exports=Wre});var bL=P((c7e,_L)=>{function Gre(t,n,e,i,r,o){this.rows=[],t&&this.rows.push({move:t});var a=n.titleleft?"start":"middle",s=n.titleleft?r:i;this.rows.push({left:s,text:e.text,font:"subtitlefont",klass:"text subtitle",anchor:a,startChar:e.startChar,endChar:e.endChar,absElemType:"subtitle",name:"subtitle"});var l=o.calc(e.text,"subtitlefont","text subtitle");this.rows.push({move:l.height})}_L.exports=Gre});var yb=P((d7e,yL)=>{function Yre(t,n,e){if(n.text){n.marginLeft||(n.marginLeft=0),n.klass||(n.klass=""),n.anchor||(n.anchor="start"),n.info||(n.info={startChar:-2,endChar:-2}),n.marginTop&&t.push({move:n.marginTop});var i={left:n.marginLeft,text:n.text,font:n.font,anchor:n.anchor,startChar:n.info.startChar,endChar:n.info.endChar,"dominant-baseline":n["dominant-baseline"]};n.absElemType&&(i.absElemType=n.absElemType),!n.inGroup&&n.klass&&(i.klass=n.klass),n.name&&(i.name=n.name),t.push(i);var r=e.calc("A",n.font,n.klass),o=n.text.split(`
`).length;if(n.text[n.text.length-1]===`
`&&o--,!n.noMove){var a=r.height*1.1*o;t.push({move:Math.round(a)}),n.marginBottom&&t.push({move:n.marginBottom})}}}yL.exports=Yre});var t2=P((u7e,wL)=>{var Qre=yb();function Kre(t,n,e,i,r,o,a,s){var l=s.calc("i",e,i);if(n==="")t.push({move:l.height});else{if(typeof n=="string"){Qre(t,{marginLeft:o,text:n,font:e,klass:i,marginTop:a.marginTop,anchor:a.anchor,absElemType:a.absElemType,info:a.info,name:r},s);return}a.marginTop&&t.push({move:a.marginTop});var c=0,u=0,d={left:o,anchor:a.anchor,phrases:[]};i&&(d.klass=i),t.push(d);for(var h=0;h<n.length;h++){var f=n[h],p=f.font?f.font:s.attr(e,i).font,g={content:f.text};p&&(g.attrs={"font-family":s.getFamily(p.face),"font-size":p.size,"font-weight":p.weight,"font-style":p.style,"font-decoration":p.decoration}),d.phrases.push(g);var v=s.calc(f.text,p,i);c=Math.max(c,v.height),f.text[f.text.length-1]===" "&&(u=l.width)}t.push({move:c})}}wL.exports=Kre});var xL=P((h7e,CL)=>{var wb=yb(),Ap=t2();function Xre(t,n,e,i,r,o,a,s,l,c){if(this.rows=[],t.header&&o){var u=c.calc("X","headerfont","abcjs-header abcjs-meta-top").height;wb(this.rows,{marginLeft:a,text:t.header.left,font:"headerfont",klass:"header meta-top",marginTop:-u,info:n.header,name:"header"},c),wb(this.rows,{marginLeft:a+r/2,text:t.header.center,font:"headerfont",klass:"header meta-top",marginTop:-u,anchor:"middle",info:n.header,name:"header"},c),wb(this.rows,{marginLeft:a+r,text:t.header.right,font:"headerfont",klass:"header meta-top",marginTop:-u,anchor:"end",info:n.header,name:"header"},c)}o&&this.rows.push({move:s.top});var d=e.titleleft?"start":"middle",h=e.titleleft?a:a+r/2;if(t.title){var f=l?"abcjs-title":"";Ap(this.rows,t.title,"titlefont",f,"title",h,{marginTop:s.title,anchor:d,absElemType:"title",info:n.title},c)}if(i.length)for(var p=0;p<i.length&&i[p].subtitle;){var f=l?"abcjs-text abcjs-subtitle":"";Ap(this.rows,i[p].subtitle.text,"subtitlefont",f,"subtitle",h,{marginTop:s.subtitle,anchor:d,absElemType:"subtitle",info:i[p].subtitle},c),p++}if(t.rhythm||t.origin||t.composer){if(this.rows.push({move:s.composer}),t.rhythm&&t.rhythm.length>0){var g=!!(t.composer||t.origin),f=l?"abcjs-rhythm":"";wb(this.rows,{marginLeft:a,text:t.rhythm,font:"infofont",klass:f,absElemType:"rhythm",noMove:g,info:n.rhythm,name:"rhythm"},c)}var v=!0;t.composer&&typeof t.composer!="string"&&(v=!1),t.origin&&typeof t.origin!="string"&&(v=!1);var _=t.composer?t.composer:"";if(t.origin&&(typeof _=="string"&&typeof t.origin=="string"?_+=" ("+t.origin+")":typeof _=="string"&&typeof t.origin!="string"?(_=[{text:_}],_.push({text:" ("}),_=_.concat(t.origin),_.push({text:")"})):(_.push({text:" ("}),_=_.concat(t.origin),_.push({text:")"}))),_){var f=l?"abcjs-composer":"";Ap(this.rows,_,"composerfont",f,"composer",a+r,{anchor:"end",absElemType:"composer",info:n.composer,ingroup:!0},c)}}if(t.author&&t.author.length>0){var f=l?"abcjs-author":"";Ap(this.rows,t.author,"composerfont",f,"author",a+r,{anchor:"end",absElemType:"author",info:n.author},c)}if(t.partOrder&&t.partOrder.length>0){var f=l?"abcjs-part-order":"";Ap(this.rows,t.partOrder,"partsfont",f,"part-order",a,{absElemType:"partOrder",info:n.partOrder,anchor:"start"},c)}}CL.exports=Xre});var SL=P((f7e,EL)=>{var Rp=yb(),DL=t2();function Cb(t,n,e,i,r,o,a){this.rows=[],t.unalignedWords&&t.unalignedWords.length>0&&this.unalignedWords(t.unalignedWords,i,r,o,a),this.extraText(t,i,r,o,a),t.footer&&e&&this.footer(t.footer,n,i,a)}Cb.prototype.unalignedWords=function(t,n,e,i,r){var o=i?"abcjs-unaligned-words":"",a="wordsfont",s=r.calc("i",a,o);this.rows.push({move:e.words}),n2(this.rows,"",t,n,a,"unalignedWords","unalignedWords",o,"unalignedWords",e,i,r),this.rows.push({move:s.height})};function Ec(t,n,e,i,r,o,a){e&&(n&&(typeof e=="string"?e=n+e:e=[{text:n}].concat(e)),r=o?"abcjs-extra-text "+r:"",DL(t,e,"historyfont",r,"description",i,{absElemType:"extraText",anchor:"start"},a))}function n2(t,n,e,i,r,o,a,s,l,c,u,d){if(e){s=u?"abcjs-extra-text "+s:"";var h=d.calc("A",r,s);if(typeof e=="string")n&&(e=n+`
`+e),Rp(t,{marginLeft:i,text:e,font:r,absElemType:"extraText",name:l,"dominant-baseline":"middle",klass:s},d);else{t.push({startGroup:a,klass:s,name:l}),t.push({move:c.info}),n&&(Rp(t,{marginLeft:i,text:n,font:r,absElemType:"extraText",name:l,"dominant-baseline":"middle"},d),t.push({move:h.height*3/4}));for(var f=0;f<e.length;f++)DL(t,e[f],r,"",l,i,{anchor:"start"},d),f<e.length-1&&typeof e[f]=="string"&&typeof e[f+1]!="string"&&t.push({move:h.height*3/4});t.push({endGroup:a,absElemType:o,startChar:-1,endChar:-1,name:l}),t.push({move:h.height})}}}Cb.prototype.extraText=function(t,n,e,i,r){Ec(this.rows,"Book: ",t.book,n,"abcjs-book",i,r),Ec(this.rows,"Source: ",t.source,n,"abcjs-source",i,r),Ec(this.rows,"Discography: ",t.discography,n,"abcjs-discography",i,r),n2(this.rows,"Notes:",t.notes,n,"historyfont","extraText","notes","abcjs-notes","description",e,i,r),Ec(this.rows,"Transcription: ",t.transcription,n,"abcjs-transcription",i,r),n2(this.rows,"History:",t.history,n,"historyfont","extraText","history","abcjs-history","description",e,i,r),Ec(this.rows,"Copyright: ",t["abc-copyright"],n,"abcjs-copyright",i,r),Ec(this.rows,"Creator: ",t["abc-creator"],n,"abcjs-creator",i,r),Ec(this.rows,"Edited By: ",t["abc-edited-by"],n,"abcjs-edited-by",i,r)};Cb.prototype.footer=function(t,n,e,i){var r="header meta-bottom",o="footerfont";this.rows.push({startGroup:"footer",klass:r}),Rp(this.rows,{marginLeft:e,text:t.left,font:o,klass:r,name:"footer"},i),Rp(this.rows,{marginLeft:e+n/2,text:t.center,font:o,klass:r,anchor:"middle",name:"footer"},i),Rp(this.rows,{marginLeft:e+n,text:t.right,font:o,klass:r,anchor:"end",name:"footer"},i)};EL.exports=Cb});var r2=P((p7e,kL)=>{function i2(t,n,e,i){if(t.indexOf(n)===0){var r=t.replace(n,""),o=parseInt(r,10);""+o===r&&(e[i]=o)}}function Zre(t,n){var e=[];if(t.absEl.elemset){for(var i={},r=0;r<t.absEl.elemset.length;r++){var o=t.absEl.elemset[r];if(o)for(var a=o.getAttribute("class").split(" "),s=0;s<a.length;s++)i[a[s]]=!0}for(var l=0;l<Object.keys(i).length;l++)e.push(Object.keys(i)[l])}for(var c={},u=0;u<e.length;u++)i2(e[u],"abcjs-v",c,"voice"),i2(e[u],"abcjs-l",c,"line"),i2(e[u],"abcjs-m",c,"measure");t.staffPos&&(c.staffPos=t.staffPos);for(var d=n.target;d&&d.dataset&&!d.dataset.name&&d.tagName.toLowerCase()!=="svg";)d=d.parentNode;for(var h=n.target;h&&h.dataset&&!h.dataset.index&&h.tagName.toLowerCase()!=="svg";)h=h.parentNode;return h&&h.dataset&&(c.name=h.dataset.name,c.clickedName=d.dataset.name,c.parentClasses=h.classList),d&&d.classList&&(c.clickedClasses=d.classList),c.selectableElement=t.svgEl,{classes:e,analysis:c}}kL.exports=Zre});var PL=P((m7e,FL)=>{var xb=Hi(),Jre=r2();function eoe(t,n){if(t.rangeHighlight=doe,t.dragging)for(var e=0;e<t.selectables.length;e++){var i=t.selectables[e];i.svgEl.getAttribute("selectable")==="true"&&(i.svgEl.setAttribute("tabindex",0),i.svgEl.setAttribute("data-index",e),i.svgEl.addEventListener("keydown",ioe.bind(t)),i.svgEl.addEventListener("keyup",roe.bind(t)),i.svgEl.addEventListener("focus",noe.bind(t)))}for(var r=0;r<n.length;r++)n[r].addEventListener("touchstart",ML.bind(t),{passive:!0}),n[r].addEventListener("touchmove",TL.bind(t),{passive:!0}),n[r].addEventListener("touchend",Op.bind(t),{passive:!0}),n[r].addEventListener("mousedown",ML.bind(t)),n[r].addEventListener("mousemove",TL.bind(t)),n[r].addEventListener("mouseup",Op.bind(t))}function toe(t){var n=1,e=1,i=t.target.closest("svg"),r=0;i&&i.viewBox&&i.viewBox.baseVal&&(i.viewBox.baseVal.width!==0&&(n=i.viewBox.baseVal.width/i.clientWidth),i.viewBox.baseVal.height!==0&&(e=i.viewBox.baseVal.height/i.clientHeight),r=i.viewBox.baseVal.y);var o=t.target&&t.target.tagName==="svg",a,s;return o?(a=t.offsetX,s=t.offsetY):(a=t.layerX,s=t.layerY),a=a*n,s=s*e,[a,s+r]}function noe(t){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&AL.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragYStep=0}function ioe(t){switch(t.keyCode){case 38:case 40:t.preventDefault()}}function roe(t){var n=!1,e=t.target.dataset.index;switch(t.keyCode){case 13:case 32:n=!0,this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",Op.bind(this)(t);break;case 38:n=!0,this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*xb.STEP+")"));break;case 40:n=!0,this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*xb.STEP+")"));break;case 9:this.dragYStep!==0&&Op.bind(this)(t);break;default:break}n&&t.preventDefault()}function ooe(t,n){if(!n)return-1;var e=n.dataset;if(!e)return-1;for(var i=e.index,r=0;r<t.length;r++){var o=t[r].svgEl.dataset;if(o&&i===o.index)return r}return-1}function aoe(t,n,e){for(var i=9999999,r=-1,o=0;o<t.selectables.length&&i>0;o++){var a=t.selectables[o];if(t.getDim(a),a.dim.left<n&&a.dim.right>n&&a.dim.top<e&&a.dim.bottom>e)r=o,i=0;else if(a.dim.top<e&&a.dim.bottom>e){var s=Math.min(Math.abs(a.dim.left-n),Math.abs(a.dim.right-n));s<i&&(i=s,r=o)}else if(a.dim.left<n&&a.dim.right>n){var l=Math.min(Math.abs(a.dim.top-e),Math.abs(a.dim.bottom-e));l<i&&(i=l,r=o)}else{var c=Math.abs(n-a.dim.left)>Math.abs(n-a.dim.right)?Math.abs(n-a.dim.right):Math.abs(n-a.dim.left),u=Math.abs(e-a.dim.top)>Math.abs(e-a.dim.bottom)?Math.abs(e-a.dim.bottom):Math.abs(e-a.dim.top),d=Math.sqrt(c*c+u*u);d<i&&(i=d,r=o)}}return r>=0&&i<=12?r:-1}function soe(t,n,e){if(t.x<=n.offsetX&&t.x+t.width>=n.offsetX&&t.y<=n.offsetY&&t.y+t.height>=n.offsetY)return[n.offsetX,n.offsetY];var i=Math.abs(n.layerY/e-n.offsetY);return i<3?[n.offsetX,n.offsetY]:[n.layerX,n.layerY]}function loe(t){if(!t)return null;if(t.tagName==="svg")return t;if(!t.getAttribute)return null;for(var n=t.getAttribute("selectable");!n;)t.parentElement?(t=t.parentElement,t.tagName==="svg"?n=!0:n=t.getAttribute("selectable")):n=!0;return t}function IL(t,n){var e,i,r,o=ooe(t.selectables,loe(n.target));return o>=0?(r=soe(t.selectables[o].svgEl.getBBox(),n,t.scale),e=r[0],i=r[1]):(r=toe(n),e=r[0],i=r[1],o=aoe(t,e,i)),{x:e,y:i,clickedOn:o}}function o2(t){if(!(!t||!t.target||!t.touches||t.touches.length<1)){var n=t.target.getBoundingClientRect(),e=t.touches[0].pageX-n.left,i=t.touches[0].pageY-n.top;t.touches[0].offsetX=e,t.touches[0].offsetY=i,t.touches[0].layerX=t.touches[0].pageX,t.touches[0].layerY=t.touches[0].pageY}}function ML(t){var n=t;t.type==="touchstart"&&(o2(t),t.touches.length>0&&(n=t.touches[0]));var e=IL(this,n);e.clickedOn>=0&&(t.type==="touchstart"||t.button===0)&&this.selectables[e.clickedOn]&&(this.dragTarget=this.selectables[e.clickedOn],this.dragIndex=e.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:e.x,y:e.y},this.dragging&&this.dragTarget.isDraggable&&(uoe(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function TL(t){var n=t;if(t.type==="touchmove"&&(o2(t),t.touches.length>0&&(n=t.touches[0])),this.lastTouchMove=t,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var e=IL(this,n),i=Math.round((e.y-this.dragMouseStart.y)/xb.STEP);i!==this.dragYStep&&(this.dragYStep=i,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+i*xb.STEP+")"))}}function Op(t){var n=t;t.type==="touchend"&&this.lastTouchMove&&(o2(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(n=this.lastTouchMove.touches[0])),this.dragTarget&&(RL.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),AL.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,n),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),hoe(this.renderer.svg,"abcjs-dragging-in-progress"))}function coe(t){t>=0&&t<this.selectables.length&&(this.dragTarget=this.selectables[t],this.dragIndex=t,this.dragMechanism="keyboard",Op.bind(this)({target:this.dragTarget.svgEl}))}function AL(t,n,e,i,r){for(var o=Jre(t,r),a=o.classes,s=o.analysis,l=0;l<this.listeners.length;l++)this.listeners[l](t.absEl.abcelem,t.absEl.tuneNumber,a.join(" "),s,{step:n,max:e,index:i,setSelection:coe.bind(this)},r)}function RL(){for(var t=0;t<this.selected.length;t++)this.selected[t].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function doe(t,n){RL.bind(this)();for(var e=0;e<this.staffgroups.length;e++)for(var i=this.staffgroups[e].voices,r=0;r<i.length;r++)for(var o=i[r].children,a=0;a<o.length;a++){var s=o[a].abcelem.startChar,l=o[a].abcelem.endChar;(n>s&&t<l||n===t&&n===l)&&(this.selected[this.selected.length]=o[a],o[a].highlight(void 0,this.selectionColor))}}function OL(t){var n=t.getAttribute("class");n||(n="");for(var e=n.split(" "),i={},r=0;r<e.length;r++)i[e[r]]=!0;return i}function NL(t,n){var e=[];for(var i in n)n.hasOwnProperty(i)&&e.push(i);t.setAttribute("class",e.join(" "))}function uoe(t,n){if(t){var e=OL(t.svg);e[n]=!0,NL(t.svg,e)}}function hoe(t,n){if(t){var e=OL(t.svg);delete e[n],NL(t.svg,e)}}FL.exports=eoe});var Db=P((g7e,LL)=>{function foe(t,n,e,i,r){return n+(i-n)/(e-t)*(r-t)}LL.exports=foe});var zL=P((v7e,HL)=>{var poe=No(),a2=Hi(),s2=Db(),moe=function(t){if(!(t.elems.length===0||t.allrests)){var n=voe(t.stemsUp,t.isgrace),e=t.elems[0],i=t.elems[t.elems.length-1],r=0,o=t.stemsUp?e.abcelem.maxpitch:e.abcelem.minpitch;r=VL(e,t.stemsUp,o,r),r=VL(i,t.stemsUp,o,r),r=Math.max(t.stemHeight,r+3);var a=_oe(t.average,t.elems.length,r,t.stemsUp,e.abcelem.averagepitch,i.abcelem.averagepitch,t.isflat,t.min,t.max,t.isgrace),s=jL(t.stemsUp,e,i);t.addBeam({startX:s[0],endX:s[1],startY:a[0],endY:a[1],dy:n});for(var l=yoe(t.elems,t.stemsUp,t.beams[0],t.isgrace,n),c=0;c<l.length;c++)t.addBeam(l[c]);boe(t.elems,t.stemsUp,t.beams[0],n,t.mainNote)}},BL=function(t){return t===void 0?0:Math.floor(Math.log(t)/Math.log(2))};function VL(t,n,e,i){if(!t.children)return i;for(var r=0;r<t.children.length;r++){var o=t.children[r];n&&o.top!==void 0&&o.c==="flags.ugrace"?i=Math.max(i,o.top-e):!n&&o.bottom!==void 0&&o.c==="flags.ugrace"&&(i=Math.max(i,e-o.bottom+7))}return i}function goe(t,n,e,i){if(i)return 0;var r=t-n,o=e/2;return r>o&&(r=o),r<-o&&(r=-o),r}function voe(t,n){var e=t?a2.STEP:-a2.STEP;return n&&(e=e*.4),e}function jL(t,n,e){var i=n.heads[t?0:n.heads.length-1],r=e.heads[t?0:e.heads.length-1],o=i.x;t&&(o+=i.w-.6);var a=r.x;return a+=t?r.w:.6,[o,a]}function _oe(t,n,e,i,r,o,a,s,l,c){var u=e-2,d=e-2,h=Math.round(i?Math.max(t+u,l+d):Math.min(t-u,s-d)),f=goe(r,o,n,a),p=h+Math.floor(f/2),g=h+Math.floor(-f/2);return c||(i&&h<6||!i&&h>6)&&(p=6,g=6),[p,g]}function boe(t,n,e,i,r){for(var o=0;o<t.length;o++){var a=t[o];if(!a.abcelem.rest){var s=!a.addExtra,l=s?r:a,c=a.heads[n?0:a.heads.length-1],u=1/5,d=c.pitch+(n?u:-u),h=n?c.w:0;s||(h+=c.dx);var f=c.x+h,p=s2(e.startX,e.startY,e.endX,e.endY,f),g=n?-.6:.6;n||(p-=i/2/a2.STEP),s&&(h+=a.heads[0].dx),c.c==="noteheads.slash.quarter"&&(n?d+=1:d-=1);var v=new poe(null,h,0,d,{type:"stem",pitch2:p,linewidth:g});v.setX(l.x),l.addRight(v)}}}function yoe(t,n,e,i,r){for(var o=[],a=[],s=0;s<t.length;s++){var l=t[s];if(!l.abcelem.rest){var c=l.heads[n?0:l.heads.length-1],u=c.x+(n?c.w:0),d=s2(e.startX,e.startY,e.endX,e.endY,u),h=n?-1.5:1.5;i&&(h=h*2/3);var f=l.abcelem.duration;f===0&&(f=.25);for(var p=BL(f);p<-3;p++){var g=-4-p;if(a[g]?a[g].single=!1:a[g]={x:u+(n?-.6:0),y:d+h*(g+1),durlog:p,single:!0},s>0&&l.abcelem.beambr&&l.abcelem.beambr<=g+1){a[g].split||(a[g].split=[a[g].x]);var v=jL(n,t[s-1],l);a[g].split[a[g].split.length-1]>=v[0]&&(v[0]+=l.w),a[g].split.push(v[0]),a[g].split.push(v[1])}}for(var _=a.length-1;_>=0;_--)if(s===t.length-1||BL(t[s+1].abcelem.duration)>-_-4){var y=u,D=d+h*(_+1);a[_].single&&(s===0?y=u+5:s===t.length-1?y=u-5:t[s-1].duration===t[s+1].duration?y=s%2===0?u+5:u-5:y=t[s-1].duration>t[s+1].duration?u+5:u-5,D=s2(e.startX,e.startY,e.endX,e.endY,y)+h*(_+1));var b={startX:a[_].x,endX:y,startY:a[_].y,endY:D,dy:r};if(a[_].split!==void 0){var C=a[_].split;b.endX<=C[C.length-1]&&(C[C.length-1]-=l.w),C.push(b.endX),b.split=a[_].split}o.push(b),a=a.slice(0,_)}}}return o}HL.exports=moe});var qL=P((_7e,UL)=>{var woe=Db();function Coe(t){if(t.anchor1&&t.anchor2){t.hasBeam=!!t.anchor1.parent.beam&&t.anchor1.parent.beam===t.anchor2.parent.beam;var n=t.anchor1.parent.beam;if(t.hasBeam&&(n.elems[0]!==t.anchor1.parent||n.elems[n.elems.length-1]!==t.anchor2.parent)&&(t.hasBeam=!1),t.hasBeam){var e=l2(n)?t.anchor1.x+t.anchor1.w:t.anchor1.x;t.yTextPos=xoe(e,t.anchor2.x,n),t.yTextPos+=l2(n)?3:-2,t.xTextPos=Doe(e,t.anchor2.x),t.top=t.yTextPos+1,t.bottom=t.yTextPos-2,l2(n)&&(t.endingHeightAbove=4)}else{t.startNote=Math.max(t.anchor1.parent.top,9)+4,t.endNote=Math.max(t.anchor2.parent.top,9)+4,t.anchor1.parent.type==="rest"&&t.anchor2.parent.type!=="rest"?t.startNote=t.endNote:t.anchor2.parent.type==="rest"&&t.anchor1.parent.type!=="rest"&&(t.endNote=t.startNote);for(var i=0,r=0;r<t.middleElems.length;r++)i=Math.max(i,t.middleElems[r].top);i+=4,(i>t.startNote||i>t.endNote)&&(t.startNote=i,t.endNote=i),t.flatBeams&&(t.startNote=Math.max(t.startNote,t.endNote),t.endNote=Math.max(t.startNote,t.endNote)),t.yTextPos=t.startNote+(t.endNote-t.startNote)/2,t.xTextPos=t.anchor1.x+(t.anchor2.x+t.anchor2.w-t.anchor1.x)/2,t.top=t.yTextPos+1}}delete t.middleElems,delete t.flatBeams}function l2(t){return t.stemsUp}function xoe(t,n,e){if(e.beams.length===0)return 0;e=e.beams[0];var i=t+(n-t)/2;return woe(e.startX,e.startY,e.endX,e.endY,i)}function Doe(t,n){return t+(n-t)/2}UL.exports=Coe});var GL=P((b7e,WL)=>{var Eoe=zL(),Soe=Db(),koe=qL(),Moe=function(t){for(var n=0;n<t.beams.length;n++)if(t.beams[n].type==="BeamElem"){Eoe(t.beams[n]),Toe(t.beams[n]);for(var e=0;e<t.beams[n].elems.length;e++)t.adjustRange(t.beams[n].elems[e])}for(t.staff.specialY.chordLines=Ioe(t.children),n=0;n<t.otherchildren.length;n++){var i=t.otherchildren[n];i.type==="TripletElem"&&(koe(i),t.adjustRange(i))}t.staff.top=Math.max(t.staff.top,t.top),t.staff.bottom=Math.min(t.staff.bottom,t.bottom)};function Toe(t){for(var n=1.5,e=0;e<t.elems.length;e++){var i=t.elems[e];if(i.top)for(var r=Ooe(i,t),o=0;o<i.children.length;o++){var a=i.children[o];if(a.klass==="ornament"&&a.position!=="below"&&a.bottom-n<r){var s=r-a.bottom+n;a.bottom+=s,a.top+=s,a.pitch+=s,r=i.top=a.top}}}}function $L(t,n){var e=n.getChordDim();if(e){for(var i=0;i<t.length;i++){var r=t[i]<e.left;if(r){i>0&&n.putChordInLane(i),t[i]=e.right;return}}t.push(e.right),n.putChordInLane(t.length-1)}}function Ioe(t){var n=[0],e=[0],i,r,o;for(i=0;i<t.length;i++){for(r=0;r<t[i].children.length;r++)o=t[i].children[r],o.chordHeightAbove&&$L(n,o);for(r=t[i].children.length-1;r>=0;r--)o=t[i].children[r],o.chordHeightBelow&&$L(e,o)}return(n.length>1||e.length>1)&&Roe(t,n.length,e.length),{above:n.length,below:e.length}}function Aoe(t){for(var n=0,e=0;e<t.children.length;e++){var i=t.children[e];i.chordHeightBelow&&n++}return n}function Roe(t,n,e){for(var i=0;i<t.length;i++)for(var r=Aoe(t[i]),o=0;o<t[i].children.length;o++){var a=t[i].children[o];a.chordHeightAbove&&a.invertLane(n)}}function Ooe(t,n){return n=n.beams[0],Soe(n.startX,n.startY,n.endX,n.endY,t.x)}WL.exports=Moe});var QL=P((y7e,YL)=>{var Nu=Hi(),Noe=function(t,n){for(var e,i=0;i<n.staffs.length;i++){var r=n.staffs[i],o={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(t.showDebug&&t.showDebug.indexOf("box")>=0&&(r.originalTop=r.top,r.originalBottom=r.bottom),Ou(r,o,"lyricHeightAbove"),Ou(r,o,"chordHeightAbove",r.specialY.chordLines.above),r.specialY.endingHeightAbove&&(r.specialY.chordHeightAbove?r.top+=2:r.top+=r.specialY.endingHeightAbove+el,o.endingHeightAbove=r.top),r.specialY.dynamicHeightAbove&&r.specialY.volumeHeightAbove?(r.top+=Math.max(r.specialY.dynamicHeightAbove,r.specialY.volumeHeightAbove)+el,o.dynamicHeightAbove=r.top,o.volumeHeightAbove=r.top):(Ou(r,o,"dynamicHeightAbove"),Ou(r,o,"volumeHeightAbove")),Ou(r,o,"partHeightAbove"),Ou(r,o,"tempoHeightAbove"),r.specialY.lyricHeightBelow&&(r.specialY.lyricHeightBelow+=t.spacing.vocal/Nu.STEP,o.lyricHeightBelow=r.bottom,r.bottom-=r.specialY.lyricHeightBelow+el),r.specialY.chordHeightBelow){o.chordHeightBelow=r.bottom;var a=r.specialY.chordHeightBelow;r.specialY.chordLines.below&&(a*=r.specialY.chordLines.below),r.bottom-=a+el}r.specialY.volumeHeightBelow&&r.specialY.dynamicHeightBelow?(o.volumeHeightBelow=r.bottom,o.dynamicHeightBelow=r.bottom,r.bottom-=Math.max(r.specialY.volumeHeightBelow,r.specialY.dynamicHeightBelow)+el):r.specialY.volumeHeightBelow?(o.volumeHeightBelow=r.bottom,r.bottom-=r.specialY.volumeHeightBelow+el):r.specialY.dynamicHeightBelow&&(o.dynamicHeightBelow=r.bottom,r.bottom-=r.specialY.dynamicHeightBelow+el),t.showDebug&&t.showDebug.indexOf("box")>=0&&(r.positionY=o);for(var s=0;s<r.voices.length;s++){var l=n.voices[r.voices[s]];Foe(o,l,t.spacing)}if(e!==void 0){var c=r.top-10,u=e+c,d=t.spacing.systemStaffSeparation/Nu.STEP,h=d-u;h>0&&(r.top+=h)}r.top+=t.spacing.staffTopMargin/Nu.STEP,e=2-r.bottom}},el=1;function Ou(t,n,e,i){if(t.specialY[e]){var r=t.specialY[e];i&&(r*=i),t.top+=r+el,n[e]=t.top}}function Foe(t,n,e){var i,r;for(i=0;i<n.children.length;i++)r=n.children[i],Poe(t,r,e);for(i=0;i<n.otherchildren.length;i++)switch(r=n.otherchildren[i],r.type){case"CrescendoElem":Loe(t,r);break;case"DynamicDecoration":Boe(t,r);break;case"EndingElem":Voe(t,r);break;case"TieElem":var o=r.getYBounds();n.staff.top=Math.max(n.staff.top,o[0]),n.staff.top=Math.max(n.staff.top,o[1]),n.staff.bottom=Math.min(n.staff.bottom,o[0]),n.staff.bottom=Math.min(n.staff.bottom,o[1]);break}}function Poe(t,n,e){for(var i=0;i<n.children.length;i++){var r=n.children[i];for(var o in n.specialY)n.specialY.hasOwnProperty(o)&&r[o]&&(r.pitch=t[o],r.top===void 0&&(r.type==="TempoElement"?joe(t,r):Hoe(t,r,e),n.pushTop(r.top),n.pushBottom(r.bottom)))}}function Loe(t,n){n.dynamicHeightAbove?n.pitch=t.dynamicHeightAbove:n.pitch=t.dynamicHeightBelow}function Boe(t,n){n.volumeHeightAbove?n.pitch=t.volumeHeightAbove:n.pitch=t.volumeHeightBelow}function Voe(t,n){n.pitch=t.endingHeightAbove-2}function joe(t,n){if(n.pitch=t.tempoHeightAbove,n.top=t.tempoHeightAbove,n.bottom=t.tempoHeightAbove,n.note){var e=n.pitch-n.totalHeightInPitches+1;n.note.top=e,n.note.bottom=e;for(var i=0;i<n.note.children.length;i++){var r=n.note.children[i];r.top+=e,r.bottom+=e,r.pitch+=e,r.pitch2!==void 0&&(r.pitch2+=e)}}}function Hoe(t,n,e){switch(n.type){case"part":n.top=t.partHeightAbove+n.height,n.bottom=t.partHeightAbove;break;case"text":case"chord":n.chordHeightAbove?(n.top=t.chordHeightAbove,n.bottom=t.chordHeightAbove):(n.top=t.chordHeightBelow,n.bottom=t.chordHeightBelow);break;case"lyric":n.lyricHeightAbove?(n.top=t.lyricHeightAbove,n.bottom=t.lyricHeightAbove):(n.top=t.lyricHeightBelow+e.vocal/Nu.STEP,n.bottom=t.lyricHeightBelow+e.vocal/Nu.STEP,n.pitch-=e.vocal/Nu.STEP);break;case"debug":n.top=t.chordHeightAbove,n.bottom=t.chordHeightAbove;break}(n.pitch===void 0||n.top===void 0)&&console.error("RelativeElement position not set.",n.type,n.pitch,n.top,t)}YL.exports=Noe});var XL=P((w7e,KL)=>{var is=function(){};is.beginLayout=function(t,n){n.i=0,n.durationindex=0,n.startx=t,n.minx=t,n.nextx=t,n.spacingduration=0};is.layoutEnded=function(t){return t.i>=t.children.length};is.getNextX=function(t){return Math.max(t.minx,t.nextx)};is.getSpacingUnits=function(t){return Math.sqrt(t.spacingduration*8)};is.layoutOneItem=function(t,n,e,i,r){var o=e.children[e.i];if(!o)return 0;var a=t-e.minx,s=e.durationindex+o.duration>0?i:0;if(o.abcelem.el_type==="note"&&!o.abcelem.rest&&e.voicenumber!==0&&r){var l=r.children[r.i],c=l&&(o.abcelem.maxpitch<=l.abcelem.maxpitch+1&&o.abcelem.maxpitch>=l.abcelem.minpitch-1||o.abcelem.minpitch<=l.abcelem.maxpitch+1&&o.abcelem.minpitch>=l.abcelem.minpitch-1);if(c&&o.abcelem.minpitch===l.abcelem.minpitch&&o.abcelem.maxpitch===l.abcelem.maxpitch&&l.heads&&l.heads.length>0&&o.heads&&o.heads.length>0&&l.heads[0].c===o.heads[0].c&&(c=!1),c){var u=l.heads&&l.heads.length>0?l.heads[0].realWidth:l.fixed.w;o.adjustedWidth||(o.adjustedWidth=u+o.w),o.w=o.adjustedWidth;for(var d=0;d<o.children.length;d++){var h=o.children[d];h.name.indexOf("accidental")<0&&(h.adjustedWidth||(h.adjustedWidth=h.dx+u),h.dx=h.adjustedWidth)}}}var f=zoe(o,s);return a<f&&(e.i===0||o.type!=="bar"||e.children[e.i-1].type!=="part"&&e.children[e.i-1].type!=="tempo")&&(t+=f-a),o.setX(t),e.spacingduration=o.duration,e.minx=t+Uoe(o),e.i!==e.children.length-1&&(e.minx+=o.minspacing),this.updateNextX(t,n,e),t};is.shiftRight=function(t,n){var e=n.children[n.i];e&&(e.setX(e.x+t),n.minx+=t,n.nextx+=t)};is.updateNextX=function(t,n,e){e.nextx=t+n*this.getSpacingUnits(e)};is.updateIndices=function(t){this.layoutEnded(t)||(t.durationindex+=t.children[t.i].duration,t.children[t.i].type==="bar"&&(t.durationindex=Math.round(t.durationindex*64)/64),t.i++)};function zoe(t,n){var e=0;return(t.type==="note"||t.type==="bar")&&(e=n),-t.extraw+e}function Uoe(t){return t.w}KL.exports=is});var JL=P((C7e,ZL)=>{var Nr=XL();function qoe(t){for(var n=0,e=0;e<t.length;e++){var i=t[e];if(i.children.length>0){var r=i.children.length-1,o=i.children[r];if(o.abcelem.el_type==="bar"){var a=o.children[0].x;a>n?n=a:o.children[0].x=n}}}}var $oe=function(t,n,e,i,r){var o=1e-7,a=0,s=1e3,l=r;i.startx=l;var c,u=0;for(e&&console.log("init layout",t),c=0;c<i.voices.length;c++)Nr.beginLayout(l,i.voices[c]);for(var d=0;!Woe(i.voices);){for(u=null,c=0;c<i.voices.length;c++)!Nr.layoutEnded(i.voices[c])&&(!u||c2(i.voices[c])<u)&&(u=c2(i.voices[c]));var h=[],f=[];for(c=0;c<i.voices.length;c++){var p=c2(i.voices[c]);p-u>o?f.push(i.voices[c]):h.push(i.voices[c])}d=0;var g=0;for(c=0;c<h.length;c++)Nr.getNextX(h[c])>l&&(l=Nr.getNextX(h[c]),d=Nr.getSpacingUnits(h[c]),g=h[c].spacingduration);a+=d,s=Math.min(s,d),e&&console.log("currentduration: ",u,a,s);var v=void 0;for(c=0;c<h.length;c++){var _=h[c];_.voicenumber===0&&(v=c);var y=v!==void 0&&h[v].voicenumber!==_.voicenumber?h[v]:void 0;Goe(_,y)||(y=void 0);var D=Nr.layoutOneItem(l,t,_,n,y),b=D-l;if(b>0){l=D;for(var C=0;C<c;C++)Nr.shiftRight(b,h[C])}}for(c=0;c<f.length;c++)f[c].spacingduration-=g,Nr.updateNextX(l,t,f[c]);for(c=0;c<h.length;c++){var k=h[c];Nr.updateIndices(k)}}for(c=0;c<i.voices.length;c++)Nr.getNextX(i.voices[c])>l&&(l=Nr.getNextX(i.voices[c]),d=Nr.getSpacingUnits(i.voices[c]));return qoe(i.voices),a+=d,i.setWidth(l),{spacingUnits:a,minSpace:s}};function Woe(t){for(var n=0;n<t.length;n++)if(!Nr.layoutEnded(t[n]))return!1;return!0}function c2(t){return t.durationindex-(t.children[t.i]&&t.children[t.i].duration>0?0:5e-7)}function Goe(t,n){return!t||!t.staff||!t.staff.voices||t.staff.voices.length===0||!n||!n.staff||!n.staff.voices||n.staff.voices.length===0?!1:t.staff.voices[0]===n.staff.voices[0]}ZL.exports=$oe});var d2=P((x7e,n8)=>{function Yoe(t,n,e,i,r){var o=t.padding.left,a=0,s,l;for(s=0;s<e.length;s++)e[s].header&&(l=n.calc(e[s].header,"voicefont",""),a=Math.max(a,l.width));if(a=e8(a,i,n),a=e8(a,r,n),a){var c=n.calc("A","voicefont","");a+=c.width}o+=a;var u=0;return u=t8(i,o,u),u=t8(r,o,u),o+u}function e8(t,n,e){if(n){for(var i=0;i<n.length;i++)if(n[i].header){var r=e.calc(n[i].header,"voicefont","");t=Math.max(t,r.width)}}return t}function t8(t,n,e){if(t)for(var i=0;i<t.length;i++)Qoe(n,t[i]),e=Math.max(e,t[i].getWidth());return e}function Qoe(t,n){n.x=t}n8.exports=Yoe});var r8=P((D7e,i8)=>{var Koe=d2();function Xoe(t,n,e){var i=Koe(t,n.getTextSize,n.voices,n.brace,n.bracket),r=Zoe(n,e.minPadding),o=r.totalDuration,a=r.minSpacing,s=a*o;e.minWidth&&(s=Math.max(s,e.minWidth));var l=e.minPadding?e.minPadding/2:2;n.startx=i,n.w=s+i;for(var c=0;c<n.voices.length;c++){var u=n.voices[c];u.startx=i,u.w=s+i;for(var d=i,h=!1,f=0,p=0;p<u.children.length;p++){var g=u.children[p];h||(g.duration!==0?(h=!0,f=(s+i-d)/o,n.gridStart=d):(g.x=d,d+=g.w+g.minspacing)),h&&(e.align==="center"?g.x=d+g.duration*f/2-g.w/2:g.duration===0?g.x=d+1-g.w:g.x=d+l-g.extraw,d+=g.duration*f);for(var v=0;v<g.children.length;v++){var _=g.children[v],y=_.dx?_.dx:0;_.x=g.x+y}}n.gridEnd=d}return s}function Zoe(t,n){for(var e=0,i=0,r=0;r<t.voices.length;r++){for(var o=0,a=t.voices[r],s=0;s<a.children.length;s++){var l=a.children[s];if(o+=l.duration,l.duration){var c=(l.w+n)/l.duration;e=Math.max(e,c)}}i=Math.max(i,o)}return{totalDuration:i,minSpacing:e}}i8.exports=Xoe});var a8=P((E7e,o8)=>{var Joe=GL(),eae=QL(),tae=JL(),nae=d2(),iae=r8(),rae=function(t,n,e,i,r,o){var a,s,l=e;for(a=0;a<n.lines.length;a++)if(s=n.lines[a],s.staff){var c;o!==void 0?c=iae(t,s.staffGroup,o):c=oae(t,l,i,s.staffGroup,n.formatting,a===n.lines.length-1,!1),Math.round(c)>Math.round(l)&&(l=c,r&&(a=-1))}for(a=0;a<n.lines.length;a++)if(s=n.lines[a],s.staffGroup&&s.staffGroup.voices){for(var u=0;u<s.staffGroup.voices.length;u++)Joe(s.staffGroup.voices[u]);eae(t,s.staffGroup)}for(a=0;a<n.lines.length;a++)s=n.lines[a],s.staffGroup&&s.staffGroup.setHeight();return l},oae=function(t,n,e,i,r,o,a){for(var s=nae(t,i.getTextSize,i.voices,i.brace,i.bracket),l=e,c=0;c<8;c++){var u=tae(l,t.minPadding,a,i,s);if(l=aae(o,r.stretchlast,n+t.padding.left,i.w,l,u.spacingUnits,u.minSpace,t.padding.left+t.padding.right),a&&console.log("setXSpace",c,i.w,l,i.minspace),l===null)break}return sae(i.voices),i.w-s};function aae(t,n,e,i,r,o,a,s){if(t)if(n===void 0){if(i/e<.66)return null}else{var l=1-(i+s)/e,c=l<n;if(!c)return null}if(Math.abs(e-i)<2)return null;var u=o*r,d=i-u;return o>0?(r=(e-d)/o,r*a>50&&(r=50/a),r):null}function sae(t){for(var n=0;n<t.length;n++)for(var e=t[n],i=1;i<e.children.length-1;i++){var r=e.children[i];if(r.abcelem.rest&&(r.abcelem.rest.type==="whole"||r.abcelem.rest.type==="multimeasure")){var o=e.children[i-1],a=e.children[i+1];r.center(o,a)}}}o8.exports=rae});var l8=P((S7e,s8)=>{var Zr=function(n){this.shouldAddClasses=n.shouldAddClasses,this.reset()};Zr.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};Zr.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};Zr.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};Zr.prototype.isInMeasure=function(){return this.measureNumber!==null};Zr.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};Zr.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};Zr.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};Zr.prototype.incrNote=function(){this.noteNumber++};Zr.prototype.measureTotal=function(){for(var t=0,n=0;n<this.lineNumber;n++)t+=this.measureTotalPerLine[n]?this.measureTotalPerLine[n]:0;return this.measureNumber&&(t+=this.measureNumber),t};Zr.prototype.getCurrent=function(t){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};Zr.prototype.generate=function(t){if(!this.shouldAddClasses)return"";var n=[];if(t&&t.length>0&&n.push(t),t==="abcjs-tab-number")return n.join(" ");if(t==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&n.push("l"+this.lineNumber),this.measureNumber!==null&&n.push("m"+this.measureNumber),this.measureNumber!==null&&n.push("mm"+this.measureTotal()),this.voiceNumber!==null&&n.push("v"+this.voiceNumber),t&&(t.indexOf("note")>=0||t.indexOf("rest")>=0||t.indexOf("lyric")>=0)&&this.noteNumber!==null&&n.push("n"+this.noteNumber),n.length>0){n=n.join(" "),n=n.split(" ");for(var e=0;e<n.length;e++)n[e].indexOf("abcjs-")!==0&&n[e].length>0&&(n[e]="abcjs-"+n[e])}return n.join(" ")};s8.exports=Zr});var d8=P((k7e,c8)=>{var Eb=function(n,e){this.formatting=n,this.classes=e};Eb.prototype.updateFonts=function(t){t.gchordfont&&(this.formatting.gchordfont=t.gchordfont),t.tripletfont&&(this.formatting.tripletfont=t.tripletfont),t.annotationfont&&(this.formatting.annotationfont=t.annotationfont),t.vocalfont&&(this.formatting.vocalfont=t.vocalfont)};Eb.prototype.getFamily=function(t){return t[0]==='"'&&t[t.length-1]==='"'?t.substring(1,t.length-1):t};Eb.prototype.calc=function(t,n){var e;typeof t=="string"?(e=this.formatting[t],e?e={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box}:e={face:"Arial",size:Math.round(48/3),decoration:"underline",style:"normal",weight:"normal"}):e={face:t.face,size:Math.round(t.size*4/3),decoration:t.decoration,style:t.style,weight:t.weight,box:t.box};var i=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;e.padding=e.size*i;var r={"font-size":e.size,"font-style":e.style,"font-family":this.getFamily(e.face),"font-weight":e.weight,"text-decoration":e.decoration,class:this.classes.generate(n)};return{font:e,attr:r}};c8.exports=Eb});var h8=P((M7e,u8)=>{var Fu=function(n,e){this.getFontAndAttr=n,this.svg=e};Fu.prototype.updateFonts=function(t){this.getFontAndAttr.updateFonts(t)};Fu.prototype.attr=function(t,n){return this.getFontAndAttr.calc(t,n)};Fu.prototype.getFamily=function(t){return t[0]==='"'&&t[t.length-1]==='"'?t.substring(1,t.length-1):t};Fu.prototype.calc=function(t,n,e,i){var r;typeof n=="string"?r=this.attr(n,e):r={font:{face:n.face,size:n.size,decoration:n.decoration,style:n.style,weight:n.weight},attr:{"font-size":n.size,"font-style":n.style,"font-family":this.getFamily(n.face),"font-weight":n.weight,"text-decoration":n.decoration,class:this.getFontAndAttr.classes.generate(e)}};var o=this.svg.getTextSize(t,r.attr,i);return r.font.box?{height:o.height+r.font.padding*4,width:o.width+r.font.padding*4}:o};Fu.prototype.baselineToCenter=function(t,n,e,i,r){var o=this.calc(t,n,e).height,a=this.attr(n,e).font.size;return o*.5+(r-i-2)*a};u8.exports=Fu});var tl=P((T7e,f8)=>{var lae=function(){for(var t=0,n,e=arguments[t++],i=[],r,o,a,s;e;){if(r=/^[^\x25]+/.exec(e))i.push(r[0]);else if(r=/^\x25{2}/.exec(e))i.push("%");else if(r=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)){if((n=arguments[r[1]||t++])==null||n==null)throw"Too few arguments.";if(/[^s]/.test(r[7])&&typeof n!="number")throw"Expecting number but found "+typeof n;switch(r[7]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":n=parseInt(n);break;case"e":n=r[6]?n.toExponential(r[6]):n.toExponential();break;case"f":n=r[6]?parseFloat(n).toFixed(r[6]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&r[6]?n.substring(0,r[6]):n;break;case"u":n=Math.abs(n);break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase();break}n=/[def]/.test(r[7])&&r[2]&&n>0?"+"+n:n,a=r[3]?r[3]=="0"?"0":r[3][1]:" ",s=r[5]-String(n).length,o=r[5]?str_repeat(a,s):"",i.push(r[4]?n+o:o+n)}else throw"Huh ?!";e=e.substring(r[0].length)}return i.join("")};f8.exports=lae});var Vo=P((I7e,p8)=>{function cae(t){return parseFloat(t.toFixed(2))}p8.exports=cae});var rs=P((A7e,g8)=>{var m8=Vo();function dae(t,n,e){var i=n.y;if(n.phrases){var s=t.paper.richTextLine(n.phrases,n.x,n.y,n.klass,n.anchor);return s}if(n.lane){var r=n.dim.font.size*.25;i+=(n.dim.font.size+r)*n.lane}var o;n.dim?(o=n.dim,o.attr.class=n.klass):o=t.controller.getFontAndAttr.calc(n.type,n.klass),n.anchor&&(o.attr["text-anchor"]=n.anchor),n["dominant-baseline"]&&(o.attr["dominant-baseline"]=n["dominant-baseline"]),o.attr.x=n.x,o.attr.y=i,n.centerVertically||(o.attr.y+=o.font.size),n.type==="debugfont"&&(console.log("Debug msg: "+n.text),o.attr.stroke="#ff0000"),n.cursor&&(o.attr.cursor=n.cursor);var a;n.name==="free-text"?a=n.text.replace(/^[ \t]*\n/gm,` 
`):a=n.text.replace(/\n\n/g,`
 
`),a=a.replace(/^\n/,`\xA0
`),o.font.box&&(e||t.paper.openGroup({klass:o.attr.class,fill:t.foregroundColor,"data-name":n.name}),o.attr["text-anchor"]==="end"?o.attr.x-=o.font.padding:o.attr["text-anchor"]==="start"&&(o.attr.x+=o.font.padding),o.attr.y+=o.font.padding,delete o.attr.class),n.noClass&&delete o.attr.class,o.attr.x=m8(o.attr.x),o.attr.y=m8(o.attr.y),n.name&&(o.attr["data-name"]=n.name);var s=t.paper.text(a,o.attr);if(o.font.box){var l=s.getBBox(),c=0;o.attr["text-anchor"]==="middle"?c=l.width/2+o.font.padding:o.attr["text-anchor"]==="end"&&(c=l.width+o.font.padding*2);var u=0;n.centerVertically&&(u=l.height-o.font.padding),t.paper.rect({"data-name":"box",x:Math.round(n.x-c),y:Math.round(i-u),width:Math.round(l.width+o.font.padding*2),height:Math.round(l.height+o.font.padding*2)}),e||(s=t.paper.closeGroup())}return s}g8.exports=dae});var b8=P((R7e,_8)=>{var Sb=tl(),jo=Hi(),uae=rs();function hae(t,n,e){var i=n.startVoice.staff.absoluteY-jo.STEP*10;return n.endVoice&&n.endVoice.staff?n.endY=n.endVoice.staff.absoluteY-jo.STEP*2:n.lastContinuedVoice&&n.lastContinuedVoice.staff?n.endY=n.lastContinuedVoice.staff.absoluteY-jo.STEP*2:n.endY=n.startVoice.staff.absoluteY-jo.STEP*2,mae(t,n.x,i,n.endY,n.type,n.header,e)}function fae(t,n,e,i,r){n+=jo.STEP;var o=jo.STEP*.75,a=jo.STEP*.75,s=i-e,l=Sb("M %f %f l %f %f l %f %f l %f %f z",n,e-a,0,s+a*2,o,0,0,-(s+a*2)),c=jo.STEP*2,u=jo.STEP;return l+=Sb("M %f %f q %f %f %f %f q %f %f %f %f z",n+o,e-a,c*.6,u*.2,c,-u,-c*.1,u*.3,-c,u+jo.STEP),l+=Sb("M %f %f q %f %f %f %f q %f %f %f %f z",n+o,e+a+s,c*.6,-u*.2,c,u,-c*.1,-u*.3,-c,-u-jo.STEP),t.paper.path({path:l,stroke:t.foregroundColor,fill:t.foregroundColor,class:t.controller.classes.generate(r),"data-name":r})}function pae(t,n,e,i,r){var o=i-e,a=v8(n,e,[7.5,-8,21,0,18.5,-10.5,7.5],[0,o/5.5,o/3.14,o/2,o/2.93,o/4.88,0]);return a+=v8(n,e,[0,17.5,-7.5,6.6,-5,20,0],[o/2,o/1.46,o/1.22,o,o/1.19,o/1.42,o/2]),t.paper.path({path:a,stroke:t.foregroundColor,fill:t.foregroundColor,class:t.controller.classes.generate(r),"data-name":r})}function v8(t,n,e,i){return Sb("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t+e[0],n+i[0],t+e[1],n+i[1],t+e[2],n+i[2],t+e[3],n+i[3],t+e[4],n+i[4],t+e[5],n+i[5],t+e[6],n+i[6])}var mae=function(t,n,e,i,r,o,a){var s;if(o){t.paper.openGroup({klass:t.controller.classes.generate("staff-extra voice-name"),"data-name":r});var l=e+(i-e)/2;l=l-t.controller.getTextSize.baselineToCenter(o,"voicefont","staff-extra voice-name",0,1),uae(t,{x:t.padding.left,y:l,text:o,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return r==="brace"?s=pae(t,n,e,i,r):r==="bracket"&&(s=fae(t,n,e,i,r)),o&&(s=t.paper.closeGroup()),a.wrapSvgEl({el_type:r,startChar:-1,endChar:-1},s),s};_8.exports=hae});var Pu=P((O7e,y8)=>{function gae(t,n,e){var i=t.paper.path(n);return i}y8.exports=gae});var C8=P((N7e,w8)=>{var vae=tl(),_ae=Pu(),bae=Vo();function yae(t,n,e){(!n.anchor1||!n.anchor2||!n.anchor1.heads||!n.anchor2.heads||n.anchor1.heads.length===0||n.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var i=4,r=t.calcY(n.anchor1.heads[0].pitch),o=t.calcY(n.anchor2.heads[0].pitch),a=n.anchor1.x+n.anchor1.w/2,s=n.anchor2.x+n.anchor2.w/2,l=wae(a,r,s,o),c=n.anchor1.w/2+i,u=n.anchor2.w/2+i,d=Cae(a,r,s,o),h=u2(r,d,c),f=u2(o,d,-u),p=xae(l-c-u),g=Tae(t,a+c,h,p,d);return e.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},g),[g]}function wae(t,n,e,i){var r=e-t,o=i-n;return Math.sqrt(r*r+o*o)}function Cae(t,n,e,i){return(i-n)/(e-t)}function u2(t,n,e){return bae(t+e*n)}function xae(t){var n=5;return Math.max(2,Math.floor((t-n*2)/6))}var Dae=[[3.5,-4.8]],Eae=[[1.5,-1],[.3,-.3],[-3.5,3.8]],Sae=[[-1.5,2]],kae=[[3,4],[3,-4]],Mae=[[-3,4],[-3,-4]];function Np(t,n){for(var e="",i=0;i<t.length;i++)e+="l"+t[i][0]+" "+u2(t[i][1],n,t[i][0]);return e}var Tae=function(t,n,e,i,r){var o=vae("M %f %f",n,e);o+=Np(Dae,r);var a;for(a=0;a<i;a++)o+=Np(kae,r);for(o+=Np(Eae,r),a=0;a<i;a++)o+=Np(Mae,r);return o+=Np(Sae,r)+"z",_ae(t,{path:o,highlight:"stroke",stroke:t.foregroundColor,class:t.controller.classes.generate("decoration"),"data-name":"glissando"})};w8.exports=yae});var E8=P((F7e,D8)=>{var Iae=tl(),Aae=Pu(),Lu=Vo();function Rae(t,n,e){n.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var i=t.calcY(n.pitch)+4,r=8,o=n.anchor1?n.anchor1.x:0,a=n.anchor2?n.anchor2.x:800,s;return n.dir==="<"?s=x8(t,i+r/2,i,i+r/2,i+r,o,a):s=x8(t,i,i+r/2,i+r,i+r/2,o,a),e.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},s),[s]}var x8=function(t,n,e,i,r,o,a){n=Lu(n),e=Lu(e),i=Lu(i),r=Lu(r),o=Lu(o),a=Lu(a);var s=Iae("M %f %f L %f %f M %f %f L %f %f",o,n,a,e,o,i,a,r);return Aae(t,{path:s,highlight:"stroke",stroke:t.foregroundColor,class:t.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})};D8.exports=Rae});var kb=P((P7e,k8)=>{var S8=Vo();function Fp(){this.ingroup=!1}Fp.prototype.beginGroup=function(t,n){this.paper=t,this.controller=n,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};Fp.prototype.isInGroup=function(){return this.ingroup};Fp.prototype.addPath=function(t){if(t=t||[],t.length!==0){t[0][0]="m",t[0][1]=S8(t[0][1]-this.lastM[0]),t[0][2]=S8(t[0][2]-this.lastM[1]),this.lastM[0]+=t[0][1],this.lastM[1]+=t[0][2],this.path.push(t[0]);for(var n=1,e=t.length;n<e;n++)t[n][0]==="m"&&(this.lastM[0]+=t[n][1],this.lastM[1]+=t[n][2]),this.path.push(t[n])}};Fp.prototype.endGroup=function(t,n){this.ingroup=!1;for(var e="",i=0;i<this.path.length;i++)e+=this.path[i].join(" ");this.path=[];var r=this.paper.closeGroup();return r&&(r.setAttribute("class",this.controller.classes.generate(t)),r.setAttribute("fill",this.controller.renderer.foregroundColor),r.setAttribute("stroke","none"),r.setAttribute("data-name",n)),r};var Oae=new Fp;k8.exports=Oae});var Mb=P((L7e,I8)=>{var M8=rs(),Bu=ns(),T8=kb();function Nae(t,n,e,i,r){var o,a;if(!i)return null;if(i.length>1&&i.indexOf(".")<0){var s=T8.isInGroup()?"":r.klass;t.paper.openGroup({"data-name":r.name,klass:s});for(var l=0,c=0;c<i.length;c++){var u=i[c];a=Bu.getYCorr(u),o=Bu.printSymbol(n+l,t.calcY(e+a),u,t.paper,{stroke:r.stroke,fill:r.fill}),o?c<i.length-1&&(l+=Fae(u,i[c+1],Bu.getSymbolWidth(u))):M8(t,{x:n,y:t.y,text:"no symbol:"+i,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var d=t.paper.closeGroup();return d}else return a=Bu.getYCorr(i),T8.isInGroup()?o=Bu.printSymbol(n,t.calcY(e+a),i,t.paper,{"data-name":r.name}):o=Bu.printSymbol(n,t.calcY(e+a),i,t.paper,{klass:r.klass,stroke:r.stroke,fill:r.fill,"data-name":r.name}),o||(M8(t,{x:n,y:t.y,text:"no symbol:"+i,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function Fae(t,n,e){var i=e;return t==="f"&&n==="f"&&(i=i*2/3),t==="p"&&n==="p"&&(i=i*5/6),t==="f"&&n==="z"&&(i=i*5/8),i}I8.exports=Nae});var R8=P((B7e,A8)=>{var Pae=Mb();function Lae(t,n,e){n.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var i=1,r=1,o=Pae(t,n.anchor.x,n.pitch,n.dec,{scalex:i,scaley:r,klass:t.controller.classes.generate("decoration dynamics"),fill:t.foregroundColor,stroke:"none",name:"dynamics"});return e.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:n.dec},o),[o]}A8.exports=Lae});var N8=P((V7e,O8)=>{var Bae=tl(),Vae=rs(),jae=Pu(),Tb=Vo();function Hae(t,n,e){t.paper.openGroup({klass:t.controller.classes.generate("triplet "+n.durationClass),"data-name":"triplet"}),n.hasBeam||zae(t,n.anchor1.x,n.startNote,n.anchor2.x+n.anchor2.w,n.endNote),Vae(t,{x:n.xTextPos,y:t.calcY(n.yTextPos-1),text:""+n.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+n.number},!0);var i=t.paper.closeGroup();return e.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},i),i}function Ib(t,n,e,i){return Bae("M %f %f L %f %f",Tb(t),Tb(n),Tb(e),Tb(i))}function zae(t,n,e,i,r){e=t.calcY(e),r=t.calcY(r);var o=5,a="";a+=Ib(n,e,n,e+o),a+=Ib(i,r,i,r+o);var s=n+(i-n)/2,l=8,c=(r-e)/(i-n),u=s-l,d=e+(u-n)*c;a+=Ib(n,e,u,d);var h=s+l,f=e+(h-n)*c;a+=Ib(h,f,i,r),jae(t,{path:a,stroke:t.foregroundColor,"data-name":"triplet-bracket"})}O8.exports=Hae});var P8=P((j7e,F8)=>{var h2=tl(),Uae=rs(),qae=Pu(),Sc=Vo();function $ae(t,n,e,i,r){n.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var o=Sc(t.calcY(n.pitch)),a=20,s="";n.anchor1&&(e=Sc(n.anchor1.x+n.anchor1.w),s+=h2("M %f %f L %f %f ",e,o,e,Sc(o+a))),n.anchor2&&(i=Sc(n.anchor2.x),s+=h2("M %f %f L %f %f ",i,o,i,Sc(o+a))),s+=h2("M %f %f L %f %f ",e,o,i,o),t.paper.openGroup({klass:t.controller.classes.generate("ending"),fill:t.foregroundColor,"data-name":"ending"}),qae(t,{path:s,stroke:t.foregroundColor,fill:t.foregroundColor,"data-name":"line"}),n.anchor1&&Uae(t,{x:Sc(e+5),y:Sc(t.calcY(n.pitch-.5)),text:n.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:n.text});var l=t.paper.closeGroup();return r.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},l),[l]}F8.exports=$ae});var V8=P((H7e,B8)=>{var L8=tl(),Jr=Vo();function Wae(t,n,e,i,r){Gae(n,e,i);var o="";n.anchor1?o+="abcjs-start-m"+n.anchor1.parent.counters.measure+"-n"+n.anchor1.parent.counters.note:o+="abcjs-start-edge",n.anchor2?o+=" abcjs-end-m"+n.anchor2.parent.counters.measure+"-n"+n.anchor2.parent.counters.note:o+=" abcjs-end-edge",n.hint&&(o="abcjs-hint");var a=n.fixedY?1.5:0,s=Yae(t,n.startX,n.endX,n.startY+a,n.endY+a,n.above,o,n.isTie,n.dotted),l=-1;n.anchor1&&!n.isTie&&(l=n.anchor1.parent.abcelem.startChar-1);var c=-1;return n.anchor2&&!n.isTie&&(c=n.anchor2.parent.abcelem.endChar+1),r.wrapSvgEl({el_type:"slur",startChar:l,endChar:c},s),[s]}var Gae=function(t,n,e){!t.anchor1||!t.anchor2||t.anchor1.pitch===t.anchor2.pitch&&t.internalNotes.length===0?t.isTie=!0:t.isTie=!1,t.isTie?(t.calcTieDirection(),t.calcX(n,e),t.calcTieY()):(t.calcSlurDirection(),t.calcX(n,e),t.calcSlurY()),t.avoidCollisionAbove()},Yae=function(t,n,e,i,r,o,a,s,l){var c=s?1.2:1.5;n=Jr(n+6),e=Jr(e+4),i=i+(o?c:-c),r=r+(o?c:-c);var u=Jr(t.calcY(i)),d=Jr(t.calcY(r)),h=e-n,f=d-u,p=Math.sqrt(h*h+f*f),g=h/p,v=f/p,_=p/3.5,y=s?10:25,D=(o?-1:1)*Math.min(y,Math.max(4,_)),b=Jr(n+_*g-D*v),C=Jr(u+_*v+D*g),k=Jr(e-_*g-D*v),O=Jr(d-_*v+D*g),H=2;a?a+=" slur":a="slur",a+=s?" tie":" legato";var F;if(l){a+=" dotted";var U=L8("M %f %f C %f %f %f %f %f %f",n,u,b,C,k,O,e,d);F=t.paper.path({path:U,stroke:t.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:t.controller.classes.generate(a),"data-name":s?"tie":"slur"})}else{var de=L8("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",n,u,b,C,k,O,e,d,Jr(k-H*v),Jr(O+H*g),Jr(b-H*v),Jr(C+H*g),n,u);F=t.paper.path({path:de,stroke:"none",fill:t.foregroundColor,class:t.controller.classes.generate(a),"data-name":s?"tie":"slur"})}return F};B8.exports=Wae});var U8=P((z7e,z8)=>{var Qae=Pu(),Vu=Vo();function Kae(t,n){if(n.beams.length!==0){for(var e="",i=0;i<n.beams.length;i++){var r=n.beams[i];if(r.split){for(var o=Xae(t,r.startX,r.startY,r.endX,r.endY),a=[],s=0;s<r.split.length;s+=2)a.push([r.split[s],r.split[s+1]]);for(s=0;s<a.length;s++){var l=H8(r.startX,r.startY,o,a[s][0]),c=H8(r.startX,r.startY,o,a[s][1]);e+=j8(t,a[s][0],l,a[s][1],c,r.dy)}}else e+=j8(t,r.startX,r.startY,r.endX,r.endY,r.dy)}var u=("abcjs-d"+n.duration).replace(/\./g,"-"),d=t.controller.classes.generate("beam-elem "+u),h=Qae(t,{path:e,stroke:"none",fill:t.foregroundColor,class:d});return[h]}}function j8(t,n,e,i,r,o){e=Vu(t.calcY(e)),r=Vu(t.calcY(r)),n=Vu(n),i=Vu(i);var a=Vu(e+o),s=Vu(r+o);return"M"+n+" "+e+" L"+i+" "+r+"L"+i+" "+s+" L"+n+" "+a+"z"}function Xae(t,n,e,i,r){return(r-e)/(i-n)}function H8(t,n,e,i){var r=i-t;return n+r*e}z8.exports=Kae});var Ab=P((U7e,q8)=>{var Zae=kb(),ju=Vo();function Jae(t,n,e,i,r,o,a){if(e<0||i<r){var s=ju(r);r=ju(i),i=s}else i=ju(i),r=ju(r);n=ju(n);var l=ju(n+e);if(t.firefox112){n+=e/2;var u={x1:n,x2:n,y1:i,y2:r,stroke:t.foregroundColor,"stroke-width":Math.abs(e)};return o&&(u.class=o),a&&(u["data-name"]=a),t.paper.lineToBack(u)}for(var c=[["M",n,i],["L",n,r],["L",l,r],["L",l,i],["z"]],u={path:""},d=0;d<c.length;d++)u.path+=c[d].join(" ");return o&&(u.class=o),a&&(u["data-name"]=a),Zae.isInGroup()||(u.stroke="none",u.fill=t.foregroundColor),t.paper.pathToBack(u)}q8.exports=Jae});var W8=P((q7e,$8)=>{var ese=tl(),Rb=Vo();function tse(t,n,e,i,r,o,a){var s=t.foregroundColor;n=Rb(n),e=Rb(e);var l=Rb(i-a),c=Rb(i+a);if(t.firefox112){i+=a/2;var u={x1:n,x2:e,y1:i,y2:i,stroke:t.foregroundColor,"stroke-width":Math.abs(a*2)};return r&&(u.class=r),o&&(u["data-name"]=o),t.paper.lineToBack(u)}var d=ese("M %f %f L %f %f L %f %f L %f %f z",n,l,e,l,e,c,n,c),h={path:d,stroke:"none",fill:s};o&&(h["data-name"]=o),r&&(h.class=r);var f=t.paper.pathToBack(h);return f}$8.exports=tse});var f2=P(($7e,G8)=>{var nse=W8();function ise(t,n,e,i,r,o,a){var s=t.calcY(i);return nse(t,n,e,s,r,o,a)}G8.exports=ise});var p2=P((W7e,Q8)=>{var os=rs(),Y8=Ab(),rse=f2(),ose=Mb();function ase(t,n,e){n.pitch===void 0&&window.console.error(n.type+" Relative Element y-coordinate not set.");var i=t.calcY(n.pitch);switch(n.type){case"symbol":if(n.c===null)return null;var r="symbol";n.klass&&(r+=" "+n.klass),n.graphelem=ose(t,n.x,n.pitch,n.c,{scalex:n.scalex,scaley:n.scaley,klass:t.controller.classes.generate(r),name:n.name});break;case"debug":n.graphelem=os(t,{x:n.x,y:t.calcY(15),text:""+n.c,type:"debugfont",klass:t.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:n.dim},!1);break;case"tabNumber":var o="middle",a="tabnumberfont",s="abcjs-tab-number";n.isGrace&&(a="tabgracefont",i+=2.5,s="tab-grace"),n.graphelem=os(t,{x:n.x,y:i,text:""+n.c,type:a,klass:t.controller.classes.generate(s),anchor:o,centerVertically:!1,dim:n.dim,cursor:"default"},!1);break;case"barNumber":n.graphelem=os(t,{x:n.x,y:i,text:""+n.c,type:"measurefont",klass:t.controller.classes.generate("bar-number"),anchor:"middle",dim:n.dim,name:"bar-number"},!0);break;case"lyric":n.graphelem=os(t,{x:n.x,y:i,text:n.c,type:"vocalfont",klass:t.controller.classes.generate("lyric"),anchor:"middle",dim:n.dim,name:"lyric"},!1);break;case"chord":n.graphelem=os(t,{x:n.x,y:i,text:n.c,type:"gchordfont",klass:t.controller.classes.generate("chord"),anchor:"middle",dim:n.dim,lane:n.getLane(),name:"chord"},!1);break;case"decoration":n.graphelem=os(t,{x:n.x,y:i+6,text:n.c,type:"annotationfont",klass:t.controller.classes.generate("annotation"),anchor:n.anchor,centerVertically:!0,dim:n.dim},!1);break;case"text":n.graphelem=os(t,{x:n.x,y:i,text:n.c,type:"annotationfont",klass:t.controller.classes.generate("annotation"),anchor:"start",centerVertically:n.centerVertically,dim:n.dim,lane:n.getLane(),name:"annotation"},!1);break;case"multimeasure-text":n.graphelem=os(t,{x:n.x+n.w/2,y:i,text:n.c,type:"tempofont",klass:t.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:n.dim},!1);break;case"part":n.graphelem=os(t,{x:n.x,y:i,text:n.c,type:"partsfont",klass:t.controller.classes.generate("part"),anchor:"start",dim:n.dim,name:n.c},!0);break;case"bar":n.graphelem=Y8(t,n.x,n.linewidth+t.lineThickness,i,e||t.calcY(n.pitch2),null,"bar");break;case"stem":var l=n.linewidth>0?n.linewidth+t.lineThickness:n.linewidth-t.lineThickness;n.graphelem=Y8(t,n.x,l,i,t.calcY(n.pitch2),"abcjs-stem","stem");break;case"ledger":n.graphelem=rse(t,n.x,n.x+n.w,n.pitch,"abcjs-ledger","ledger",.35+t.lineThickness);break}return n.scalex!==1&&n.graphelem&&sse(t.paper,n.graphelem,n.scalex,n.scaley,n.x,i),n.graphelem}function sse(t,n,e,i,r,o){t.setAttributeOnElement(n,{style:"transform:scale("+e+","+i+");transform-origin:"+r+"px "+o+"px;"})}Q8.exports=ase});var X8=P((G7e,K8)=>{var lse=p2(),m2=rs();function cse(t,n){var e=n.x;n.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),n.tempo.el_type="tempo";var i=2,r=t.calcY(n.pitch)+2,o,a;if(n.tempo.preString){o=m2(t,{x:e,y:r,text:n.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),a=t.controller.getTextSize.calc(n.tempo.preString,"tempofont","tempo",o);var s=a.width,l=s/n.tempo.preString.length;e+=s+l}if(n.note){n.note.setX(e);for(var c=0;c<n.note.children.length;c++)lse(t,n.note.children[c],e);e+=n.note.w+5;var u="= "+n.tempo.bpm;o=m2(t,{x:e,y:r,text:u,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),a=t.controller.getTextSize.calc(u,"tempofont","tempo",o);var d=a.width,h=d/u.length;e+=d+h}n.tempo.postString&&m2(t,{x:e,y:r,text:n.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}K8.exports=cse});var t9=P((Y7e,e9)=>{var dse=X8(),use=p2(),hse=Hi(),Z8=fb(),J8=kb();function fse(t,n,e,i,r){if(!n.invisible){var o=n.children.length>0&&n.children[0].type==="TempoElement";n.elemset=[],J8.beginGroup(t.paper,t.controller);for(var a=0;a<n.children.length;a++){var s=n.children[a];if(s.type==="TempoElement")dse(t,s);else{var l=use(t,s,e);s.type==="symbol"&&s.c&&s.c.indexOf("notehead")>=0&&l.setAttribute("class","abcjs-notehead")}}var c=n.type;if((n.type==="note"||n.type==="rest")&&(n.counters=t.controller.classes.getCurrent(),c+=" d"+Math.round(n.durationClass*1e3)/1e3,c=c.replace(/\./g,"-"),n.abcelem.pitches))for(var u=0;u<n.abcelem.pitches.length;u++)c+=" p"+n.abcelem.pitches[u].pitch;var d=J8.endGroup(c,n.type);if(d){if(n.cloned&&(n.cloned.overrideClasses=d.className.baseVal),n.overrideClasses){var h=d.classList&&d.classList.length>0?d.classList[0]+" ":"";d.setAttribute("class",h+n.overrideClasses)}if(o)n.startChar=n.abcelem.startChar,n.endChar=n.abcelem.endChar,i.add(n,d,!1,r);else{n.elemset.push(d);var f=!1;(n.type==="note"||n.type==="tabNumber")&&(f=!0),i.add(n,d,f,r)}}else n.elemset.length>0&&i.add(n,n.elemset[0],n.type==="note",r);if(n.klass&&Z8(n.elemset,"mark","","#00ff00"),n.hint&&Z8(n.elemset,"abcjs-hint","",null),n.abcelem.abselem=n,n.heads&&n.heads.length>0){n.notePositions=[];for(var p=0;p<n.heads.length;p++)n.notePositions.push({x:n.heads[p].x+n.heads[p].w/2,y:r.zero-n.heads[p].pitch*hse.STEP})}}}e9.exports=fse});var r9=P((Q7e,i9)=>{var pse=C8(),mse=E8(),gse=R8(),vse=N8(),_se=P8(),bse=V8(),yse=U8(),wse=rs(),n9=t9();function Cse(t,n,e,i,r){var o=n.w-1;t.staffbottom=n.staff.bottom;var a=t.foregroundColor;if(n.color&&(t.foregroundColor=n.color),n.header){var s=wse(t,{x:t.padding.left,y:t.calcY(n.headerPosition),text:n.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);i.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:n.header},s)}var l,c,u=!1;for(l=0;l<n.children.length;l++){c=n.children[l],(c.type==="note"||c.type==="rest")&&(u=!0);var d=!1;c.type!=="staff-extra"&&!t.controller.classes.isInMeasure()&&(t.controller.classes.startMeasure(),d=!0),n.staff.isTabStaff&&(c.invisible=!1,c.type=="bar"&&c.abcelem.lastBar&&(e=n.topLine)),n9(t,c,n.barto||l===n.children.length-1?e:0,i,r),(c.type==="note"||xse(c))&&t.controller.classes.incrNote(),c.type==="bar"&&!d&&u&&t.controller.classes.incrMeasure()}for(t.controller.classes.startMeasure(),l=0;l<n.beams.length;l++){var h=n.beams[l];h==="bar"?t.controller.classes.incrMeasure():yse(t,h,i)}for(t.controller.classes.startMeasure(),l=0;l<n.otherchildren.length;l++)if(c=n.otherchildren[l],c==="bar")t.controller.classes.incrMeasure();else switch(c.type){case"GlissandoElem":c.elemset=pse(t,c,i);break;case"CrescendoElem":c.elemset=mse(t,c,i);break;case"DynamicDecoration":c.elemset=gse(t,c,i);break;case"TripletElem":vse(t,c,i);break;case"EndingElem":c.elemset=_se(t,c,n.startx+10,o,i);break;case"TieElem":c.elemset=bse(t,c,n.startx+10,o,i);break;default:console.log(c),n9(t,c,n.startx+10,o,i,r)}t.foregroundColor=a}function xse(t){return t.type!=="rest"?!1:!!(t.abcelem&&t.abcelem.rest&&t.abcelem.rest.type!=="spacer")}i9.exports=Cse});var s9=P((K7e,a9)=>{var o9=f2();function Dse(t,n,e,i,r,o){var a="abcjs-top-line",s=2;r&&(s=r),t.paper.openGroup({prepend:!0,klass:t.controller.classes.generate("abcjs-staff")});var l=0,c=0;if(i===1)o9(t,n,e,6,a,null,o+t.lineThickness),l=t.calcY(10),c=t.calcY(2);else for(var u=i-1;u>=0;u--){var d=(u+1)*s;c=t.calcY(d),l===0&&(l=c),o9(t,n,e,d,a,null,o+t.lineThickness),a=void 0}return t.paper.closeGroup(),[l,c]}a9.exports=Dse});var c9=P((X7e,l9)=>{function Ese(t,n,e){var i=t.paper.rectBeneath(n);return e&&t.paper.text(e,{x:0,y:n.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),i}l9.exports=Ese});var u9=P((Z7e,d9)=>{function Sse(t,n){var e="rgba(0,0,0,255)",i="rgba(0,0,0,0)",r=Math.round(t.y),o=t.controller.width,a=(o-n)/2,s=a+n,l="M "+a+" "+r+" L "+s+" "+r+" L "+s+" "+(r+1)+" L "+a+" "+(r+1)+" L "+a+" "+r+" z";t.paper.pathToBack({path:l,stroke:i,fill:e,class:t.controller.classes.generate("defined-text")})}d9.exports=Sse});var g2=P((J7e,h9)=>{var kse=u9(),Mse=rs();function Tse(t,n,e){for(var i=0;i<n.rows.length;i++){var r=n.rows[i];if(r.absmove)t.absolutemoveY(r.absmove);else if(r.move)t.moveY(r.move);else if(r.text||r.phrases){var o=r.left?r.left:0,a=Mse(t,{x:o,y:t.y,text:r.text,phrases:r.phrases,"dominant-baseline":r["dominant-baseline"],type:r.font,klass:r.klass,name:r.name,anchor:r.anchor});r.absElemType&&e.wrapSvgEl({el_type:r.absElemType,name:r.name,startChar:r.startChar,endChar:r.endChar,text:r.text},a)}else if(r.separator)kse(t,r.separator);else if(r.startGroup)t.paper.openGroup({klass:r.klass,"data-name":r.name});else if(r.endGroup){var s=t.paper.closeGroup();r.absElemType&&e.wrapSvgEl({el_type:r.absElemType,name:r.name,startChar:r.startChar,endChar:r.endChar,text:""},s)}}}h9.exports=Tse});var m9=P((eVe,p9)=>{var Hu=Hi(),Ise=b8(),Ase=r9(),Rse=s9(),Ob=c9(),Ose=Ab(),Nse=g2();function Fse(t,n,e,i){for(var r,o=t.y,a=0;a<n.staffs.length;a++){var s=n.staffs[a];t.moveY(Hu.STEP,s.top),s.absoluteY=t.y,t.showDebug&&(t.showDebug.indexOf("box")>=0&&s.voices&&Pse(t,n.voices,s.voices),t.showDebug.indexOf("grid")>=0&&(t.paper.dottedLine({x1:t.padding.left,x2:t.padding.left+t.controller.width,y1:o,y2:o,stroke:"#0000ff"}),Ob(t,{x:t.padding.left,y:t.calcY(s.originalTop),width:t.controller.width,height:t.calcY(s.originalBottom)-t.calcY(s.originalTop),fill:t.foregroundColor,stroke:t.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),r=0,b(s,"chordHeightAbove"),b(s,"chordHeightBelow"),b(s,"dynamicHeightAbove"),b(s,"dynamicHeightBelow"),b(s,"endingHeightAbove"),b(s,"lyricHeightAbove"),b(s,"lyricHeightBelow"),b(s,"partHeightAbove"),b(s,"tempoHeightAbove"),b(s,"volumeHeightAbove"),b(s,"volumeHeightBelow"))),t.moveY(Hu.STEP,-s.bottom),t.showDebug&&t.showDebug.indexOf("grid")>=0&&t.paper.dottedLine({x1:t.padding.left,x2:t.padding.left+t.controller.width,y1:t.y,y2:t.y,stroke:"#0000aa"})}for(var l,c,u=2,d=0,h=0;h<n.voices.length;h++){var f=n.voices[h].staff,p=n.voices[h].tabNameInfos;if(t.y=f.absoluteY,t.controller.classes.incrVoice(),!n.voices[h].duplicate){if(l||(l=t.calcY(10)),c=t.calcY(u),f.lines!==0){f.linePitch&&(u=f.linePitch),t.controller.classes.newMeasure();var g=Rse(t,n.startx,n.w,f.lines,f.linePitch,.35);c=g[1],f.bottomLine=c,f.topLine=g[0],f.hasTab&&(d=f.topLine),f.hasStaff&&(d=f.hasStaff.topLine,n.voices[h].barto=!0,n.voices[h].topLine=l)}f9(t,f.absoluteY,n.brace,h,e),f9(t,f.absoluteY,n.bracket,h,e)}Ase(t,n.voices[h],d,e,{top:o,zero:t.y,height:n.height*Hu.STEP});var v=0;if(p){var _={rows:[]};_.rows.push({absmove:c+2});var y=8;_.rows.push({left:n.startx+y,text:p.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),_.rows.push({move:p.textSize.height}),Nse(t,_),v=p.textSize.height}t.controller.classes.newMeasure(),n.voices[h].duplicate||(d=t.calcY(2+v))}t.controller.classes.newMeasure();var D=n.staffs.length;D>1&&(l=n.staffs[0].topLine,c=n.staffs[D-1].bottomLine,Ose(t,n.startx,.6,l,c,null)),t.y=o;function b(C,k){var O=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(C.positionY&&C.positionY[k]){var H=C.specialY[k]*Hu.STEP;k==="chordHeightAbove"&&C.specialY.chordLines&&C.specialY.chordLines.above&&(H*=C.specialY.chordLines.above),k==="chordHeightBelow"&&C.specialY.chordLines&&C.specialY.chordLines.below&&(H*=C.specialY.chordLines.below),Ob(t,{x:t.padding.left,y:t.calcY(C.positionY[k]),width:t.controller.width,height:H,fill:O[r],stroke:O[r],"fill-opacity":.4,"stroke-opacity":.4},k.substr(0,4)),r+=1,r>6&&(r=0)}}}function f9(t,n,e,i,r){if(e)for(var o=0;o<e.length;o++)e[o].isStartVoice(i)&&(e[o].startY=n-Hu.STEP*10,e[o].elemset=Ise(t,e[o],r))}function Pse(t,n,e){for(var i=0;i<e.length;i++)for(var r=n[e[i]].children,o=0;o<r.length;o++){var a=r[o],s=a.getFixedCoords();if(!(a.invisible||s.t===void 0||s.b===void 0)){var l=(s.t-s.b)*Hu.STEP;Ob(t,{x:s.x,y:t.calcY(s.t),width:s.w,height:l,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var c=0;c<a.children.length;c++){var u=a.children[c],d=u.getChordDim();if(d){var h=t.calcY(u.pitch);h+=u.dim.font.size*u.getLane(),Ob(t,{x:d.left,y:h,width:d.right-d.left,height:u.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}p9.exports=Fse});var v9=P((tVe,g9)=>{function Lse(t,n,e,i){var r=(n+t.padding.left+t.padding.right)*e,o=(t.y+t.padding.bottom)*e;if(t.isPrint&&(o=Math.max(o,1056)),t.ariaLabel!==""){var a="Sheet Music";t.abctune&&t.abctune.metaText&&t.abctune.metaText.title&&(a+=' for "'+t.abctune.metaText.title+'"'),t.paper.setTitle(a);var s=t.ariaLabel?t.ariaLabel:a;t.paper.setAttribute("aria-label",s)}var l=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];t.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+l.join(" ")+"}");var c={overflow:"hidden"};i==="resize"?t.paper.setResponsiveWidth(r,o):(c.width="",c.height=o+"px",e<1?(c.width=r+"px",t.paper.setSize(r/e,o/e)):t.paper.setSize(r,o)),t.paper.setScale(e),t.paper.setParentStyles(c)}g9.exports=Lse});var b9=P((nVe,_9)=>{var Bse=FS(),Vse=PS();function Pp(t,n,e){this.elements=[],this.paper=t,this.tuneNumber=e,this.selectTypes=n}Pp.prototype.getElements=function(){return this.elements};Pp.prototype.add=function(t,n,e,i){if(this.canSelect(t)){var r;this.selectTypes===void 0?r={selectable:!1,"data-index":this.elements.length}:r={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(n,r);var o={absEl:t,svgEl:n,isDraggable:e};i!==void 0&&(o.staffPos=i),this.elements.push(o)}};Pp.prototype.canSelect=function(t){return this.selectTypes===!1||!t||!t.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?t.abcelem.el_type==="note"||t.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(t.abcelem.el_type)>=0};Pp.prototype.wrapSvgEl=function(t,n){var e={tuneNumber:this.tuneNumber,abcelem:t,elemset:[n],highlight:Bse,unhighlight:Vse};this.add(e,n,!1)};_9.exports=Pp});var D9=P((iVe,x9)=>{var Lp=Mb(),jse=Ab();function Hse(t,n,e,i,r){let o=r.gchordfont,a=r.partsfont,s=r.annotationfont,l=r.repeatfont,c=r.textfont,u=r.subtitlefont,d=50,h=10,f=14,p=10,g=20,v=16;t.paper.openGroup({klass:"abcjs-chord-grid"}),n.forEach(_=>{switch(_.type){case"text":zu(t,_.text,e,t.y,16,c,null,null,!1),t.moveY(v);break;case"subtitle":zu(t,_.subtitle,e,t.y+p,20,u,null,"abcjs-subtitle",!1),t.moveY(g);break;case"part":if(_.lines.length>0){zu(t,_.name,e,t.y+p,20,u,_.name,"abcjs-part",!1),t.moveY(g);let y=_.lines[0].length,D=i/y;_.lines.forEach((b,C)=>{let k=!1,O=!1;b.forEach(F=>{F.ending&&(k=!0),F.annotations&&F.annotations.length>0&&(O=!0)});let H=O?f:k?h:0;b.forEach((F,U)=>{if(!F.noBorder){t.paper.rect({x:e+U*D,y:t.y,width:D,height:H+d}),t.paper.rect({x:e+U*D+1,y:t.y+1,width:D-2,height:H+d-2});let X=0,Z=0,me=t.y,we=e+D*U;F.hasStartRepeat&&(y9(t,we,me,me+d+H,!0,H),X=12),F.hasEndRepeat&&(y9(t,we+D,me,me+d+H,!1,H),Z=12);let oe=0;F.ending&&(oe=zu(t,F.ending,e+U*D+4,me+10,12,l,null,null,!1).getBBox().width+4),qse(t,me,e+X,D,C,U,F.chord,o,X+Z,d,H),F.annotations&&F.annotations.length>0&&Use(t,me,e+U*D+oe,F.annotations,s),H&&t.paper.rectBeneath({x:e+U*D,y:t.y,width:D,height:H,fill:"#e8e8e8",stroke:"none"})}}),t.moveY(H+d)}),t.moveY(g)}break}}),t.paper.closeGroup()}function zse(t,n,e,i){var r=n-10,o=n+10,a=e+10,s=e-10,l=n-10,c=-t.yToPitch(i)+2,u=n+6.5,d=-t.yToPitch(i)-2.3;t.paper.lineToBack({x1:r,x2:o,y1:a,y2:s,"stroke-width":"3px","stroke-linecap":"round"}),Lp(t,l,c,"dots.dot",{scalex:1,scaley:1,klass:"",name:"dot"}),Lp(t,u,d,"dots.dot",{scalex:1,scaley:1,klass:"",name:"dot"})}function y9(t,n,e,i,r,o){let a=r?n+2:n-4,s=r?n+9:n-11;t.paper.openGroup({klass:"abcjs-repeat"}),jse(t,a,3+t.lineThickness,e,i,null,"bar"),Lp(t,s,-t.yToPitch(o)-4,"dots.dot",{scalex:1,scaley:1,klass:"",name:"dot"}),Lp(t,s,-t.yToPitch(o)-8,"dots.dot",{scalex:1,scaley:1,klass:"",name:"dot"}),t.paper.closeGroup()}var w9={segno:"scripts.segno",coda:"scripts.coda",fermata:"scripts.ufermata"};function Use(t,n,e,i,r){e+=3;let o;for(let a=0;a<i.length;a++)switch(i[a]){case"segno":case"coda":case"fermata":{e+=12,o=Lp(t,e,-3,w9[i[a]],{scalex:1,scaley:1,name:w9[i[a]]});let s=o.getBBox();e+=s.width}break;default:zu(t,i[a],e,n+12,12,r,null,null,!1)}}function qse(t,n,e,i,r,o,a,s,l,c,u){let d=e+i*o;!a[1]&&!a[2]&&!a[3]?Wse(t,d,n+u,i-l,c,a[0],s,u):!a[1]&&!a[3]?Gse(t,d,n,i-l,c,a[0],a[2],s,u):Yse(t,d,n,i-l,c,a,s,u)}function kc(t,n,e,i,r,o,a){let s=zu(t,r,n,e,i,o,null,"abcjs-chord",!0),l=s.getBBox(),c=i;for(;l.width>a&&c>=14;)c-=2,s.setAttribute("font-size",c),l=s.getBBox()}var $se=34,C9=26,Nb=20,Mc=-3;function Wse(t,n,e,i,r,o,a,s){o==="%"?zse(t,n+i/2,e+r/2,s+r/2):kc(t,n+i/2,e+r/2+Mc,$se,o,a,i)}function Gse(t,n,e,i,r,o,a,s,l){t.paper.lineToBack({x1:n,x2:n+i,y1:e+r+l,y2:e+2}),kc(t,n+i/4,e+r/4+5+l+Mc,C9,o,s,i/2),kc(t,n+3*i/4,e+3*r/4+l+Mc,C9,a,s,i/2)}function Yse(t,n,e,i,r,o,a,s){t.paper.lineToBack({x1:n+3,x2:n+i-3,y1:e+r/2+s,y2:e+r/2+s}),t.paper.lineToBack({x1:n+i/2,x2:n+i/2,y1:e+3+s,y2:e+r-3+s}),o[0]&&kc(t,n+i/4,e+r/4+2+s+Mc,Nb,Fb(o[0]),a,i/2),o[1]&&kc(t,n+3*i/4,e+r/4+2+s+Mc,Nb,Fb(o[1]),a,i/2),o[2]&&kc(t,n+i/4,e+3*r/4+s+Mc,Nb,Fb(o[2]),a,i/2),o[3]&&kc(t,n+3*i/4,e+3*r/4+s+Mc,Nb,Fb(o[3]),a,i/2)}function Fb(t){return t==="No Chord"?"N.C.":t}function zu(t,n,e,i,r,o,a,s,l){let c={x:e,y:i,stroke:"none","font-size":r,"font-style":o.style,"font-family":o.face,"font-weight":o.weight,"text-decoration":o.decoration};return a&&(c["data-name"]=a),s&&(c.class=s),c["text-anchor"]=l?"middle":"start",t.paper.text(n,c,null,{"alignment-baseline":"middle"})}x9.exports=Hse});var k9=P((rVe,S9)=>{var Qse=m9(),Kse=v9(),v2=g2(),E9=Hi(),Xse=b9(),Zse=D9();function Jse(t,n,e,i,r,o,a,s,l,c,u){var d=new Xse(t.paper,s,l),h={};n.shouldAddClasses&&(h.klass="abcjs-meta-top"),t.paper.openGroup(h),t.moveY(t.padding.top),v2(t,e.topText,d),t.paper.closeGroup(),t.moveY(t.spacing.music);let f=!1;u&&e.chordGrid&&(Zse(t,e.chordGrid,t.padding.left,i,e.formatting),u==="noMusic"&&(f=!0));var p=[],g=0;if(!f)for(var v=0;v<e.lines.length;v++){n.incrLine();var _=e.lines[v];if(_.staff){if(g++,e.formatting.maxStaves&&g>e.formatting.maxStaves)break;n.shouldAddClasses&&(h.klass="abcjs-staff-wrapper abcjs-l"+n.lineNumber),t.paper.openGroup(h),_.vskip&&t.moveY(_.vskip),p.length>=1&&tle(t,t.spacing.staffSeparation,p[p.length-1],_.staffGroup);var y=ele(t,_.staffGroup,d,v);y.line=c+v,p.push(y),t.paper.closeGroup()}else _.nonMusic&&(n.shouldAddClasses&&(h.klass="abcjs-non-music"),t.paper.openGroup(h),v2(t,_.nonMusic,d),t.paper.closeGroup())}return n.reset(),f||e.bottomText&&e.bottomText.rows&&e.bottomText.rows.length>0&&(n.shouldAddClasses&&(h.klass="abcjs-meta-bottom"),t.paper.openGroup(h),t.moveY(24),v2(t,e.bottomText,d),t.paper.closeGroup()),Kse(t,r,a,o),{staffgroups:p,selectables:d.getElements()}}function ele(t,n,e,i){Qse(t,n,e,i);var r=n.height*E9.STEP;return t.y+=r,n}function tle(t,n,e,i){var r=e.staffs[e.staffs.length-1],o=-(r.bottom-2),a=i.staffs[0].top-10,s=a+o,l=s*E9.STEP;l<n&&t.moveY(n-l)}S9.exports=Jse});var T9=P((oVe,M9)=>{var nle=r2();function ile(t){for(var n=t;n&&n.attributes&&n.tagName.toLowerCase()!=="svg"&&!n.attributes.selectable;)n=n.parentNode;if(n&&n.attributes&&n.attributes.selectable){var e=n.attributes["data-index"].nodeValue;if(e&&(e=parseInt(e,10),e>=0&&e<this.selectables.length)){var i=this.selectables[e],r=nle(i,t);return r.index=e,r.element=i,r}}return null}M9.exports=ile});var _2=P((aVe,N9)=>{var rle=Hi(),ole=sL(),ale=fL(),sle=mL(),lle=vL(),cle=bL(),I9=xL(),dle=SL(),ule=PL(),A9=a8(),hle=l8(),R9=d8(),O9=h8(),fle=k9(),ple=$S(),mle=T9(),va=function(t,n){n=n||{},this.findSelectableElement=mle,this.oneSvgPerLine=n.oneSvgPerLine,this.selectionColor=n.selectionColor,this.dragColor=n.dragColor?n.dragColor:n.selectionColor,this.dragging=!!n.dragging,this.selectTypes=n.selectTypes,this.responsive=n.responsive,this.space=3*rle.SPACE,this.initialClef=n.initialClef,this.timeBasedLayout=n.timeBasedLayout,this.expandToWidest=!!n.expandToWidest,this.scale=n.scale?parseFloat(n.scale):0,this.classes=new hle({shouldAddClasses:n.add_classes}),this.scale>.1||(this.scale=void 0),n.staffwidth?(this.staffwidthScreen=n.staffwidth,this.staffwidthPrint=n.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],n.clickListener&&this.addSelectListener(n.clickListener),this.renderer=new ale(t),this.renderer.setPaddingOverride(n),n.showDebug&&(this.renderer.showDebug=n.showDebug),n.jazzchords&&(this.jazzchords=n.jazzchords),n.accentAbove&&(this.accentAbove=n.accentAbove),n.germanAlphabet&&(this.germanAlphabet=n.germanAlphabet),n.lineThickness&&(this.lineThickness=n.lineThickness),n.chordGrid&&(this.chordGrid=n.chordGrid),this.renderer.controller=this,this.renderer.foregroundColor=n.foregroundColor?n.foregroundColor:"currentColor",n.ariaLabel!==void 0&&(this.renderer.ariaLabel=n.ariaLabel),this.renderer.minPadding=n.minPadding?n.minPadding:0,this.reset()};va.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};va.prototype.engraveABC=function(t,n,e){t[0]===void 0&&(t=[t]),this.reset();for(var i=0;i<t.length;i++)n===void 0&&(n=i),this.getFontAndAttr=new R9(t[i].formatting,this.classes),this.getTextSize=new O9(this.getFontAndAttr,this.renderer.paper),this.engraveTune(t[i],n,e)};va.prototype.adjustNonScaledItems=function(t){this.width/=t,this.renderer.adjustNonScaledItems(t)};va.prototype.getMeasureWidths=function(t){this.reset(),this.getFontAndAttr=new R9(t.formatting,this.classes),this.getTextSize=new O9(this.getFontAndAttr,this.renderer.paper);var n=this.jazzchords;this.setupTune(t,0),this.constructTuneElements(t),A9(this.renderer,t,0,this.space,this.timeBasedLayout);for(var e=[],i,r=!0,o=0;o<t.lines.length;o++){var a=t.lines[o];if(a.staff){if(r&&(i={left:0,measureWidths:[],total:0},e.push(i),r=!1),a.staffGroup.voices.length>0)for(var s=a.staffGroup.voices[0],l=!1,c=0,u=0;u<s.children.length;u++){var d=s.children[u];!l&&!d.isClef&&!d.isKeySig&&(l=!0,i.left=d.x,c=d.x),d.type==="bar"&&(i.measureWidths.push(d.x-c),i.total+=d.x-c,c=d.x)}}else r=!0}return this.jazzchords=n,e};va.prototype.setupTune=function(t,n){this.classes.reset(),t.formatting.jazzchords!==void 0&&(this.jazzchords=t.formatting.jazzchords),t.formatting.accentAbove!==void 0&&(this.accentAbove=t.formatting.accentAbove),this.renderer.newTune(t),this.engraver=new ole(this.getTextSize,n,{bagpipes:t.formatting.bagpipes,flatbeams:t.formatting.flatbeams,graceSlurs:t.formatting.graceSlurs!==!1,percmap:t.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=t.getMeterFraction().num/t.getMeterFraction().den,t.formatting.staffwidth?this.width=t.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var e=t.formatting.scale?t.formatting.scale:this.scale;return this.responsive==="resize"&&(e=void 0),e===void 0&&(e=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(e),e};va.prototype.constructTuneElements=function(t){t.topText=new I9(t.metaText,t.metaTextInfo,t.formatting,t.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var n,e,i=!1,r=!1;for(n=0;n<t.lines.length;n++)if(e=t.lines[n],e.staff)r=!0,e.staffGroup=this.engraver.createABCLine(e.staff,i?null:t.metaText.tempo,n),i=!0;else if(e.subtitle){if(r){var o=this.width/2+this.renderer.padding.left;e.nonMusic=new cle(this.renderer.spacing.subtitle,t.formatting,e.subtitle,o,this.renderer.padding.left,this.getTextSize)}}else e.text!==void 0?(r=!0,e.nonMusic=new sle(e.text,e.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):e.separator!==void 0&&e.separator.lineLength&&(r=!0,e.nonMusic=new lle(e.separator.spaceAbove,e.separator.lineLength,e.separator.spaceBelow));t.bottomText=new dle(t.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)};va.prototype.engraveTune=function(t,n,e){var i=this.jazzchords,r=this.setupTune(t,n);this.constructTuneElements(t);var o=A9(this.renderer,t,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&o>this.width+1&&(t.topText=new I9(t.metaText,t.metaTextInfo,t.formatting,t.lines,o,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),t.lines&&t.lines.length>0))for(var a=t.lines.length,s=0;s<a;++s){var l=t.lines[s];if(l.nonMusic&&l.nonMusic.rows&&l.nonMusic.rows.length>0)for(var c=l.nonMusic.rows.length,u=0;u<c;++u){var d=l.nonMusic.rows[u];d.left&&(l.subtitle?d.left=o/2+this.renderer.padding.left:l.text&&l.text.length>0&&l.text[0].center&&(d.left=o/2+this.renderer.padding.left))}}t.tablatures&&ple.layoutTablatures(this.renderer,t);var h=fle(this.renderer,this.classes,t,this.width,o,this.responsive,r,this.selectTypes,n,e,this.chordGrid);if(this.staffgroups=h.staffgroups,this.selectables=h.selectables,this.oneSvgPerLine){var f=this.renderer.paper.svg.parentNode;this.svgs=gle(this.renderer,f,t.metaText.title,this.responsive,r)}else this.svgs=[this.renderer.paper.svg];ule(this,this.svgs),this.jazzchords=i};function gle(t,n,e,i,r){e||(e="Untitled");var o=n.querySelector("svg");i==="resize"&&(n.style.paddingBottom="");for(var a=o.querySelector("style"),s=i==="resize"?o.viewBox.baseVal.width:o.getAttribute("width"),l=n.querySelectorAll("svg > g"),c=0,u=[],d=[],h=0;h<l.length;h++){var f=l[h],p=f.getBBox(),g=p.y-c,v=p.height+g,_=document.createElement("div"),y="overflow: hidden;";i!=="resize"&&(y+="height:"+v*r+"px;"),_.setAttribute("style",y);var D=vle(o),b='Sheet Music for "'+e+'" section '+(h+1);D.setAttribute("aria-label",b),i!=="resize"&&D.setAttribute("height",v),i==="resize"&&(D.style.position="");var C=t.firefox112?v+1:v;D.setAttribute("viewBox","0 "+c+" "+s+" "+C),D.appendChild(a.cloneNode(!0));var k=document.createElement("title");k.innerText=b,D.appendChild(k),D.appendChild(f),_.appendChild(D),d.push(D),n.appendChild(_),c=p.y+p.height}return n.removeChild(o),d}function vle(t){for(var n="http://www.w3.org/2000/svg",e=document.createElementNS(n,"svg"),i=0;i<t.attributes.length;i++){var r=t.attributes[i];r.name!=="height"&&r.name!="aria-label"&&e.setAttribute(r.name,r.value)}return e}va.prototype.getDim=function(t){if(!t.dim){var n=t.svgEl.getBBox();t.dim={left:Math.round(n.x),top:Math.round(n.y),right:Math.round(n.x+n.width),bottom:Math.round(n.y+n.height)}}return t.dim};va.prototype.addSelectListener=function(t){this.listeners[this.listeners.length]=t};N9.exports=va});var b2=P((lVe,B9)=>{var _le=Ep(),sVe=MS(),P9=_2(),ble=RS(),yle=xS(),Pb={};function F9(){var t=window.innerWidth;for(var n in Pb)if(Pb.hasOwnProperty(n)){var e=Pb[n],i=e.offsetLeft;t-=i*2,e.style.width=t+"px"}}try{window.addEventListener("resize",F9),window.addEventListener("orientationChange",F9)}catch(t){}function L9(t,n,e,i,r){e.viewportHorizontal?(t.innerHTML='<div class="abcjs-inner"></div>',e.scrollHorizontal?(t.style.overflowX="auto",t.style.overflowY="hidden"):t.style.overflow="hidden",Pb[t.id]=t,t=t.children[0]):e.viewportVertical?(t.innerHTML='<div class="abcjs-inner scroll-amount"></div>',t.style.overflowX="hidden",t.style.overflowY="auto",t=t.children[0]):t.innerHTML="";var o=new P9(t,e);if(o.engraveABC(n,i,r),n.engraver=o,e.viewportVertical||e.viewportHorizontal){var a=t.parentNode;a.style.width=t.style.width}}var wle=function(t,n,e,i,r){var o={},a;if(e){for(a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.warnings_id&&o.tablature&&(o.tablature.warning_id=o.warnings_id)}if(i)for(a in i)i.hasOwnProperty(a)&&(a==="listener"?i[a].highlight&&(o.clickListener=i[a].highlight):o[a]=i[a]);if(r)for(a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(l,c,u,d){var h=!1;return l==="*"&&(h=!0,l=document.createElement("div"),l.setAttribute("style","visibility: hidden;"),document.body.appendChild(l)),!h&&o.wrap&&o.staffwidth?(c=Cle(l,c,u,d,o),c):(o.afterParsing&&o.afterParsing(c,u,d),L9(l,c,o,u,0),h&&l.parentNode.removeChild(l),null)}return _le.renderEngine(s,t,n,o)};function Cle(t,n,e,i,r){var o=new P9(t,r),a=o.getMeasureWidths(n),s=yle.calcLineWraps(n,a,r);if(s.reParse){var l=new ble;l.parse(i,s.revisedParams),n=l.getTune();var c=l.getWarnings();c&&(n.warnings=c)}return r.afterParsing&&r.afterParsing(n,e,i),L9(t,n,s.revisedParams,e,0),n.explanation=s.explanation,n}B9.exports=wle});var j9=P((cVe,V9)=>{var xle=Ep(),Dle=_2(),Ele=function(t,n){function e(i,r,o,a){i=document.createElement("div"),i.setAttribute("style","visibility: hidden;"),document.body.appendChild(i);var s=new Dle(i,n),l=s.getMeasureWidths(r);return i.parentNode.removeChild(i),{sections:l}}return xle.renderEngine(e,"*",t,n)};V9.exports=Ele});var Lb=P((dVe,H9)=>{var Sle={};H9.exports=Sle});var U9=P((uVe,z9)=>{var y2=Lb(),kle=function(t,n,e,i){y2[n]||(y2[n]={});var r=y2[n];return r[e]||(r[e]=new Promise(function(o,a){var s=new XMLHttpRequest;let l=t+n+"-mp3/"+e+".mp3";s.open("GET",l,!0),s.responseType="arraybuffer",s.onload=function(){if(s.status!==200){a(Error("Can't load sound at "+l+" status="+s.status));return}var c=function(d){o({instrument:n,name:e,status:"loaded",audioBuffer:d})},u=i.decodeAudioData(s.response,c,function(){a(Error("Can't decode sound at "+l))});u&&typeof u.catch=="function"&&u.catch(a)},s.onerror=function(){a(Error("Can't load sound at "+l))},s.send()}).catch(o=>{throw console.error("Didn't load note",n,e,":",o.message),o})),r[e]};z9.exports=kle});var Bb=P((hVe,q9)=>{var Mle=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"];q9.exports=Mle});var W9=P((fVe,$9)=>{var w2=Bb(),Tle=function(t){for(var n=[],e=0;e<t.tracks.length;e++)n.push([]);var i={},r=w2[0];return t.tracks.forEach(function(o,a){o.forEach(function(s){switch(s.cmd){case"note":var l=s.instrument!==void 0?w2[s.instrument]:r;if(s.duration>0){var c=s.gap?s.gap:0,u=s.duration;c=Math.min(c,u*2/3);var d={pitch:s.pitch,instrument:l,start:Math.round(s.start*1e6)/1e6,end:Math.round((s.start+u-c)*1e6)/1e6,volume:s.volume};s.startChar&&(d.startChar=s.startChar),s.endChar&&(d.endChar=s.endChar),s.style&&(d.style=s.style),s.cents&&(d.cents=s.cents),n[a].push(d)}break;case"program":r=w2[s.instrument];break;case"text":break;default:console.log("Unhandled midi event",s)}})}),n};$9.exports=Tle});var Bp=P((pVe,G9)=>{function Ile(t){if(t)window.abcjsAudioContext=t;else if(!window.abcjsAudioContext){var n=window.AudioContext||window.webkitAudioContext;if(n)window.abcjsAudioContext=new n;else return!1}return window.abcjsAudioContext.state!=="suspended"}G9.exports=Ile});var Tc=P((mVe,Y9)=>{var Ale=Bp();function Rle(){return window.abcjsAudioContext||Ale(),window.abcjsAudioContext}Y9.exports=Rle});var Vp=P((gVe,Q9)=>{var Ole=Tc();function Nle(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var t=Ole();if(t)return t.resume!==void 0}Q9.exports=Nle});var Vb=P((vVe,K9)=>{var Fle={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"};K9.exports=Fle});var Z9=P((_Ve,X9)=>{var Ple=function(t){return window.URL.createObjectURL(Lle(t.audioBuffers))};function Lle(t){var n=t[0],e=n.numberOfChannels,i=n.length*e*2+44,r=new ArrayBuffer(i),o=new DataView(r),a=[],s,l,c=0,u=0;for(h(1179011410),h(i-8),h(1163280727),h(544501094),h(16),d(1),d(e),h(n.sampleRate),h(n.sampleRate*2*e),d(e*2),d(16),h(1635017060),h(i-u-4),s=0;s<e;s++)a.push(n.getChannelData(s));for(;u<i;){for(s=0;s<a.length;s++)l=Math.max(-1,Math.min(1,a[s][c])),l=(.5+l<0?l*32768:l*32767)|0,o.setInt16(u,l,!0),u+=2;c++}return new Blob([r],{type:"audio/wav"});function d(f){o.setUint16(u,f,!0),u+=2}function h(f){o.setUint32(u,f,!0),u+=4}}X9.exports=Ple});var C2=P((bVe,J9)=>{function Ble(t){return Math.pow(2,t/1200)}J9.exports=Ble});var nB=P((yVe,tB)=>{var eB=Lb(),Vle=Vb(),jle=C2();function Hle(t,n,e,i,r,o,a,s,l){var c=window.OfflineAudioContext||window.webkitOfflineAudioContext,u=e.len*e.tempoMultiplier;o&&(u+=o/1e3),u-=s,u<0&&(u=.005);var d=new c(2,Math.floor((u+a)*n),n),h=Vle[e.pitch];if(!eB[e.instrument])return l&&l("placeNote skipped (instrument empty): "+e.instrument+":"+h),Promise.resolve();var f=eB[e.instrument][h];return f?f.then(function(p){var g=d.createBufferSource();g.buffer=p.audioBuffer;var v=e.volume/96*r;g.gainNode=d.createGain(),e.pan&&d.createStereoPanner&&(g.panNode=d.createStereoPanner(),g.panNode.pan.setValueAtTime(e.pan,0)),g.gainNode.gain.value=v,g.gainNode.gain.linearRampToValueAtTime(g.gainNode.gain.value,u),g.gainNode.gain.linearRampToValueAtTime(0,u+a),e.cents&&(g.playbackRate.value=jle(e.cents)),g.panNode?(g.panNode.connect(d.destination),g.gainNode.connect(g.panNode)):g.gainNode.connect(d.destination),g.connect(g.gainNode),g.start(0),g.noteOff?g.noteOff(u+a):g.stop(u+a);var _;return d.oncomplete=function(y){if(y.renderedBuffer&&y.renderedBuffer.getChannelData)for(var D=0;D<i.length;D++){var b=i[D]*e.tempoMultiplier;o&&(b-=o/1e3),b<0&&(b=0),b=Math.floor(b*n),zle(t,y.renderedBuffer,b)}l&&l("placeNote: "+e.instrument+":"+h),_()},d.startRendering(),new Promise(function(y){_=y})}).catch(function(p){return l&&l("placeNote catch: "+p.message),Promise.reject(p)}):(l&&l("placeNote skipped: "+e.instrument+":"+h),Promise.resolve())}var zle=function(t,n,e){for(var i=0;i<2;i++)for(var r=n.getChannelData(i),o=t.getChannelData(i),a=0;a<r.length;a++)o[a+e]+=r[a]};tB.exports=Hle});var Hb=P((wVe,aB)=>{var Ule=U9(),qle=W9(),$le=Bp(),vn=Tc(),Wle=Vp(),Gle=Vb(),jb=Bb(),Yle=Z9(),Qle=nB(),iB=Lb(),Ic="MIDI is not supported in this browser.",rB="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",oB="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",Kle="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function Xle(){var t=this;t.audioBufferPossible=void 0,t.directSource=[],t.startTimeSec=void 0,t.pausedTimeSec=void 0,t.audioBuffers=[],t.duration=void 0,t.isRunning=!1,t.options={},t.pickupLength=0,t.init=function(i){i||(i={}),i.options&&(t.options=i.options),$le(i.audioContext);var r=vn().currentTime;if(t.debugCallback=i.debugCallback,t.debugCallback&&t.debugCallback("init called"),t.audioBufferPossible=t._deviceCapable(),!t.audioBufferPossible)return Promise.reject({status:"NotSupported",message:Ic});var o=i.options?i.options:{};t.soundFontUrl=o.soundFontUrl?o.soundFontUrl:oB,t.soundFontUrl[t.soundFontUrl.length-1]!=="/"&&(t.soundFontUrl+="/"),o.soundFontVolumeMultiplier||o.soundFontVolumeMultiplier===0?t.soundFontVolumeMultiplier=o.soundFontVolumeMultiplier:t.soundFontUrl===oB||t.soundFontUrl===Kle?t.soundFontVolumeMultiplier=3:t.soundFontUrl===rB?t.soundFontVolumeMultiplier=.4:t.soundFontVolumeMultiplier=1,o.programOffsets?t.programOffsets=o.programOffsets:t.soundFontUrl===rB?t.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:t.programOffsets={};var a=o.fadeLength!==void 0?parseInt(o.fadeLength,10):NaN;if(t.fadeLength=isNaN(a)?200:a,a=o.noteEnd!==void 0?parseInt(o.noteEnd,10):NaN,t.noteEnd=isNaN(a)?0:a,t.pan=o.pan,t.meterSize=1,i.visualObj){t.flattened=i.visualObj.setUpAudio(o);var s=i.visualObj.getMeterFraction();s.den&&(t.meterSize=s.num/s.den),t.pickupLength=i.visualObj.getPickupLength()}else if(i.sequence)t.flattened=i.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));t.millisecondsPerMeasure=i.millisecondsPerMeasure?i.millisecondsPerMeasure:i.visualObj?i.visualObj.millisecondsPerMeasure(t.flattened.tempo):1e3,t.beatsPerMeasure=i.visualObj?i.visualObj.getBeatsPerMeasure():4,t.sequenceCallback=o.sequenceCallback,t.callbackContext=o.callbackContext,t.onEnded=o.onEnded,t.meterFraction=i.visualObj?i.visualObj.getMeterFraction():{den:1};var l={},c=[],u=[],d=jb[0];t.flattened.tracks.forEach(function(v){v.forEach(function(_){if(_.cmd==="program"&&jb[_.instrument]&&(d=jb[_.instrument]),_.pitch!==void 0){var y=_.pitch,D=Gle[y],b=_.instrument!==void 0?jb[_.instrument]:d;if(D)if(l[b]||(l[b]={}),!iB[b]||!iB[b][D])l[b][D]=!0;else{var C=b+":"+D;c.indexOf(C)<0&&c.push(C)}else{var k=b+":"+D;console.log("Can't find note: ",y,k),u.indexOf(k)<0&&u.push(k)}}})}),t.debugCallback&&t.debugCallback("note gathering time = "+Math.floor((vn().currentTime-r)*1e3)+"ms"),r=vn().currentTime;var h=[];Object.keys(l).forEach(function(v){Object.keys(l[v]).forEach(function(_){h.push({instrument:v,note:_})})}),t.debugCallback&&t.debugCallback("notes "+JSON.stringify(h));for(var f=[],p=256,g=0;g<h.length;g+=p)f.push(h.slice(g,g+p));return new Promise(function(v,_){var y={cached:c,error:u,loaded:[]},D=0,b=function(){t.debugCallback&&t.debugCallback("loadBatch idx="+D+" len="+f.length),D<f.length?t._loadBatch(f[D],t.soundFontUrl,r).then(function(C){t.debugCallback&&t.debugCallback("loadBatch then"),r=vn().currentTime,C&&(C.error&&(y.error=y.error.concat(C.error)),C.loaded&&(y.loaded=y.loaded.concat(C.loaded))),D++,b()},_):(t.debugCallback&&t.debugCallback("resolve init"),v(y))};b()})},t._loadBatch=function(i,r,o,a){var s=[];return i.forEach(function(l){t.debugCallback&&t.debugCallback("getNote "+l.instrument+":"+l.note),s.push(Ule(r,l.instrument,l.note,vn()))}),Promise.all(s).then(function(l){t.debugCallback&&t.debugCallback("mp3 load time = "+Math.floor((vn().currentTime-o)*1e3)+"ms");for(var c=[],u=[],d=[],h=[],f=0;f<l.length;f++){var p=l[f],g=p.instrument+":"+p.name;p.status==="loaded"?c.push(g):p.status==="pending"?d.push(g):p.status==="cached"?u.push(g):h.push(g+" "+p.message)}if(d.length>0){if(t.debugCallback&&t.debugCallback("pending "+JSON.stringify(d)),a?a=a*2:a=50,a<9e4)return new Promise(function(y,D){setTimeout(function(){var b=[];for(f=0;f<d.length;f++)g=d[f].split(":"),b.push({instrument:g[0],note:g[1]});t.debugCallback&&t.debugCallback("retry "+JSON.stringify(b)),t._loadBatch(b,r,o,a).then(function(C){y(C)}).catch(function(C){D(C)})},a)});for(var v=[],_=0;_<i.length;_++)v.push(i[_].instrument+"/"+i[_].note);return t.debugCallback&&t.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+v.join(", ")))}else return t.debugCallback&&t.debugCallback("loadBatch resolve"),Promise.resolve({loaded:c,cached:u,error:h})}).catch(function(l){t.debugCallback&&t.debugCallback("loadBatch catch "+l.message)})},t.prime=function(){var i=t.fadeLength/1e3;return t.isRunning=!1,t.audioBufferPossible?(t.debugCallback&&t.debugCallback("prime called"),new Promise(function(r,o){try{let D=function(b){var C=b&&b.audioBuffers&&b.audioBuffers.length>0?b.audioBuffers[0].duration:0;return{status:vn().state,duration:C}};var y=D,a=vn().currentTime,s=t.millisecondsPerMeasure/1e3/t.meterSize;if(t.duration=t.flattened.totalDuration*s,t.duration<=0)return t.audioBuffers=[],r({status:"empty",seconds:0});t.duration+=i;var l=Math.floor(vn().sampleRate*t.duration);t.stop();var c=qle(t.flattened);t.options.swing&&e(c,t.options.swing,t.meterFraction,t.pickupLength),t.sequenceCallback&&t.sequenceCallback(c,t.callbackContext);var u=n(c.length,t.pan),d={};c.forEach(function(b,C){var k=u&&u.length>C?u[C]:0;b.forEach(function(O){var H=O.instrument+":"+O.pitch+":"+O.volume+":"+Math.round((O.end-O.start)*1e3)/1e3+":"+k+":"+s+":"+(O.cents?O.cents:0);t.debugCallback&&t.debugCallback("noteMapTrack "+H),d[H]||(d[H]=[]),d[H].push(O.start)})});for(var h=[],f=vn().createBuffer(2,l,vn().sampleRate),p=0;p<Object.keys(d).length;p++){var g=Object.keys(d)[p],v=g.split(":"),_=v[6]!==void 0?parseFloat(v[6]):0;v={instrument:v[0],pitch:parseInt(v[1],10),volume:parseInt(v[2],10),len:parseFloat(v[3]),pan:parseFloat(v[4]),tempoMultiplier:parseFloat(v[5]),cents:_},h.push(Qle(f,vn().sampleRate,v,d[g],t.soundFontVolumeMultiplier,t.programOffsets[v.instrument],i,t.noteEnd/1e3,t.debugCallback))}t.audioBuffers=[f],t.debugCallback&&(t.debugCallback("sampleRate = "+vn().sampleRate),t.debugCallback("totalSamples = "+l),t.debugCallback("creationTime = "+Math.floor((vn().currentTime-a)*1e3)+"ms")),Promise.all(h).then(function(){vn().state==="suspended"?vn().resume().then(function(){r(D(t))}):vn().state==="interrupted"?vn().suspend().then(function(){vn().resume().then(function(){r(D(t))})}):r(D(t))}).catch(function(b){o(b)})}catch(D){o(D)}})):Promise.reject(new Error(Ic))};function n(i,r){if(r==null)return null;var o=[];if(r.length){for(var a=0;a<i;a++)if(a<r.length){var s=parseFloat(r[a]);s<-1?s=-1:s>1&&(s=1),o.push(s)}else o.push(0);return o}else{var l=parseFloat(r);if(l*(i-1)>2)return null;for(var c=i%2===0,u=c?0-l/2:0,d=u+l,h=0;h<i;h++)c=h%2===0,c?(o.push(u),u-=l):(o.push(d),d+=l);return o}return null}t.start=function(){if(!t.audioBufferPossible)throw new Error(Ic);t.debugCallback&&t.debugCallback("start called");var i=t.pausedTimeSec?t.pausedTimeSec:0;t._kickOffSound(i),t.startTimeSec=vn().currentTime-i,t.pausedTimeSec=void 0,t.debugCallback&&t.debugCallback("MIDI STARTED",t.startTimeSec)},t.pause=function(){if(!t.audioBufferPossible)throw new Error(Ic);return t.debugCallback&&t.debugCallback("pause called"),t.pausedTimeSec=t.stop(),t.pausedTimeSec},t.resume=function(){t.start()},t.seek=function(i,r){var o;switch(r){case"seconds":o=i;break;case"beats":o=i*t.millisecondsPerMeasure/t.beatsPerMeasure/1e3;break;default:o=(t.duration-t.fadeLength/1e3)*i;break}if(!t.audioBufferPossible)throw new Error(Ic);t.debugCallback&&t.debugCallback("seek called sec="+o),t.isRunning?(t.stop(),t._kickOffSound(o)):t.pausedTimeSec=o,t.pausedTimeSec=o},t.stop=function(){t.isRunning=!1,t.pausedTimeSec=void 0,t.directSource.forEach(function(r){try{r.stop()}catch(o){console.log("direct source didn't stop:",o)}}),t.directSource=[];var i=vn().currentTime-t.startTimeSec;return i},t.finished=function(){t.startTimeSec=void 0,t.pausedTimeSec=void 0,t.isRunning=!1},t.download=function(){return Yle(t)},t.getAudioBuffer=function(){return t.audioBuffers[0]},t.getIsRunning=function(){return t.isRunning},t._deviceCapable=function(){return Wle()?!0:(console.warn(Ic),t.debugCallback&&t.debugCallback(Ic),!1)},t._kickOffSound=function(i){t.isRunning=!0,t.directSource=[],t.audioBuffers.forEach(function(r,o){t.directSource[o]=vn().createBufferSource(),t.directSource[o].buffer=r,t.directSource[o].connect(vn().destination)}),t.directSource.forEach(function(r){r.start(0,i)}),t.onEnded&&(t.directSource[0].onended=function(){t.onEnded(t.callbackContext)})};function e(i,r,o,a){if(!(o.den!=4&&o.den!=8)&&(r=parseFloat(r),!(isNaN(r)||r<=50))){r>75&&(r=75),r=r/50-1;var s=0,l=.25;o.den===8&&(l=l/2);for(var c=l/2,u=c*r,d=0;d<i.length;d++)for(var h=i[d],f=0;f<h.length;f++){var p=h[f];if((p.start-a)%c==0&&(p.start-a)%l!=0&&(f==0||h[f-1].start<=h[f].start-c)&&(f==h.length-1||h[f+1].start>=h[f].start+c)){var g=p.start;p.start+=u,p.volume*=1+s,f>0&&h[f-1].end==g&&(h[f-1].end=p.start,h[f-1].volume*=1-s)}}}}}aB.exports=Xle});var x2=P((CVe,sB)=>{var Zle=function(){var t=this;t.tracks=[],t.totalDuration=0,t.currentInstrument=[],t.starts=[],t.addTrack=function(){return t.tracks.push([]),t.currentInstrument.push(0),t.starts.push(0),t.tracks.length-1},t.setInstrument=function(n,e){t.tracks[n].push({channel:0,cmd:"program",instrument:e}),t.currentInstrument[n]=e},t.appendNote=function(n,e,i,r,o){var a={cmd:"note",duration:i,gap:0,instrument:t.currentInstrument[n],pitch:e,start:t.starts[n],volume:r};o&&(a.cents=o),t.tracks[n].push(a),t.starts[n]+=i,t.totalDuration=Math.max(t.totalDuration,t.starts[n])}};sB.exports=Zle});var cB=P((xVe,lB)=>{var Jle=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`;lB.exports=Jle});var uB=P((DVe,dB)=>{var ece=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`;dB.exports=ece});var fB=P((EVe,hB)=>{var tce=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`;hB.exports=tce});var mB=P((SVe,pB)=>{var nce=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`;pB.exports=nce});var vB=P((kVe,gB)=>{var ice=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`;gB.exports=ice});var E2=P((MVe,bB)=>{var rce=Vp(),_B=Bp(),Hp=Tc(),oce=cB(),ace=uB(),sce=fB(),lce=mB(),cce=vB();function dce(t,n){var e=this;if(typeof t=="string"){var i=t;if(t=document.querySelector(i),!t)throw new Error('Cannot find element "'+i+'" in the DOM.')}else if(!(t instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(e.parent=t,e.options={},n&&(e.options=Object.assign({},n)),e.options.ac&&_B(e.options.ac),uce(e.parent,e.options),hce(e),e.disable=function(o){var a=e.parent.querySelector(".abcjs-inline-audio");o?a.classList.add("abcjs-disabled"):a.classList.remove("abcjs-disabled")},e.setWarp=function(o,a){var s=e.parent.querySelector(".abcjs-midi-tempo");s.value=Math.round(a),e.setTempo(o)},e.setTempo=function(o){var a=e.parent.querySelector(".abcjs-midi-current-tempo");a&&(a.innerHTML=Math.round(o))},e.resetAll=function(){for(var o=e.parent.querySelectorAll(".abcjs-pushed"),a=0;a<o.length;a++){var s=o[a];s.classList.remove("abcjs-pushed")}},e.pushPlay=function(o){var a=e.parent.querySelector(".abcjs-midi-start");a&&(o?a.classList.add("abcjs-pushed"):a.classList.remove("abcjs-pushed"))},e.pushLoop=function(o){var a=e.parent.querySelector(".abcjs-midi-loop");a&&(o?a.classList.add("abcjs-pushed"):a.classList.remove("abcjs-pushed"))},e.setProgress=function(o,a){var s=e.parent.querySelector(".abcjs-midi-progress-background"),l=e.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!s||!l)){var c=s.clientWidth,u=c*o;l.style.left=u+"px";var d=e.parent.querySelector(".abcjs-midi-clock");if(d){var h=a*o/1e3,f=Math.floor(h/60),p=Math.floor(h%60),g=p<10?"0"+p:p;d.innerHTML=f+":"+g}}},e.options.afterResume){var r=!1;e.options.ac?r=e.options.ac.state!=="suspended":Hp()&&(r=Hp().state!=="suspended"),r&&e.options.afterResume()}}function uce(t,n){var e=!!n.loopHandler,i=!!n.restartHandler,r=!!n.playHandler||!!n.playPromiseHandler,o=!!n.progressHandler,a=!!n.warpHandler,s=n.hasClock!==!1,l=`<div class="abcjs-inline-audio">
`;if(e){var c=n.repeatTitle?n.repeatTitle:"Click to toggle play once/repeat.",u=n.repeatAria?n.repeatAria:c;l+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+c+'" aria-label="'+u+'">'+oce+`</button>
`}if(i){var d=n.restartTitle?n.restartTitle:"Click to go to beginning.",h=n.restartAria?n.restartAria:d;l+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+d+'" aria-label="'+h+'">'+cce+`</button>
`}if(r){var f=n.playTitle?n.playTitle:"Click to play/pause.",p=n.playAria?n.playAria:f;l+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+f+'" aria-label="'+p+'">'+ace+sce+lce+`</button>
`}if(o){var g=n.randomTitle?n.randomTitle:"Click to change the playback position.",v=n.randomAria?n.randomAria:g;l+='<button type="button" class="abcjs-midi-progress-background" title="'+g+'" aria-label="'+v+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(s&&(l+=`<span class="abcjs-midi-clock"></span>
`),a){var _=n.warpTitle?n.warpTitle:"Change the playback speed.",y=n.warpAria?n.warpAria:_,D=n.bpm?n.bpm:"BPM";l+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+_+'" aria-label="'+y+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+D+`)</span></span>
`}l+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',l+=`</div>
`,t.innerHTML=l}function jp(t,n,e,i,r){var o=!0;if(Hp()?o=Hp().state==="suspended":_B(),!rce())throw{status:"NotSupported",message:"This browser does not support audio."};(o||r)&&e&&e.classList.add("abcjs-loading"),o?Hp().resume().then(function(){i?i().then(function(a){D2(t,n,e,r)}):D2(t,n,e,r)}):D2(t,n,e,r)}function D2(t,n,e,i){i?t(n).then(function(){e&&e.classList.remove("abcjs-loading")}):(t(n),e&&e.classList.remove("abcjs-loading"))}function hce(t){var n=!!t.options.loopHandler,e=!!t.options.restartHandler,i=!!t.options.playHandler||!!t.options.playPromiseHandler,r=!!t.options.progressHandler,o=!!t.options.warpHandler,a=t.parent.querySelector(".abcjs-midi-start");n&&t.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(s){jp(t.options.loopHandler,s,a,t.options.afterResume)}),e&&t.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(s){jp(t.options.restartHandler,s,a,t.options.afterResume)}),i&&a.addEventListener("click",function(s){jp(t.options.playPromiseHandler||t.options.playHandler,s,a,t.options.afterResume,!!t.options.playPromiseHandler)}),r&&t.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(s){jp(t.options.progressHandler,s,a,t.options.afterResume)}),o&&t.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(s){jp(t.options.warpHandler,s,a,t.options.afterResume)})}bB.exports=dce});var CB=P((TVe,wB)=>{var fce=x2(),pce=Hb(),mce=Tc();function gce(t,n,e,i,r){for(var o=new fce,a=0;a<t.length;a++){var s=t[a],l=o.addTrack();if(o.setInstrument(l,s.instrument),a===0&&n)for(var c=0;c<n.length;c++){var u=n[c];o.appendNote(l,u.pitch,1/64,u.volume,u.cents)}o.appendNote(l,s.pitch,s.duration,s.volume,s.cents)}var d=mce();return d.state==="suspended"?d.resume().then(function(){return yB(o,e,i,r)}):yB(o,e,i,r)}function yB(t,n,e,i){var r=new pce;return r.init({sequence:t,millisecondsPerMeasure:n,options:{soundFontUrl:e},debugCallback:i}).then(function(){return r.prime()}).then(function(){return r.start(),Promise.resolve()})}wB.exports=gce});var S2=P((IVe,DB)=>{var vce=E2(),_ce=Hb(),bce=Z_(),xB=Tc();function yce(){var t=this;t.warp=100,t.cursorControl=null,t.visualObj=null,t.timer=null,t.midiBuffer=null,t.options=null,t.currentTempo=null,t.control=null,t.isLooping=!1,t.isStarted=!1,t.isLoaded=!1,t.isLoading=!1,t.load=function(e,i,r){r||(r={}),r.displayPlay===void 0&&(r.displayPlay=!0),r.displayProgress===void 0&&(r.displayProgress=!0),t.control=new vce(e,{loopHandler:r.displayLoop?t.toggleLoop:void 0,restartHandler:r.displayRestart?t.restart:void 0,playPromiseHandler:r.displayPlay?t.play:void 0,progressHandler:r.displayProgress?t.randomAccess:void 0,warpHandler:r.displayWarp?t.onWarp:void 0,afterResume:t.init}),t.cursorControl=i,t.disable(!0)},t.disable=function(e){t.control&&t.control.disable(e)},t.setTune=function(e,i,r){return t.visualObj=e,t.disable(!1),t.options=r||{},t.control&&(t.pause(),t.setProgress(0,1),t.control.resetAll(),t.restart(),t.isStarted=!1),t.isLooping=!1,i?t.go():Promise.resolve({status:"no-audio-context"})},t.go=function(){t.isLoading=!0;var e=t.visualObj.millisecondsPerMeasure()*100/t.warp;t.currentTempo=Math.round(t.visualObj.getBeatsPerMeasure()/e*6e4),t.control&&t.control.setTempo(t.currentTempo),t.percent=0;var i;return t.midiBuffer||(t.midiBuffer=new _ce),xB().resume().then(function(r){return t.midiBuffer.init({visualObj:t.visualObj,options:t.options,millisecondsPerMeasure:e})}).then(function(r){return i=r,t.midiBuffer.prime()}).then(function(){var r=16;return t.cursorControl&&t.cursorControl.beatSubdivisions!==void 0&&parseInt(t.cursorControl.beatSubdivisions,10)>=1&&parseInt(t.cursorControl.beatSubdivisions,10)<=64&&(r=parseInt(t.cursorControl.beatSubdivisions,10)),t.timer=new bce(t.visualObj,{beatCallback:t.beatCallback,eventCallback:t.eventCallback,lineEndCallback:t.lineEndCallback,qpm:t.currentTempo,extraMeasuresAtBeginning:t.cursorControl?t.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:t.cursorControl?t.cursorControl.lineEndAnticipation:0,beatSubdivisions:r}),t.cursorControl&&t.cursorControl.onReady&&typeof t.cursorControl.onReady=="function"&&t.cursorControl.onReady(t),t.isLoaded=!0,t.isLoading=!1,Promise.resolve({status:"created",notesStatus:i})})},t.destroy=function(){t.timer&&(t.timer.reset(),t.timer.stop(),t.timer=null),t.midiBuffer&&(t.midiBuffer.stop(),t.midiBuffer=null),t.setProgress(0,1),t.control&&t.control.resetAll()},t.play=function(){return t.runWhenReady(t._play,void 0)};function n(e){return new Promise(function(i){setTimeout(i,e)})}t.runWhenReady=function(e,i){return t.visualObj?t.isLoading?n(500).then(function(){return t.isLoading?t.runWhenReady(e,i):e(i)}):t.isLoaded?e(i):t.go().then(function(){return e(i)}):Promise.resolve({status:"loading"})},t._play=function(){return xB().resume().then(function(){return t.isStarted=!t.isStarted,t.isStarted?(t.cursorControl&&t.cursorControl.onStart&&typeof t.cursorControl.onStart=="function"&&t.cursorControl.onStart(),t.midiBuffer.start(),t.timer.start(t.percent),t.control&&t.control.pushPlay(!0)):t.pause(),Promise.resolve({status:"ok"})})},t.pause=function(){t.timer&&(t.timer.pause(),t.midiBuffer.pause(),t.control&&t.control.pushPlay(!1))},t.toggleLoop=function(){t.isLooping=!t.isLooping,t.control&&t.control.pushLoop(t.isLooping)},t.restart=function(){t.timer&&(t.timer.setProgress(0),t.midiBuffer.seek(0))},t.randomAccess=function(e){return t.runWhenReady(t._randomAccess,e)},t._randomAccess=function(e){var i=e.target.classList.contains("abcjs-midi-progress-indicator")?e.target.parentNode:e.target,r=(e.x-i.getBoundingClientRect().left)/i.offsetWidth;return r<0&&(r=0),r>1&&(r=1),t.seek(r),Promise.resolve({status:"ok"})},t.seek=function(e,i){t.timer&&t.midiBuffer&&(t.timer.setProgress(e,i),t.midiBuffer.seek(e,i))},t.setWarp=function(e){if(parseInt(e,10)>0){t.warp=parseInt(e,10);var i=t.isStarted,r=t.percent;return t.destroy(),t.isStarted=!1,t.go().then(function(){return t.setProgress(r,t.midiBuffer.duration*1e3),t.control&&t.control.setWarp(t.currentTempo,t.warp),i?t.play().then(function(){return t.seek(r),Promise.resolve()}):(t.seek(r),Promise.resolve())})}return Promise.resolve()},t.onWarp=function(e){var i=e.target.value;return t.setWarp(i)},t.setProgress=function(e,i){t.percent=e,t.control&&t.control.setProgress(e,i)},t.finished=function(){if(t.timer.reset(),t.isLooping)return t.timer.start(0),t.midiBuffer.finished(),t.midiBuffer.start(),"continue";t.timer.stop(),t.isStarted&&(t.control&&t.control.pushPlay(!1),t.isStarted=!1,t.midiBuffer.finished(),t.cursorControl&&t.cursorControl.onFinished&&typeof t.cursorControl.onFinished=="function"&&t.cursorControl.onFinished(),t.setProgress(0,1))},t.beatCallback=function(e,i,r,o){var a=e/i;t.setProgress(a,r),t.cursorControl&&t.cursorControl.onBeat&&typeof t.cursorControl.onBeat=="function"&&t.cursorControl.onBeat(e,i,r,o)},t.eventCallback=function(e){if(e)t.cursorControl&&t.cursorControl.onEvent&&typeof t.cursorControl.onEvent=="function"&&t.cursorControl.onEvent(e);else return t.finished()},t.lineEndCallback=function(e,i){t.cursorControl&&t.cursorControl.onLineEnd&&typeof t.cursorControl.onLineEnd=="function"&&t.cursorControl.onLineEnd(e,i)},t.getUrl=function(){return t.midiBuffer.download()},t.download=function(e){var i=t.getUrl(),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none;"),r.href=i,r.download=e||"output.wav",r.click(),window.URL.revokeObjectURL(i),document.body.removeChild(r)}}DB.exports=yce});var k2=P((AVe,SB)=>{var wce=C2(),EB;(function(){"use strict";function t(u,d){for(var h in d)d.hasOwnProperty(h)&&u.setAttribute(h,d[h]);return u}function n(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}n.prototype.setTempo=function(u){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+s(Math.round(6e7/u),6),this.endTrack())},n.prototype.setGlobalInfo=function(u,d,h,f){if(this.trackcount===0){this.startTrack();var p=Math.round(6e7/u);this.track+="%00%FF%51%03"+s(p,6),h&&(this.track+=r(h)),f&&(this.track+=o(f)),d&&(this.track+=i(d,"%01")),this.endTrack()}},n.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},n.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var u=s(this.track.length/3+4,8);this.track="MTrk"+u+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},n.prototype.setText=function(u,d){u==="name"&&(this.trackName=i(d,"%03"))},n.prototype.setInstrument=function(u){this.trackInstrument="%00%C0"+s(u,2),this.instrument=u},n.prototype.setChannel=function(u,d){this.channel=u;var h="%00%B"+this.channel.toString(16);this.track+=h+"%79%00",this.track+=h+"%40%00",this.track+=h+"%5B%30",d||(d=0),d=Math.round((d+1)*64),this.track+=h+"%0A"+s(d,2),this.track+=h+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var e=4096;n.prototype.startNote=function(u,d,h){if(this.track+=c(this.silencelength),this.silencelength=0,h){this.track+="%e"+this.channel.toString(16);var f=Math.round(wce(h)*e);this.track+=l(8192+f),this.track+=c(0),this.noteWarped[u]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+u.toString(16)+s(d,2)},n.prototype.endNote=function(u){this.track+=c(this.silencelength),this.silencelength=0,this.noteWarped[u]&&(this.track+="%e"+this.channel.toString(16),this.track+=l(8192),this.track+=c(0),this.noteWarped[u]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+u.toString(16)+"%00"},n.prototype.addRest=function(u){this.silencelength+=u,this.silencelength<0&&(this.silencelength=0)},n.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+s(this.trackcount,4)+"%01%e0"+this.trackstrings},n.prototype.embed=function(u,d){var h=this.getData(),f=t(document.createElement("a"),{href:h});if(f.innerHTML="download midi",u.insertBefore(f,u.firstChild),!d){var p=t(document.createElement("embed"),{src:h,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});u.insertBefore(p,u.firstChild)}};function i(u,d){for(var h="",f=0;f<u.length;f++)h+=s(u.charCodeAt(f),2);return"%00%FF"+d+s(h.length/3,2)+h}function r(u){if(!u||!u.accidentals)return"";for(var d="%00%FF%59%02",h=0,f=256,p=0;p<u.accidentals.length;p++)u.accidentals[p].acc==="sharp"?h++:u.accidentals[p].acc==="flat"&&f--;var g=s(f!==256?f:h,2),v=u.mode==="m"?"%01":"%00";return d+g+v}function o(u){var d="%00%FF%58%04"+s(u.num,2),h={1:0,2:1,4:2,8:3,16:4,32:5},f=h[u.den];if(!f)return"";d+=s(f,2);var p;switch(u.num+"/"+u.den){case"2/4":case"3/4":case"4/4":case"5/4":p=24;break;case"6/4":p=72;break;case"2/2":case"3/2":case"4/2":p=48;break;case"3/8":case"6/8":case"9/8":case"12/8":p=36;break}return p?(d+=s(p,2),d+"%08"):""}function a(u){for(var d="",h=0;h<u.length;h+=2)d+="%",d+=u.substr(h,2);return d}function s(u,d){var h=u.toString(16);for(h=h.split(".")[0];h.length<d;)h="0"+h;return h.length>d&&(h=h.substring(0,d)),a(h)}function l(u){u=Math.round(u);var d=u%128,h=u-d;return s(h*2+d,4)}function c(u){var d=0,h=[];for(u=Math.round(u);u!==0;)h.push(u&127),u=u>>7;for(var f=h.length-1;f>=0;f--){d=d<<8;var p=h[f];f!==0&&(p=p|128),d=d|p}var g=d.toString(16).length;return g+=g%2,s(d,g)}EB=function(){return new n}})();SB.exports=EB});var TB=P((RVe,MB)=>{var Cce=k2(),kB;(function(){"use strict";var t=1920;kB=function(i,r){r===void 0&&(r={});var o=i.setUpAudio(r),a=Cce(),s=i.metaText?i.metaText.title:void 0;s&&s.length>128&&(s=s.substring(0,124)+"...");var l=i.getKeySignature(),c=i.getMeterFraction(),u=o.tempo,d=u/60;if(c.den===8&&c.num!==5&&c.num!==7){var h=i.millisecondsPerMeasure();u=6e4/(h/c.num)/2,d=u/60}a.setGlobalInfo(u,s,l,c);for(var f=0;f<o.tracks.length;f++){a.startTrack();for(var p={},g=0;g<o.tracks[f].length;g++){var v=o.tracks[f][g];switch(v.cmd){case"text":a.setText(v.type,v.text);break;case"program":var _=0;r.pan&&r.pan.length>f&&(_=r.pan[f]),v.instrument===128?(a.setChannel(9,_),a.setInstrument(0)):(a.setChannel(v.channel,_),a.setInstrument(v.instrument));break;case"note":var y=v.gap*d,D=v.start,b=D+v.duration-y;p[D]||(p[D]=[]),p[D].push({pitch:v.pitch,volume:v.volume,cents:v.cents}),p[b]||(p[b]=[]),p[b].push({pitch:v.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+v.cmd)}}n(a,p,t),a.endTrack()}return a.getData()};function n(e,i,r){for(var o=Object.keys(i),a=0;a<o.length;a++)o[a]=parseFloat(o[a]);o.sort(function(f,p){return f-p});for(var s=0,l=0;l<o.length;l++){var c=i[o[l]];if(o[l]>s){var u=(o[l]-s)*r;e.addRest(u),s=o[l]}for(var d=0;d<c.length;d++){var h=c[d];h.volume?e.startNote(h.pitch,h.volume,h.cents):e.endNote(h.pitch)}}}})();MB.exports=kB});var AB=P((OVe,IB)=>{var xce=Ep(),Dce=TB(),Ece=function(t,n){var e={};if(n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);e.generateInline=!1;function r(o,a,s){var l=Dce(a,e);switch(e.midiOutputType){case"encoded":return l;case"binary":var c=l.replace("data:audio/midi,","");c=c.replace(/MThd/g,"%4d%54%68%64"),c=c.replace(/MTrk/g,"%4d%54%72%6b");for(var u=new ArrayBuffer(c.length/3),d=new Uint8Array(u),h=0;h<c.length/3;h++){var f=h*3+1,p=parseInt(c.substring(f,f+2),16);d[h]=p}return d;default:return kce(a,e,l,s)}}return typeof t=="string"?xce.renderEngine(r,"*",t,e):r(null,t,0)};function Sce(t){var n={};return t&&n.toString.call(t)==="[object Function]"}var kce=function(t,n,e,i){var r=["abcjs-download-midi","abcjs-midi-"+i];n.downloadClass&&r.push(n.downloadClass);var o='<div class="'+r.join(" ")+'">';n.preTextDownload&&(o+=n.preTextDownload);var a=t.metaText&&t.metaText.title?t.metaText.title:"Untitled",s;n.downloadLabel&&Sce(n.downloadLabel)?s=n.downloadLabel(t,i):n.downloadLabel?s=n.downloadLabel.replace(/%T/,a):s='Download MIDI for "'+a+'"',a=a.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var l=n.fileName?n.fileName:a+".midi";return o+='<a download="'+l+'" href="'+e+'">'+s+"</a>",n.postTextDownload&&(o+=n.postTextDownload),o+"</div>"};IB.exports=Ece});var T2=P((NVe,RB)=>{try{typeof window.CustomEvent!="function"&&(M2=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),e},M2.prototype=window.Event.prototype,window.CustomEvent=M2)}catch(t){}var M2,nl=function(t){this.isEditArea=!0,typeof t=="string"?(this.textarea=document.getElementById(t),this.textarea||(this.textarea=document.querySelector(t))):this.textarea=t,this.initialText=this.textarea.value,this.isDragging=!1};nl.prototype.addSelectionListener=function(t){this.textarea.onmousemove=function(n){this.isDragging&&t.fireSelectionChanged()}};nl.prototype.addChangeListener=function(t){this.changelistener=t,this.textarea.onkeyup=function(){t.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,t.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,t.fireChanged()},this.textarea.onchange=function(){t.fireChanged()}};nl.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};nl.prototype.setSelection=function(t,n){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(t,n);else if(this.textarea.createTextRange){var e=this.textarea.createTextRange();e.collapse(!0),e.moveEnd("character",n),e.moveStart("character",t),e.select()}this.textarea.focus()};nl.prototype.getString=function(){return this.textarea.value};nl.prototype.setString=function(t){this.textarea.value=t,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};nl.prototype.getElem=function(){return this.textarea};RB.exports=nl});var PB=P((FVe,FB)=>{var NB=Ao(),Mce=S2(),Tce=Vp(),Ice=b2(),OB=T2();function Ace(t){var n={},e;if(t.abcjsParams)for(e in t.abcjsParams)t.abcjsParams.hasOwnProperty(e)&&(n[e]=t.abcjsParams[e]);if(t.midi_options)for(e in t.midi_options)t.midi_options.hasOwnProperty(e)&&(n[e]=t.midi_options[e]);if(t.parser_options)for(e in t.parser_options)t.parser_options.hasOwnProperty(e)&&(n[e]=t.parser_options[e]);if(t.render_options)for(e in t.render_options)t.render_options.hasOwnProperty(e)&&(n[e]=t.render_options[e]);return n.tablature&&t.warnings_id&&(n.tablature.warnings_id=t.warnings_id),n}var bi=function(t,n){this.abcjsParams=Ace(n),n.indicate_changed&&(this.indicate_changed=!0),typeof t=="string"?this.editarea=new OB(t):t.isEditArea?this.editarea=t:this.editarea=new OB(t),this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),n.canvas_id?this.div=n.canvas_id:n.paper_id?this.div=n.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),n.selectionChangeCallback&&(this.selectionChangeCallback=n.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),n.synth&&Tce()&&(this.synth={el:n.synth.el,cursorControl:n.synth.cursorControl,options:n.synth.options}),n.generate_midi&&(this.generate_midi=n.generate_midi,this.abcjsParams.generateDownload&&(typeof n.midi_download_id=="string"?this.downloadMidi=document.getElementById(n.midi_download_id):n.midi_download_id&&(this.downloadMidi=n.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof n.midi_id=="string"?this.inlineMidi=document.getElementById(n.midi_id):n.midi_id&&(this.inlineMidi=n.midi_id))),n.warnings_id?typeof n.warnings_id=="string"?this.warningsdiv=document.getElementById(n.warnings_id):this.warningsdiv=n.warnings_id:n.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=n.onchange,this.redrawCallback=n.redrawCallback,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(e,i){var r=function(o,a){var s=o.className;return s.length>0&&(s===a||new RegExp("(^|\\s)"+a+"(\\s|$)").test(s))};return r(e,i)||(e.className+=(e.className?" ":"")+i),e},this.removeClassName=function(e,i){return e.className=NB.strip(e.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," ")),e},this.setReadOnly=function(e){var i="abc_textarea_readonly",r=this.editarea.getElem();e?(r.setAttribute("readonly","yes"),this.addClassName(r,i)):(r.removeAttribute("readonly"),this.removeClassName(r,i))}};bi.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var t=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(t)}if(this.synth){var n=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new Mce,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],n,this.synth.options)}};bi.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.redrawCallback&&this.redrawCallback(!0),this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=Ice(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi(),this.redrawCallback&&this.redrawCallback(!1)}catch(t){console.error("ABCJS error: ",t),this.warnings||(this.warnings=[]),this.warnings.push(t.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};bi.prototype.paramChanged=function(t){if(t)for(var n in t)t.hasOwnProperty(n)&&(this.abcjsParams[n]=t[n]);this.currentAbc="",this.fireChanged()};bi.prototype.getTunes=function(){return this.tunes};bi.prototype.synthParamChanged=function(t){if(this.synth){if(this.synth.options={},t)for(var n in t)t.hasOwnProperty(n)&&(this.synth.options[n]=t[n]);this.currentAbc="",this.fireChanged()}};bi.prototype.parseABC=function(){var t=this.editarea.getString();return t===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=t,!0)};bi.prototype.updateSelection=function(){var t=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(t.start,t.end)}catch(n){}this.selectionChangeCallback&&this.selectionChangeCallback(t.start,t.end)};bi.prototype.fireSelectionChanged=function(){this.updateSelection()};bi.prototype.setDirtyStyle=function(t){if(this.indicate_changed!==void 0){var n=function(o,a){var s=function(l,c){var u=l.className;return u.length>0&&(u===c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(u))};return s(o,a)||(o.className+=(o.className?" ":"")+a),o},e=function(o,a){return o.className=NB.strip(o.className.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ")),o},i="abc_textarea_dirty",r=this.editarea.getElem();t?n(r,i):e(r,i)}};bi.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var t=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){t.modelChanged()},300);var n=this.isDirty();this.wasDirty!==n&&(this.wasDirty=n,this.setDirtyStyle(n)),this.onchangeCallback&&this.onchangeCallback(this)}};bi.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};bi.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};bi.prototype.highlight=function(t,n,e,i,r,o){this.editarea.setSelection(t.startChar,t.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(t.startChar,t.endChar),this.clientClickListener&&this.clientClickListener(t,n,e,i,r,o)};bi.prototype.pause=function(t){this.bIsPaused=t,t||this.fireChanged()};bi.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};bi.prototype.pauseMidi=function(t){this.midiPause=t,t||this.redrawMidi()};FB.exports=bi});var as=P((PVe,VB)=>{var Rce=n4(),LB=o4(),BB=Ep(),Oce=ES(),Nce=s6(),eo={};eo.signature="abcjs-basic v"+Rce;Object.keys(LB).forEach(function(t){eo[t]=LB[t]});Object.keys(BB).forEach(function(t){eo[t]=BB[t]});eo.renderAbc=b2();eo.tuneMetrics=j9();eo.TimingCallbacks=Z_();var Fce=ns();eo.setGlyph=Fce.setSymbol;eo.strTranspose=Nce;var Pce=Hb(),Lce=Bb(),Bce=Vb(),Vce=x2(),jce=E2(),Hce=Bp(),zce=Tc(),Uce=Vp(),qce=CB(),$ce=S2(),Wce=AB(),Gce=k2();eo.synth={CreateSynth:Pce,instrumentIndexToName:Lce,pitchToNoteName:Bce,SynthController:$ce,SynthSequence:Vce,CreateSynthControl:jce,registerAudioContext:Hce,activeAudioContext:zce,supportsAudio:Uce,playEvent:qce,getMidiFile:Wce,sequence:Oce,midiRenderer:Gce};eo.Editor=PB();eo.EditArea=T2();VB.exports=eo});var wi=null,$p=!1,gy=1,Y7=null,ii=Symbol("SIGNAL");function it(t){let n=wi;return wi=t,n}function Gp(){return wi}var Oc={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Nc(t){if($p)throw new Error("");if(wi===null)return;wi.consumerOnSignalRead(t);let n=wi.producersTail;if(n!==void 0&&n.producer===t)return;let e,i=wi.recomputing;if(i&&(e=n!==void 0?n.nextProducer:wi.producers,e!==void 0&&e.producer===t)){wi.producersTail=e,e.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===wi&&(!i||K7(r,wi)))return;let o=Lc(wi),a={producer:t,consumer:wi,nextProducer:e,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};wi.producersTail=a,n!==void 0?n.nextProducer=a:wi.producers=a,o&&G2(t,a)}function q2(){gy++}function vy(t){if(!(Lc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gy)){if(!t.producerMustRecompute(t)&&!Pc(t)){my(t);return}t.producerRecomputeValue(t),my(t)}}function _y(t){if(t.consumers===void 0)return;let n=$p;$p=!0;try{for(let e=t.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||Q7(i)}}finally{$p=n}}function by(){return wi?.consumerAllowSignalWrites!==!1}function Q7(t){t.dirty=!0,_y(t),t.consumerMarkedDirty?.(t)}function my(t){t.dirty=!1,t.lastCleanEpoch=gy}function ol(t){return t&&$2(t),it(t)}function $2(t){t.producersTail=void 0,t.recomputing=!0}function Fc(t,n){it(n),t&&W2(t)}function W2(t){t.recomputing=!1;let n=t.producersTail,e=n!==void 0?n.nextProducer:t.producers;if(e!==void 0){if(Lc(t))do e=yy(e);while(e!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function Pc(t){for(let n=t.producers;n!==void 0;n=n.nextProducer){let e=n.producer,i=n.lastReadVersion;if(i!==e.version||(vy(e),i!==e.version))return!0}return!1}function hs(t){if(Lc(t)){let n=t.producers;for(;n!==void 0;)n=yy(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function G2(t,n){let e=t.consumersTail,i=Lc(t);if(e!==void 0?(n.nextConsumer=e.nextConsumer,e.nextConsumer=n):(n.nextConsumer=void 0,t.consumers=n),n.prevConsumer=e,t.consumersTail=n,!i)for(let r=t.producers;r!==void 0;r=r.nextProducer)G2(r.producer,r)}function yy(t){let n=t.producer,e=t.nextProducer,i=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:n.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(n.consumers=i,!Lc(n)){let o=n.producers;for(;o!==void 0;)o=yy(o)}return e}function Lc(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function wy(t){Y7?.(t)}function K7(t,n){let e=n.producersTail;if(e!==void 0){let i=n.producers;do{if(i===t)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function Cy(t,n){return Object.is(t,n)}function Yu(t,n){let e=Object.create(X7);e.computation=t,n!==void 0&&(e.equal=n);let i=()=>{if(vy(e),Nc(e),e.value===Wp)throw e.error;return e.value};return i[ii]=e,wy(e),i}var fy=Symbol("UNSET"),py=Symbol("COMPUTING"),Wp=Symbol("ERRORED"),X7=nt(G({},Oc),{value:fy,dirty:!0,error:null,equal:Cy,kind:"computed",producerMustRecompute(t){return t.value===fy||t.value===py},producerRecomputeValue(t){if(t.value===py)throw new Error("");let n=t.value;t.value=py;let e=ol(t),i,r=!1;try{i=t.computation(),it(null),r=n!==fy&&n!==Wp&&i!==Wp&&t.equal(n,i)}catch(o){i=Wp,t.error=o}finally{Fc(t,e)}if(r){t.value=n;return}t.value=i,t.version++}});function Z7(){throw new Error}var Y2=Z7;function Q2(t){Y2(t)}function xy(t){Y2=t}var J7=null;function Dy(t,n){let e=Object.create(Ku);e.value=t,n!==void 0&&(e.equal=n);let i=()=>K2(e);return i[ii]=e,wy(e),[i,a=>Qu(e,a),a=>X2(e,a)]}function K2(t){return Nc(t),t.value}function Qu(t,n){by()||Q2(t),t.equal(t.value,n)||(t.value=n,eV(t))}function X2(t,n){by()||Q2(t),Qu(t,n(t.value))}var Ku=nt(G({},Oc),{equal:Cy,value:void 0,kind:"signal"});function eV(t){t.version++,q2(),_y(t),J7?.(t)}function Ey(t){let n=it(null);try{return t()}finally{it(n)}}var Sy=nt(G({},Oc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function ky(t){if(t.dirty=!1,t.version>0&&!Pc(t))return;t.version++;let n=ol(t);try{t.cleanup(),t.fn()}finally{Fc(t,n)}}function mt(t){return typeof t=="function"}function Bc(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Yp=Bc(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function al(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var je=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(mt(i))try{i()}catch(o){n=o instanceof Yp?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Z2(o)}catch(a){n=n??[],a instanceof Yp?n=[...n,...a.errors]:n.push(a)}}if(n)throw new Yp(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Z2(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&al(e,n)}remove(n){let{_finalizers:e}=this;e&&al(e,n),n instanceof t&&n._removeParent(this)}};je.EMPTY=(()=>{let t=new je;return t.closed=!0,t})();var My=je.EMPTY;function Qp(t){return t instanceof je||t&&"closed"in t&&mt(t.remove)&&mt(t.add)&&mt(t.unsubscribe)}function Z2(t){mt(t)?t():t.unsubscribe()}var io={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vc={setTimeout(t,n,...e){let{delegate:i}=Vc;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Vc;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Kp(t){Vc.setTimeout(()=>{let{onUnhandledError:n}=io;if(n)n(t);else throw t})}function ya(){}var J2=Ty("C",void 0,void 0);function ek(t){return Ty("E",void 0,t)}function tk(t){return Ty("N",t,void 0)}function Ty(t,n,e){return{kind:t,value:n,error:e}}var sl=null;function jc(t){if(io.useDeprecatedSynchronousErrorHandling){let n=!sl;if(n&&(sl={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=sl;if(sl=null,e)throw i}}else t()}function nk(t){io.useDeprecatedSynchronousErrorHandling&&sl&&(sl.errorThrown=!0,sl.error=t)}var ll=class extends je{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Qp(n)&&n.add(this)):this.destination=iV}static create(n,e,i){return new wa(n,e,i)}next(n){this.isStopped?Ay(tk(n),this):this._next(n)}error(n){this.isStopped?Ay(ek(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ay(J2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tV=Function.prototype.bind;function Iy(t,n){return tV.call(t,n)}var Ry=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Xp(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Xp(i)}else Xp(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Xp(e)}}},wa=class extends ll{constructor(n,e,i){super();let r;if(mt(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&io.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Iy(n.next,o),error:n.error&&Iy(n.error,o),complete:n.complete&&Iy(n.complete,o)}):r=n}this.destination=new Ry(r)}};function Xp(t){io.useDeprecatedSynchronousErrorHandling?nk(t):Kp(t)}function nV(t){throw t}function Ay(t,n){let{onStoppedNotification:e}=io;e&&Vc.setTimeout(()=>e(t,n))}var iV={closed:!0,next:ya,error:nV,complete:ya};var Hc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fr(t){return t}function Oy(...t){return Ny(t)}function Ny(t){return t.length===0?fr:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var Ye=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=oV(e)?e:new wa(e,i,r);return jc(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=ik(i),new i((r,o)=>{let a=new wa({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Hc](){return this}pipe(...e){return Ny(e)(this)}toPromise(e){return e=ik(e),new e((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=n=>new t(n),t})();function ik(t){var n;return(n=t??io.Promise)!==null&&n!==void 0?n:Promise}function rV(t){return t&&mt(t.next)&&mt(t.error)&&mt(t.complete)}function oV(t){return t&&t instanceof ll||rV(t)&&Qp(t)}function Fy(t){return mt(t?.lift)}function st(t){return n=>{if(Fy(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,n,e,i,r){return new Py(t,n,e,i,r)}var Py=class extends ll{constructor(n,e,i,r,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){n.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function rk(){return st((t,n)=>{let e=null;t._refCount++;let i=rt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var Xu=class extends Ye{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Fy(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new je;let e=this.getSubject();n.add(this.source.subscribe(rt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=je.EMPTY)}return n}refCount(){return rk()(this)}};var zc={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=zc;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=n(o=>{e=void 0,t(o)});return new je(()=>e?.(r))},requestAnimationFrame(...t){let{delegate:n}=zc;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:n}=zc;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var ok=Bc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Zp(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ok}next(e){jc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){jc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){jc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?My:(this.currentObservers=null,o.push(e),new je(()=>{this.currentObservers=null,al(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new Ye;return e.source=this,e}}return t.create=(n,e)=>new Zp(n,e),t})(),Zp=class extends ${constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:My}};var Wt=class extends ${constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var Zu={now(){return(Zu.delegate||Date).now()},delegate:void 0};var An=class extends ${constructor(n=1/0,e=1/0,i=Zu){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(n),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!n.closed;a+=i?1:2)n.next(o[a]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let a=e.now(),s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}};var Jp=class extends je{constructor(n,e){super()}schedule(n,e=0){return this}};var Ju={setInterval(t,n,...e){let{delegate:i}=Ju;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=Ju;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var fs=class extends Jp{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return Ju.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&Ju.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,al(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var aV=1,Ly,By={};function ak(t){return t in By?(delete By[t],!0):!1}var sk={setImmediate(t){let n=aV++;return By[n]=!0,Ly||(Ly=Promise.resolve()),Ly.then(()=>ak(n)&&t()),n},clearImmediate(t){ak(t)}};var{setImmediate:sV,clearImmediate:lV}=sk,eh={setImmediate(...t){let{delegate:n}=eh;return(n?.setImmediate||sV)(...t)},clearImmediate(t){let{delegate:n}=eh;return(n?.clearImmediate||lV)(t)},delegate:void 0};var em=class extends fs{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return i!==null&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=eh.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);let{actions:o}=n;e!=null&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(eh.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}};var Uc=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};Uc.now=Zu.now;var ps=class extends Uc{constructor(n,e=Uc.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var tm=class extends ps{flush(n){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;n=n||i.shift();do if(r=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}};var th=new tm(em);var zi=new ps(fs),Vy=zi;var nm=class extends fs{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return i!==null&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=zc.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);let{actions:o}=n;e!=null&&e===n._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(zc.cancelAnimationFrame(e),n._scheduled=void 0)}};var im=class extends ps{flush(n){this._active=!0;let e;n?e=n.id:(e=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;n=n||i.shift();do if(r=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}};var nh=new im(nm);var mn=new Ye(t=>t.complete());function rm(t){return t&&mt(t.schedule)}function jy(t){return t[t.length-1]}function om(t){return mt(jy(t))?t.pop():void 0}function Uo(t){return rm(jy(t))?t.pop():void 0}function lk(t,n){return typeof jy(t)=="number"?t.pop():n}function dk(t,n,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):r(u.value).then(s,l)}c((i=i.apply(t,n||[])).next())})}function ck(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function cl(t){return this instanceof cl?(this.v=t,this):new cl(t)}function uk(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(f){return function(p){return Promise.resolve(p).then(f,d)}}function s(f,p){i[f]&&(r[f]=function(g){return new Promise(function(v,_){o.push([f,g,v,_])>1||l(f,g)})},p&&(r[f]=p(r[f])))}function l(f,p){try{c(i[f](p))}catch(g){h(o[0][3],g)}}function c(f){f.value instanceof cl?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function hk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof ck=="function"?ck(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var am=t=>t&&typeof t.length=="number"&&typeof t!="function";function sm(t){return mt(t?.then)}function lm(t){return mt(t[Hc])}function cm(t){return Symbol.asyncIterator&&mt(t?.[Symbol.asyncIterator])}function dm(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var um=cV();function hm(t){return mt(t?.[um])}function fm(t){return uk(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield cl(e.read());if(r)return yield cl(void 0);yield yield cl(i)}}finally{e.releaseLock()}})}function pm(t){return mt(t?.getReader)}function Gt(t){if(t instanceof Ye)return t;if(t!=null){if(lm(t))return dV(t);if(am(t))return uV(t);if(sm(t))return hV(t);if(cm(t))return fk(t);if(hm(t))return fV(t);if(pm(t))return pV(t)}throw dm(t)}function dV(t){return new Ye(n=>{let e=t[Hc]();if(mt(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uV(t){return new Ye(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function hV(t){return new Ye(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Kp)})}function fV(t){return new Ye(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function fk(t){return new Ye(n=>{mV(t,n).catch(e=>n.error(e))})}function pV(t){return fk(fm(t))}function mV(t,n){var e,i,r,o;return dk(this,void 0,void 0,function*(){try{for(e=hk(t);i=yield e.next(),!i.done;){let a=i.value;if(n.next(a),n.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function Ui(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function mm(t,n=0){return st((e,i)=>{e.subscribe(rt(i,r=>Ui(i,t,()=>i.next(r),n),()=>Ui(i,t,()=>i.complete(),n),r=>Ui(i,t,()=>i.error(r),n)))})}function gm(t,n=0){return st((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function pk(t,n){return Gt(t).pipe(gm(n),mm(n))}function mk(t,n){return Gt(t).pipe(gm(n),mm(n))}function gk(t,n){return new Ye(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function vk(t,n){return new Ye(e=>{let i;return Ui(e,n,()=>{i=t[um](),Ui(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>mt(i?.return)&&i.return()})}function vm(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ye(e=>{Ui(e,n,()=>{let i=t[Symbol.asyncIterator]();Ui(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function _k(t,n){return vm(fm(t),n)}function bk(t,n){if(t!=null){if(lm(t))return pk(t,n);if(am(t))return gk(t,n);if(sm(t))return mk(t,n);if(cm(t))return vm(t,n);if(hm(t))return vk(t,n);if(pm(t))return _k(t,n)}throw dm(t)}function _n(t,n){return n?bk(t,n):Gt(t)}function Be(...t){let n=Uo(t);return _n(t,n)}function ih(t,n){let e=mt(t)?t:()=>t,i=r=>r.error(e());return new Ye(n?r=>n.schedule(i,0,r):i)}function qo(t){return!!t&&(t instanceof Ye||mt(t.lift)&&mt(t.subscribe))}var dl=Bc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function yk(t){return t instanceof Date&&!isNaN(t)}function He(t,n){return st((e,i)=>{let r=0;e.subscribe(rt(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:gV}=Array;function vV(t,n){return gV(n)?t(...n):t(n)}function _m(t){return He(n=>vV(t,n))}var{isArray:_V}=Array,{getPrototypeOf:bV,prototype:yV,keys:wV}=Object;function bm(t){if(t.length===1){let n=t[0];if(_V(n))return{args:n,keys:null};if(CV(n)){let e=wV(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function CV(t){return t&&typeof t=="object"&&bV(t)===yV}function ym(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function pr(...t){let n=Uo(t),e=om(t),{args:i,keys:r}=bm(t);if(i.length===0)return _n([],n);let o=new Ye(xV(i,n,r?a=>ym(r,a):fr));return e?o.pipe(_m(e)):o}function xV(t,n,e=fr){return i=>{wk(n,()=>{let{length:r}=t,o=new Array(r),a=r,s=r;for(let l=0;l<r;l++)wk(n,()=>{let c=_n(t[l],n),u=!1;c.subscribe(rt(i,d=>{o[l]=d,u||(u=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function wk(t,n,e){t?Ui(e,t,n):n()}function Ck(t,n,e,i,r,o,a,s){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&n.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{o&&n.next(g),c++;let v=!1;Gt(e(g,u++)).subscribe(rt(n,_=>{r?.(_),o?f(_):n.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){let _=l.shift();a?Ui(n,a,()=>p(_)):p(_)}h()}catch(_){n.error(_)}}))};return t.subscribe(rt(n,f,()=>{d=!0,h()})),()=>{s?.()}}function di(t,n,e=1/0){return mt(n)?di((i,r)=>He((o,a)=>n(i,o,r,a))(Gt(t(i,r))),e):(typeof n=="number"&&(e=n),st((i,r)=>Ck(i,r,t,e)))}function wm(t=1/0){return di(fr,t)}function xk(){return wm(1)}function $o(...t){return xk()(_n(t,Uo(t)))}function mr(t){return new Ye(n=>{Gt(t()).subscribe(n)})}function ul(...t){let n=om(t),{args:e,keys:i}=bm(t),r=new Ye(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let u=0;u<a;u++){let d=!1;Gt(e[u]).subscribe(rt(o,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?ym(i,s):s),o.complete())}))}});return n?r.pipe(_m(n)):r}function ro(t=0,n,e=Vy){let i=-1;return n!=null&&(rm(n)?e=n:i=n),new Ye(r=>{let o=yk(t)?+t-e.now():t;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Hy(t=0,n=zi){return t<0&&(t=0),ro(t,t,n)}function It(...t){let n=Uo(t),e=lk(t,1/0),i=t;return i.length?i.length===1?Gt(i[0]):wm(e)(_n(i,n)):mn}var Ca=new Ye(ya);function Ze(t,n){return st((e,i)=>{let r=0;e.subscribe(rt(i,o=>t.call(n,o,r++)&&i.next(o)))})}function Dk(t){return st((n,e)=>{let i=!1,r=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};n.subscribe(rt(e,c=>{i=!0,r=c,o||Gt(t(c)).subscribe(o=rt(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}function hl(t,n=zi){return Dk(()=>ro(t,n))}function fl(t){return st((n,e)=>{let i=null,r=!1,o;i=n.subscribe(rt(e,void 0,void 0,a=>{o=Gt(t(a,fl(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function qc(t,n){return mt(n)?di(t,n,1):di(t,1)}function oo(t,n=zi){return st((e,i)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=a+t,u=n.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}s()}e.subscribe(rt(i,c=>{o=c,a=n.now(),r||(r=n.schedule(l,t),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function Ek(t){return st((n,e)=>{let i=!1;n.subscribe(rt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Ct(t){return t<=0?()=>mn:st((n,e)=>{let i=0;n.subscribe(rt(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Sk(){return st((t,n)=>{t.subscribe(rt(n,ya))})}function $c(t){return He(()=>t)}function zy(t,n){return n?e=>$o(n.pipe(Ct(1),Sk()),e.pipe(zy(t))):di((e,i)=>Gt(t(e,i)).pipe(Ct(1),$c(e)))}function Uy(t,n=zi){let e=ro(t,n);return zy(()=>e)}function Wc(t,n=fr){return t=t??DV,st((e,i)=>{let r,o=!0;e.subscribe(rt(i,a=>{let s=n(a);(o||!t(r,s))&&(o=!1,r=s,i.next(a))}))})}function DV(t,n){return t===n}function kk(t=EV){return st((n,e)=>{let i=!1;n.subscribe(rt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function EV(){return new dl}function ms(t){return st((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function xa(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Ze((r,o)=>t(r,o,i)):fr,Ct(1),e?Ek(n):kk(()=>new dl))}function Cm(t){return t<=0?()=>mn:st((n,e)=>{let i=[];n.subscribe(rt(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function rh(){return st((t,n)=>{let e,i=!1;t.subscribe(rt(n,r=>{let o=e;e=r,i&&n.next([o,r]),i=!0}))})}function oh(t={}){let{connector:n=()=>new $,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let a,s,l,c=0,u=!1,d=!1,h=()=>{s?.unsubscribe(),s=void 0},f=()=>{h(),a=l=void 0,u=d=!1},p=()=>{let g=a;f(),g?.unsubscribe()};return st((g,v)=>{c++,!d&&!u&&h();let _=l=l??n();v.add(()=>{c--,c===0&&!d&&!u&&(s=qy(p,r))}),_.subscribe(v),!a&&c>0&&(a=new wa({next:y=>_.next(y),error:y=>{d=!0,h(),s=qy(f,e,y),_.error(y)},complete:()=>{u=!0,h(),s=qy(f,i),_.complete()}}),Gt(g).subscribe(a))})(o)}}function qy(t,n,...e){if(n===!0){t();return}if(n===!1)return;let i=new wa({next:()=>{i.unsubscribe(),t()}});return Gt(n(...e)).subscribe(i)}function ah(t,n,e){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=t:i=t??1/0,oh({connector:()=>new An(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function sh(t){return Ze((n,e)=>t<=e)}function kt(...t){let n=Uo(t);return st((e,i)=>{(n?$o(t,e,n):$o(t,e)).subscribe(i)})}function en(t,n){return st((e,i)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&i.complete();e.subscribe(rt(i,l=>{r?.unsubscribe();let c=0,u=o++;Gt(t(l,u)).subscribe(r=rt(i,d=>i.next(n?n(l,d,u,c++):d),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function Qe(t){return st((n,e)=>{Gt(t).subscribe(rt(e,()=>e.complete(),ya)),!e.closed&&n.subscribe(e)})}function $y(t,n=!1){return st((e,i)=>{let r=0;e.subscribe(rt(i,o=>{let a=t(o,r++);(a||n)&&i.next(o),!a&&i.complete()}))})}function ri(t,n,e){let i=mt(t)||n||e?{next:t,error:n,complete:e}:t;return i?st((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let s=!0;r.subscribe(rt(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;s=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;s=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;s&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):fr}function Mk(t,n){return st((e,i)=>{let{leading:r=!0,trailing:o=!1}=n??{},a=!1,s=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,o&&(f(),c&&i.complete())},d=()=>{l=null,c&&i.complete()},h=p=>l=Gt(t(p)).subscribe(rt(i,u,d)),f=()=>{if(a){a=!1;let p=s;s=null,i.next(p),!c&&h(p)}};e.subscribe(rt(i,p=>{a=!0,s=p,!(l&&!l.closed)&&(r?f():h(p))},()=>{c=!0,!(o&&a&&l&&!l.closed)&&i.complete()}))})}function Wy(t,n=zi,e){let i=ro(t,n);return Mk(()=>i,e)}var Gy;function xm(){return Gy}function Wo(t){let n=Gy;return Gy=t,n}var Tk=Symbol("NotFound");function Gc(t){return t===Tk||t?.name==="\u0275NotFound"}var Im="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",se=class extends Error{code;constructor(n,e){super(Sa(n,e)),this.code=n}};function SV(t){return`NG0${Math.abs(t)}`}function Sa(t,n){return`${SV(t)}${n?": "+n:""}`}var Ri=globalThis;function tn(t){for(let n in t)if(t[n]===tn)return n;throw Error("")}function Nk(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ea(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ea).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function Am(t,n){return t?n?`${t} ${n}`:t:n||""}var kV=tn({__forward_ref__:tn});function Rn(t){return t.__forward_ref__=Rn,t.toString=function(){return Ea(this())},t}function Qn(t){return a1(t)?t():t}function a1(t){return typeof t=="function"&&t.hasOwnProperty(kV)&&t.__forward_ref__===Rn}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ce(t){return{providers:t.providers||[],imports:t.imports||[]}}function ph(t){return MV(t,Rm)}function s1(t){return ph(t)!==null}function MV(t,n){return t.hasOwnProperty(n)&&t[n]||null}function TV(t){let n=t?.[Rm]??null;return n||null}function Qy(t){return t&&t.hasOwnProperty(Em)?t[Em]:null}var Rm=tn({\u0275prov:tn}),Em=tn({\u0275inj:tn}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function l1(t){return t&&!!t.\u0275providers}var c1=tn({\u0275cmp:tn}),d1=tn({\u0275dir:tn}),u1=tn({\u0275pipe:tn}),h1=tn({\u0275mod:tn}),ch=tn({\u0275fac:tn}),bl=tn({__NG_ELEMENT_ID__:tn}),Ik=tn({__NG_ENV_ID__:tn});function f1(t){return Nm(t,"@NgModule"),t[h1]||null}function ka(t){return Nm(t,"@Component"),t[c1]||null}function Om(t){return Nm(t,"@Directive"),t[d1]||null}function Fk(t){return Nm(t,"@Pipe"),t[u1]||null}function Nm(t,n){if(t==null)throw new se(-919,!1)}function yl(t){return typeof t=="string"?t:t==null?"":String(t)}var Pk=tn({ngErrorCode:tn}),IV=tn({ngErrorMessage:tn}),AV=tn({ngTokenPath:tn});function p1(t,n){return Lk("",-200,n)}function Fm(t,n){throw new se(-201,!1)}function Lk(t,n,e){let i=new se(n,t);return i[Pk]=n,i[IV]=t,e&&(i[AV]=e),i}function RV(t){return t[Pk]}var Ky;function Bk(){return Ky}function gr(t){let n=Ky;return Ky=t,n}function m1(t,n,e){let i=ph(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(n!==void 0)return n;Fm(t,"")}var OV={},pl=OV,NV="__NG_DI_FLAG__",Xy=class{injector;constructor(n){this.injector=n}retrieve(n,e){let i=ml(e)||0;try{return this.injector.get(n,i&8?null:pl,i)}catch(r){if(Gc(r))return r;throw r}}};function FV(t,n=0){let e=xm();if(e===void 0)throw new se(-203,!1);if(e===null)return m1(t,void 0,n);{let i=PV(n),r=e.retrieve(t,i);if(Gc(r)){if(i.optional)return null;throw r}return r}}function Pe(t,n=0){return(Bk()||FV)(Qn(t),n)}function m(t,n){return Pe(t,ml(n))}function ml(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function PV(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Zy(t){let n=[];for(let e=0;e<t.length;e++){let i=Qn(t[e]);if(Array.isArray(i)){if(i.length===0)throw new se(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let s=i[a],l=LV(s);typeof l=="number"?l===-1?r=s.token:o|=l:r=s}n.push(Pe(r,o))}else n.push(Pe(i))}return n}function LV(t){return t[NV]}function gl(t,n){let e=t.hasOwnProperty(ch);return e?t[ch]:null}function Vk(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function jk(t){return t.flat(Number.POSITIVE_INFINITY)}function Pm(t,n){t.forEach(e=>Array.isArray(e)?Pm(e,n):n(e))}function g1(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function mh(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Hk(t,n){let e=[];for(let i=0;i<t;i++)e.push(n);return e}function zk(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function Lm(t,n,e){let i=Qc(t,n);return i>=0?t[i|1]=e:(i=~i,zk(t,i,n,e)),i}function Bm(t,n){let e=Qc(t,n);if(e>=0)return t[e|1]}function Qc(t,n){return BV(t,n,1)}function BV(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<e];if(n===a)return o<<e;a>n?r=o:i=o+1}return~(r<<e)}var so={},Ci=[],Ma=new L(""),v1=new L("",-1),_1=new L(""),dh=class{get(n,e=pl){if(e===pl){let r=Lk("",-201);throw r.name="\u0275NotFound",r}return e}};function lo(t){return{\u0275providers:t}}function Vm(...t){return{\u0275providers:b1(!0,t),\u0275fromNgModule:!0}}function b1(t,...n){let e=[],i=new Set,r,o=a=>{e.push(a)};return Pm(n,a=>{let s=a;Sm(s,o,[],i)&&(r||=[],r.push(s))}),r!==void 0&&Uk(r,o),e}function Uk(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];y1(r,o=>{n(o,i)})}}function Sm(t,n,e,i){if(t=Qn(t),!t)return!1;let r=null,o=Qy(t),a=!o&&ka(t);if(!o&&!a){let l=t.ngModule;if(o=Qy(l),o)r=l;else return!1}else{if(a&&!a.standalone)return!1;r=t}let s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)Sm(c,n,e,i)}}else if(o){if(o.imports!=null&&!s){i.add(r);let c;Pm(o.imports,u=>{Sm(u,n,e,i)&&(c||=[],c.push(u))}),c!==void 0&&Uk(c,n)}if(!s){let c=gl(r)||(()=>new r);n({provide:r,useFactory:c,deps:Ci},r),n({provide:_1,useValue:r,multi:!0},r),n({provide:Ma,useValue:()=>Pe(r),multi:!0},r)}let l=o.providers;if(l!=null&&!s){let c=t;y1(l,u=>{n(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function y1(t,n){for(let e of t)l1(e)&&(e=e.\u0275providers),Array.isArray(e)?y1(e,n):n(e)}var VV=tn({provide:String,useValue:tn});function qk(t){return t!==null&&typeof t=="object"&&VV in t}function jV(t){return!!(t&&t.useExisting)}function HV(t){return!!(t&&t.useFactory)}function vl(t){return typeof t=="function"}function $k(t){return!!t.useClass}var gh=new L(""),Dm={},Ak={},Yy;function Kc(){return Yy===void 0&&(Yy=new dh),Yy}var Yt=class{},_l=class extends Yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,e1(n,a=>this.processProvider(a)),this.records.set(v1,Yc(void 0,this)),r.has("environment")&&this.records.set(Yt,Yc(void 0,this));let o=this.records.get(gh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_1,Ci,{self:!0}))}retrieve(n,e){let i=ml(e)||0;try{return this.get(n,pl,i)}catch(r){if(Gc(r))return r;throw r}}destroy(){lh(this),this._destroyed=!0;let n=it(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),it(n)}}onDestroy(n){return lh(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){lh(this);let e=Wo(this),i=gr(void 0),r;try{return n()}finally{Wo(e),gr(i)}}get(n,e=pl,i){if(lh(this),n.hasOwnProperty(Ik))return n[Ik](this);let r=ml(i),o,a=Wo(this),s=gr(void 0);try{if(!(r&4)){let c=this.records.get(n);if(c===void 0){let u=WV(n)&&ph(n);u&&this.injectableDefInScope(u)?c=Yc(Jy(n),Dm):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,r)}let l=r&2?Kc():this.parent;return e=r&8&&e===pl?null:e,l.get(n,e)}catch(l){let c=RV(l);throw c===-200||c===-201?new se(c,null):l}finally{gr(s),Wo(a)}}resolveInjectorInitializers(){let n=it(null),e=Wo(this),i=gr(void 0),r;try{let o=this.get(Ma,Ci,{self:!0});for(let a of o)a()}finally{Wo(e),gr(i),it(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(Ea(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Qn(n);let e=vl(n)?n:Qn(n&&n.provide),i=UV(n);if(!vl(n)&&n.multi===!0){let r=this.records.get(e);r||(r=Yc(void 0,Dm,!0),r.factory=()=>Zy(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e,i){let r=it(null);try{if(e.value===Ak)throw p1(Ea(n));return e.value===Dm&&(e.value=Ak,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&$V(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{it(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Qn(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Jy(t){let n=ph(t),e=n!==null?n.factory:gl(t);if(e!==null)return e;if(t instanceof L)throw new se(204,!1);if(t instanceof Function)return zV(t);throw new se(204,!1)}function zV(t){if(t.length>0)throw new se(204,!1);let e=TV(t);return e!==null?()=>e.factory(t):()=>new t}function UV(t){if(qk(t))return Yc(void 0,t.useValue);{let n=w1(t);return Yc(n,Dm)}}function w1(t,n,e){let i;if(vl(t)){let r=Qn(t);return gl(r)||Jy(r)}else if(qk(t))i=()=>Qn(t.useValue);else if(HV(t))i=()=>t.useFactory(...Zy(t.deps||[]));else if(jV(t))i=(r,o)=>Pe(Qn(t.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Qn(t&&(t.useClass||t.provide));if(qV(t))i=()=>new r(...Zy(t.deps));else return gl(r)||Jy(r)}return i}function lh(t){if(t.destroyed)throw new se(205,!1)}function Yc(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function qV(t){return!!t.deps}function $V(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function WV(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function e1(t,n){for(let e of t)Array.isArray(e)?e1(e,n):e&&l1(e)?e1(e.\u0275providers,n):n(e)}function oi(t,n){let e;t instanceof _l?(lh(t),e=t):e=new Xy(t);let i,r=Wo(e),o=gr(void 0);try{return n()}finally{Wo(r),gr(o)}}function C1(){return Bk()!==void 0||xm()!=null}var co=0,et=1,ct=2,Kn=3,Fr=4,Oi=5,wl=6,Xc=7,On=8,Ta=9,Go=10,dn=11,Zc=12,x1=13,Cl=14,Ni=15,_s=16,xl=17,Yo=18,Ia=19,D1=20,Da=21,jm=22,gs=23,vr=24,Dl=25,El=26,bn=27,Wk=1,E1=6,bs=7,vh=8,Sl=9,yn=10;function Qo(t){return Array.isArray(t)&&typeof t[Wk]=="object"}function uo(t){return Array.isArray(t)&&t[Wk]===!0}function S1(t){return(t.flags&4)!==0}function ys(t){return t.componentOffset>-1}function Jc(t){return(t.flags&1)===1}function ho(t){return!!t.template}function ed(t){return(t[ct]&512)!==0}function kl(t){return(t[ct]&256)===256}var k1="svg",Gk="math";function Pr(t){for(;Array.isArray(t);)t=t[co];return t}function M1(t,n){return Pr(n[t])}function fo(t,n){return Pr(n[t.index])}function _h(t,n){return t.data[n]}function Yk(t,n){return t[n]}function Lr(t,n){let e=n[t];return Qo(e)?e:e[co]}function Qk(t){return(t[ct]&4)===4}function Hm(t){return(t[ct]&128)===128}function Kk(t){return uo(t[Kn])}function _r(t,n){return n==null?null:t[n]}function T1(t){t[xl]=0}function I1(t){t[ct]&1024||(t[ct]|=1024,Hm(t)&&Ml(t))}function Xk(t,n){for(;t>0;)n=n[Cl],t--;return n}function bh(t){return!!(t[ct]&9216||t[vr]?.dirty)}function zm(t){t[Go].changeDetectionScheduler?.notify(8),t[ct]&64&&(t[ct]|=1024),bh(t)&&Ml(t)}function Ml(t){t[Go].changeDetectionScheduler?.notify(0);let n=vs(t);for(;n!==null&&!(n[ct]&8192||(n[ct]|=8192,!Hm(n)));)n=vs(n)}function A1(t,n){if(kl(t))throw new se(911,!1);t[Da]===null&&(t[Da]=[]),t[Da].push(n)}function Zk(t,n){if(t[Da]===null)return;let e=t[Da].indexOf(n);e!==-1&&t[Da].splice(e,1)}function vs(t){let n=t[Kn];return uo(n)?n[Kn]:n}function R1(t){return t[Xc]??=[]}function O1(t){return t.cleanup??=[]}function Jk(t,n,e,i){let r=R1(n);r.push(e),t.firstCreatePass&&O1(t).push(i,r.length-1)}var bt={lFrame:uM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var t1=!1;function eM(){return bt.lFrame.elementDepthCount}function tM(){bt.lFrame.elementDepthCount++}function N1(){bt.lFrame.elementDepthCount--}function Um(){return bt.bindingsEnabled}function F1(){return bt.skipHydrationRootTNode!==null}function P1(t){return bt.skipHydrationRootTNode===t}function L1(){bt.skipHydrationRootTNode=null}function ot(){return bt.lFrame.lView}function hn(){return bt.lFrame.tView}function ge(t){return bt.lFrame.contextLView=t,t[On]}function ve(t){return bt.lFrame.contextLView=null,t}function zn(){let t=B1();for(;t!==null&&t.type===64;)t=t.parent;return t}function B1(){return bt.lFrame.currentTNode}function nM(){let t=bt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function td(t,n){let e=bt.lFrame;e.currentTNode=t,e.isParent=n}function V1(){return bt.lFrame.isParent}function j1(){bt.lFrame.isParent=!1}function iM(){return bt.lFrame.contextLView}function H1(){return t1}function uh(t){let n=t1;return t1=t,n}function rM(){return bt.lFrame.bindingIndex}function oM(t){return bt.lFrame.bindingIndex=t}function Aa(){return bt.lFrame.bindingIndex++}function qm(t){let n=bt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function aM(){return bt.lFrame.inI18n}function sM(t,n){let e=bt.lFrame;e.bindingIndex=e.bindingRootIndex=t,$m(n)}function lM(){return bt.lFrame.currentDirectiveIndex}function $m(t){bt.lFrame.currentDirectiveIndex=t}function cM(t){let n=bt.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Wm(){return bt.lFrame.currentQueryIndex}function yh(t){bt.lFrame.currentQueryIndex=t}function GV(t){let n=t[et];return n.type===2?n.declTNode:n.type===1?t[Oi]:null}function z1(t,n,e){if(e&4){let r=n,o=t;for(;r=r.parent,r===null&&!(e&1);)if(r=GV(o),r===null||(o=o[Cl],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=bt.lFrame=dM();return i.currentTNode=n,i.lView=t,!0}function Gm(t){let n=dM(),e=t[et];bt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function dM(){let t=bt.lFrame,n=t===null?null:t.child;return n===null?uM(t):n}function uM(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function hM(){let t=bt.lFrame;return bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var U1=hM;function Ym(){let t=hM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fM(t){return(bt.lFrame.contextLView=Xk(t,bt.lFrame.contextLView))[On]}function Ko(){return bt.lFrame.selectedIndex}function ws(t){bt.lFrame.selectedIndex=t}function wh(){let t=bt.lFrame;return _h(t.tView,t.selectedIndex)}function ui(){bt.lFrame.currentNamespace=k1}function nd(){YV()}function YV(){bt.lFrame.currentNamespace=null}function pM(){return bt.lFrame.currentNamespace}var mM=!0;function Qm(){return mM}function Ch(t){mM=t}function n1(t,n=null,e=null,i){let r=q1(t,n,e,i);return r.resolveInjectorInitializers(),r}function q1(t,n=null,e=null,i,r=new Set){let o=[e||Ci,Vm(t)];return i=i||(typeof t=="object"?void 0:Ea(t)),new _l(o,n||Kc(),i||null,r)}var Ie=class t{static THROW_IF_NOT_FOUND=pl;static NULL=new dh;static create(n,e){if(Array.isArray(n))return n1({name:""},e,n,"");{let i=n.name??"";return n1({name:i},n.parent,n.providers,i)}}static \u0275prov=z({token:t,providedIn:"any",factory:()=>Pe(v1)});static __NG_ELEMENT_ID__=-1},Re=new L(""),Fi=(()=>{class t{static __NG_ELEMENT_ID__=QV;static __NG_ENV_ID__=e=>e}return t})(),km=class extends Fi{_lView;constructor(n){super(),this._lView=n}get destroyed(){return kl(this._lView)}onDestroy(n){let e=this._lView;return A1(e,n),()=>Zk(e,n)}};function QV(){return new km(ot())}var $1=!1,gM=new L(""),Xo=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Wt(!1);debugTaskTracker=m(gM,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ye(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),this.debugTaskTracker?.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.debugTaskTracker?.remove(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),i1=class extends ${__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,C1()&&(this.destroyRef=m(Fi,{optional:!0})??void 0,this.pendingTasks=m(Xo,{optional:!0})??void 0)}emit(n){let e=it(null);try{super.next(n)}finally{it(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),a=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:r,error:o,complete:a});return n instanceof je&&n.add(s),s}wrapInTimeout(n){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ae=i1;function Mm(...t){}function W1(t){let n,e;function i(){t=Mm;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch(r){}}return n=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function vM(t){return queueMicrotask(()=>t()),()=>{t=Mm}}var G1="isAngularZone",hh=G1+"_ID",KV=0,he=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ae(!1);onMicrotaskEmpty=new ae(!1);onStable=new ae(!1);onError=new ae(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=$1}=n;if(typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,JV(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(G1)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new se(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,n,XV,Mm,Mm);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},XV={};function Y1(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ZV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){W1(()=>{t.callbackScheduled=!1,r1(t),t.isCheckStableRunning=!0,Y1(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),r1(t)}function JV(t){let n=()=>{ZV(t)},e=KV++;t._inner=t._inner.fork({name:"angular",properties:{[G1]:!0,[hh]:e,[hh+e]:!0},onInvokeTask:(i,r,o,a,s,l)=>{if(ej(l))return i.invokeTask(o,a,s,l);try{return Rk(t),i.invokeTask(o,a,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Ok(t)}},onInvoke:(i,r,o,a,s,l,c)=>{try{return Rk(t),i.invoke(o,a,s,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!tj(l)&&n(),Ok(t)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,r1(t),Y1(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function r1(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ok(t){t._nesting--,Y1(t)}var fh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ae;onMicrotaskEmpty=new ae;onStable=new ae;onError=new ae;run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}};function ej(t){return _M(t,"__ignore_ng_zone__")}function tj(t){return _M(t,"__scheduler_tick__")}function _M(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var qi=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Br=new L("",{factory:()=>{let t=m(he),n=m(Yt),e;return i=>{t.runOutsideAngular(()=>{n.destroyed&&!e?setTimeout(()=>{throw i}):(e??=n.get(qi),e.handleError(i))})}}}),bM={provide:Ma,useValue:()=>{let t=m(qi,{optional:!0})},multi:!0};function ze(t,n){let[e,i,r]=Dy(t,n?.equal),o=e,a=o[ii];return o.set=i,o.update=r,o.asReadonly=yM.bind(o),o}function yM(){let t=this[ii];if(t.readonlyFn===void 0){let n=()=>this();n[ii]=t,t.readonlyFn=n}return t.readonlyFn}var id=(()=>{class t{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=nj}return t})();function nj(){return new id(ot(),zn())}var ao=class{},rd=new L("",{factory:()=>!0});var Km=new L(""),xh=(()=>{class t{internalPendingTasks=m(Xo);scheduler=m(ao);errorHandler=m(Br);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xm=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>new o1})}return t})(),o1=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let e=n.zone,i=this.queues.get(e);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[e,i]of this.queues)e===null?n||=this.flushQueue(i):n||=e.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(let i of n)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}},Tm=class{[ii];constructor(n){this[ii]=n}destroy(){this[ii].destroy()}};function Ra(t,n){let e=n?.injector??m(Ie),i=n?.manualCleanup!==!0?e.get(Fi):null,r,o=e.get(id,null,{optional:!0}),a=e.get(ao);return o!==null?(r=oj(o.view,a,t),i instanceof km&&i._lView===o.view&&(i=null)):r=aj(t,e.get(Xm),a),r.injector=e,i!==null&&(r.onDestroyFns=[i.onDestroy(()=>r.destroy())]),new Tm(r)}var wM=nt(G({},Sy),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=uh(!1);try{ky(this)}finally{uh(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=it(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],it(t)}}}),ij=nt(G({},wM),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(hs(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),rj=nt(G({},wM),{consumerMarkedDirty(){this.view[ct]|=8192,Ml(this.view),this.notifier.notify(13)},destroy(){if(hs(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[gs]?.delete(this)}});function oj(t,n,e){let i=Object.create(rj);return i.view=t,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=n,i.fn=CM(i,e),t[gs]??=new Set,t[gs].add(i),i.consumerMarkedDirty(i),i}function aj(t,n,e){let i=Object.create(ij);return i.fn=CM(i,t),i.scheduler=n,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function CM(t,n){return()=>{n(e=>(t.cleanupFns??=[]).push(e))}}function Nn(t){return Ey(t)}function Rh(t){return{toString:t}.toString()}function fj(t){return typeof t=="function"}function iT(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}var s0=class{previousValue;currentValue;firstChange;constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}},lt=(()=>{let t=()=>rT;return t.ngInherit=!0,t})();function rT(t){return t.type.prototype.ngOnChanges&&(t.setInput=mj),pj}function pj(){let t=aT(this),n=t?.current;if(n){let e=t.previous;if(e===so)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function mj(t,n,e,i,r){let o=this.declaredInputs[i],a=aT(t)||gj(t,{previous:so,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new s0(c&&c.currentValue,e,l===so),iT(t,n,r,e)}var oT="__ngSimpleChanges__";function aT(t){return t[oT]||null}function gj(t,n){return t[oT]=n}var xM=[];var nn=function(t,n=null,e){for(let i=0;i<xM.length;i++){let r=xM[i];r(t,n,e)}},Pt=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(Pt||{});function vj(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let a=rT(n);(e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function sT(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(t.contentHooks??=[]).push(-e,a),s&&((t.contentHooks??=[]).push(e,s),(t.contentCheckHooks??=[]).push(e,s)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function n0(t,n,e){lT(t,n,3,e)}function i0(t,n,e,i){(t[ct]&3)===e&&lT(t,n,e,i)}function Q1(t,n){let e=t[ct];(e&3)===n&&(e&=16383,e+=1,t[ct]=e)}function lT(t,n,e,i){let r=i!==void 0?t[xl]&65535:0,o=i??-1,a=n.length-1,s=0;for(let l=r;l<a;l++)if(typeof n[l+1]=="number"){if(s=n[l],i!=null&&s>=i)break}else n[l]<0&&(t[xl]+=65536),(s<o||o==-1)&&(_j(t,e,n,l),t[xl]=(t[xl]&4294901760)+l+2),l++}function DM(t,n){nn(Pt.LifecycleHookStart,t,n);let e=it(null);try{n.call(t)}finally{it(e),nn(Pt.LifecycleHookEnd,t,n)}}function _j(t,n,e,i){let r=e[i]<0,o=e[i+1],a=r?-e[i]:e[i],s=t[a];r?t[ct]>>14<t[xl]>>16&&(t[ct]&3)===n&&(t[ct]+=16384,DM(s,o)):DM(s,o)}var ad=-1,Il=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,i,r){this.factory=n,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function bj(t){return(t.flags&8)!==0}function yj(t){return(t.flags&16)!==0}function wj(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],a=e[i++],s=e[i++];t.setAttribute(n,a,s,o)}else{let o=r,a=e[++i];Cj(o)?t.setProperty(n,o,a):t.setAttribute(n,o,a),i++}}return i}function cT(t){return t===3||t===4||t===6}function Cj(t){return t.charCodeAt(0)===64}function sd(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?EM(t,e,r,null,n[++i]):EM(t,e,r,null,null))}}return t}function EM(t,n,e,i,r){let o=0,a=t.length;if(n===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===n){a=-1;break}else if(s>n){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===e){r!==null&&(t[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(t.splice(a,0,n),o=a+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r)}function dT(t){return t!==ad}function l0(t){return t&32767}function xj(t){return t>>16}function c0(t,n){let e=xj(t),i=n;for(;e>0;)i=i[Cl],e--;return i}var ow=!0;function SM(t){let n=ow;return ow=t,n}var Dj=256,uT=Dj-1,hT=5,Ej=0,Zo={};function Sj(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(bl)&&(i=e[bl]),i==null&&(i=e[bl]=Ej++);let r=i&uT,o=1<<r;n.data[t+(r>>hT)]|=o}function d0(t,n){let e=fT(t,n);if(e!==-1)return e;let i=n[et];i.firstCreatePass&&(t.injectorIndex=n.length,K1(i.data,t),K1(n,null),K1(i.blueprint,null));let r=jw(t,n),o=t.injectorIndex;if(dT(r)){let a=l0(r),s=c0(r,n),l=s[et].data;for(let c=0;c<8;c++)n[o+c]=s[a+c]|l[a+c]}return n[o+8]=r,o}function K1(t,n){t.push(0,0,0,0,0,0,0,0,n)}function fT(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function jw(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=_T(r),i===null)return ad;if(e++,r=r[Cl],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return ad}function aw(t,n,e){Sj(t,n,e)}function kj(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(cT(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===n)return e[r+1];r=r+2}}}return null}function pT(t,n,e){if(e&8||t!==void 0)return t;Fm(n,"NodeInjector")}function mT(t,n,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=t[Ta],o=gr(void 0);try{return r?r.get(n,i,e&8):m1(n,i,e&8)}finally{gr(o)}}return pT(i,n,e)}function gT(t,n,e,i=0,r){if(t!==null){if(n[ct]&2048&&!(i&2)){let a=Aj(t,n,e,i,Zo);if(a!==Zo)return a}let o=vT(t,n,e,i,Zo);if(o!==Zo)return o}return mT(n,e,i,r)}function vT(t,n,e,i,r){let o=Tj(e);if(typeof o=="function"){if(!z1(n,t,i))return i&1?pT(r,e,i):mT(n,e,i,r);try{let a;if(a=o(i),a==null&&!(i&8))Fm(e);else return a}finally{U1()}}else if(typeof o=="number"){let a=null,s=fT(t,n),l=ad,c=i&1?n[Ni][Oi]:null;for((s===-1||i&4)&&(l=s===-1?jw(t,n):n[s+8],l===ad||!MM(i,!1)?s=-1:(a=n[et],s=l0(l),n=c0(l,n)));s!==-1;){let u=n[et];if(kM(o,s,u.data)){let d=Mj(s,n,e,a,i,c);if(d!==Zo)return d}l=n[s+8],l!==ad&&MM(i,n[et].data[s+8]===c)&&kM(o,s,n)?(a=u,s=l0(l),n=c0(l,n)):s=-1}}return r}function Mj(t,n,e,i,r,o){let a=n[et],s=a.data[t+8],l=i==null?ys(s)&&ow:i!=a&&(s.type&3)!==0,c=r&1&&o===s,u=r0(s,a,e,l,c);return u!==null?Sh(n,a,u,s,r):Zo}function r0(t,n,e,i,r){let o=t.providerIndexes,a=n.data,s=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=i?s:s+u,h=r?s+u:c;for(let f=d;f<h;f++){let p=a[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){let f=a[l];if(f&&ho(f)&&f.type===e)return l}return null}function Sh(t,n,e,i,r){let o=t[e],a=n.data;if(o instanceof Il){let s=o;if(s.resolving)throw p1("");let l=SM(s.canSeeViewProviders);s.resolving=!0;let c=a[e].type||a[e],u,d=s.injectImpl?gr(s.injectImpl):null,h=z1(t,i,0);try{o=t[e]=s.factory(void 0,r,a,t,i),n.firstCreatePass&&e>=i.directiveStart&&vj(e,a[e],n)}finally{d!==null&&gr(d),SM(l),s.resolving=!1,U1()}}return o}function Tj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(bl)?t[bl]:void 0;return typeof n=="number"?n>=0?n&uT:Ij:n}function kM(t,n,e){let i=1<<t;return!!(e[n+(t>>hT)]&i)}function MM(t,n){return!(t&2)&&!(t&1&&n)}var Tl=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return gT(this._tNode,this._lView,n,ml(i),e)}};function Ij(){return new Tl(zn(),ot())}function yt(t){return Rh(()=>{let n=t.prototype.constructor,e=n[ch]||sw(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[ch]||sw(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function sw(t){return a1(t)?()=>{let n=sw(Qn(t));return n&&n()}:gl(t)}function Aj(t,n,e,i,r){let o=t,a=n;for(;o!==null&&a!==null&&a[ct]&2048&&!ed(a);){let s=vT(o,a,e,i|2,Zo);if(s!==Zo)return s;let l=o.parent;if(!l){let c=a[D1];if(c){let u=c.get(e,Zo,i);if(u!==Zo)return u}l=_T(a),a=a[Cl]}o=l}return r}function _T(t){let n=t[et],e=n.type;return e===2?n.declTNode:e===1?t[Oi]:null}function Oh(t){return kj(zn(),t)}function Rj(){return hd(zn(),ot())}function hd(t,n){return new ue(fo(t,n))}var ue=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Rj}return t})();function bT(t){return t instanceof ue?t.nativeElement:t}function Oj(){return this._results[Symbol.iterator]()}var $i=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=jk(n);(this._changesDetected=!Vk(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Oj};function yT(t){return(t.flags&128)===128}var Hw=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Hw||{}),wT=new Map,Nj=0;function Fj(){return Nj++}function Pj(t){wT.set(t[Ia],t)}function lw(t){wT.delete(t[Ia])}var TM="__ngContext__";function ld(t,n){Qo(n)?(t[TM]=n[Ia],Pj(n)):t[TM]=n}function CT(t){return DT(t[Zc])}function xT(t){return DT(t[Fr])}function DT(t){for(;t!==null&&!uo(t);)t=t[Fr];return t}var Lj;function zw(t){Lj=t}var xs=new L("",{factory:()=>Bj}),Bj="ng";var x0=new L(""),Nl=new L("",{providedIn:"platform",factory:()=>"unknown"}),Ds=new L(""),fd=new L("",{factory:()=>m(Re).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ET="r";var ST="di";var kT=!1,MT=new L("",{factory:()=>kT});var Vj=(t,n,e,i)=>{};function jj(t,n,e,i){Vj(t,n,e,i)}function D0(t){return(t.flags&32)===32}var Hj=()=>null;function TT(t,n,e=!1){return Hj(t,n,e)}function IT(t,n){let e=t.contentQueries;if(e!==null){let i=it(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=t.data[a];yh(o),s.contentQueries(2,n[a],a)}}}finally{it(i)}}}function cw(t,n,e){yh(0);let i=it(null);try{n(t,e)}finally{it(i)}}function Uw(t,n,e){if(S1(n)){let i=it(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let a=r;a<o;a++){let s=t.data[a];if(s.contentQueries){let l=e[a];s.contentQueries(1,l,a)}}}finally{it(i)}}}var go=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(go||{});var Zm;function zj(){if(Zm===void 0&&(Zm=null,Ri.trustedTypes))try{Zm=Ri.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Zm}function E0(t){return zj()?.createHTML(t)||t}var Jm;function Uj(){if(Jm===void 0&&(Jm=null,Ri.trustedTypes))try{Jm=Ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Jm}function IM(t){return Uj()?.createScriptURL(t)||t}var Oa=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Im})`}},dw=class extends Oa{getTypeName(){return"HTML"}},uw=class extends Oa{getTypeName(){return"Style"}},hw=class extends Oa{getTypeName(){return"Script"}},fw=class extends Oa{getTypeName(){return"URL"}},pw=class extends Oa{getTypeName(){return"ResourceURL"}};function vo(t){return t instanceof Oa?t.changingThisBreaksApplicationSecurity:t}function Pa(t,n){let e=AT(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Im})`)}return e===n}function AT(t){return t instanceof Oa&&t.getTypeName()||null}function qw(t){return new dw(t)}function $w(t){return new uw(t)}function Ww(t){return new hw(t)}function Gw(t){return new fw(t)}function Yw(t){return new pw(t)}function qj(t){let n=new gw(t);return $j()?new mw(n):n}var mw=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(E0(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch(e){return null}}},gw=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=E0(n),e}};function $j(){try{return!!new window.DOMParser().parseFromString(E0(""),"text/html")}catch(t){return!1}}var Wj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nh(t){return t=String(t),t.match(Wj)?t:"unsafe:"+t}function La(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Fh(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var RT=La("area,br,col,hr,img,wbr"),OT=La("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),NT=La("rp,rt"),Gj=Fh(NT,OT),Yj=Fh(OT,La("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qj=Fh(NT,La("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),AM=Fh(RT,Yj,Qj,Gj),FT=La("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kj=La("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xj=La("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Zj=Fh(FT,Kj,Xj),Jj=La("script,style,template"),vw=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=nH(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=tH(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=RM(n).toLowerCase();if(!AM.hasOwnProperty(e))return this.sanitizedSomething=!0,!Jj.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,s=a.toLowerCase();if(!Zj.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;FT[s]&&(l=Nh(l)),this.buf.push(" ",a,'="',OM(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=RM(n).toLowerCase();AM.hasOwnProperty(e)&&!RT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(OM(n))}};function eH(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function tH(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw PT(n);return n}function nH(t){let n=t.firstChild;if(n&&eH(t,n))throw PT(n);return n}function RM(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function PT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var iH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rH=/([^\#-~ |!])/g;function OM(t){return t.replace(/&/g,"&amp;").replace(iH,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(rH,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var e0;function Qw(t,n){let e=null;try{e0=e0||qj(t);let i=n?String(n):"";e=e0.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=e0.getInertBodyElement(i)}while(i!==o);let s=new vw().sanitizeChildren(NM(e)||e);return E0(s)}finally{if(e){let i=NM(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function NM(t){return"content"in t&&oH(t)?t.content:null}function oH(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var aH=/^>|^->|<!--|-->|--!>|<!-$/g,sH=/(<|>)/g,lH="\u200B$1\u200B";function cH(t){return t.replace(aH,n=>n.replace(sH,lH))}function dH(t,n){return t.createText(n)}function uH(t,n,e){t.setValue(n,e)}function hH(t,n){return t.createComment(cH(n))}function LT(t,n,e){return t.createElement(n,e)}function u0(t,n,e,i,r){t.insertBefore(n,e,i,r)}function BT(t,n,e){t.appendChild(n,e)}function FM(t,n,e,i,r){i!==null?u0(t,n,e,i,r):BT(t,n,e)}function VT(t,n,e,i){t.removeChild(null,n,e,i)}function fH(t,n,e){t.setAttribute(n,"style",e)}function pH(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function jT(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&wj(t,n,i),r!==null&&pH(t,n,r),o!==null&&fH(t,n,o)}var Xn=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Xn||{});function S0(t){let n=zT();return n?n.sanitize(Xn.URL,t)||"":Pa(t,"URL")?vo(t):Nh(yl(t))}function HT(t){let n=zT();if(n)return IM(n.sanitize(Xn.RESOURCE_URL,t)||"");if(Pa(t,"ResourceURL"))return IM(vo(t));throw new se(904,!1)}var mH=new Set(["embed","frame","iframe","media","script"]),gH=new Set(["base","link","script"]);function vH(t,n){return n==="src"&&mH.has(t)||n==="href"&&gH.has(t)||n==="xlink:href"&&t==="script"?HT:S0}function Kw(t,n,e){return vH(n,e)(t)}function zT(){let t=ot();return t&&t[Go].sanitizer}function UT(t){return t instanceof Function?t():t}function _H(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}var qT="ng-template";function bH(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&_H(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(Xw(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Xw(t){return t.type===4&&t.value!==qT}function yH(t,n,e){let i=t.type===4&&!e?qT:t.value;return n===i}function wH(t,n,e){let i=4,r=t.attrs,o=r!==null?DH(r):0,a=!1;for(let s=0;s<n.length;s++){let l=n[s];if(typeof l=="number"){if(!a&&!po(i)&&!po(l))return!1;if(a&&po(l))continue;a=!1,i=l|i&1;continue}if(!a)if(i&4){if(i=2|i&1,l!==""&&!yH(t,l,e)||l===""&&n.length===1){if(po(i))return!1;a=!0}}else if(i&8){if(r===null||!bH(t,r,l,e)){if(po(i))return!1;a=!0}}else{let c=n[++s],u=CH(l,r,Xw(t),e);if(u===-1){if(po(i))return!1;a=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(po(i))return!1;a=!0}}}}return po(i)||a}function po(t){return(t&1)===0}function CH(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let a=n[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=n[++r];for(;typeof s=="string";)s=n[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return EH(n,t)}function $T(t,n,e=!1){for(let i=0;i<n.length;i++)if(wH(t,n[i],e))return!0;return!1}function xH(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if((e&1)===0)return n[e+1]}return null}function DH(t){for(let n=0;n<t.length;n++){let e=t[n];if(cT(e))return n}return t.length}function EH(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function SH(t,n){e:for(let e=0;e<n.length;e++){let i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function PM(t,n){return t?":not("+n.trim()+")":n}function kH(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let a=t[e];if(typeof a=="string")if(i&2){let s=t[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!po(a)&&(n+=PM(o,r),r=""),i=a,o=o||!po(i);e++}return r!==""&&(n+=PM(o,r)),n}function MH(t){return t.map(kH).join(",")}function TH(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!po(r))break;r=o}i++}return e.length&&n.push(1,...e),n}var Wi={};function Zw(t,n,e,i,r,o,a,s,l,c,u){let d=bn+i,h=d+r,f=IH(d,h),p=typeof c=="function"?c():c;return f[et]={type:t,blueprint:f,template:e,queries:null,viewQuery:s,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function IH(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:Wi);return e}function AH(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Zw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Jw(t,n,e,i,r,o,a,s,l,c,u){let d=n.blueprint.slice();return d[co]=r,d[ct]=i|4|128|8|64|1024,(c!==null||t&&t[ct]&2048)&&(d[ct]|=2048),T1(d),d[Kn]=d[Cl]=t,d[On]=e,d[Go]=a||t&&t[Go],d[dn]=s||t&&t[dn],d[Ta]=l||t&&t[Ta]||null,d[Oi]=o,d[Ia]=Fj(),d[wl]=u,d[D1]=c,d[Ni]=n.type==2?t[Ni]:d,d}function RH(t,n,e){let i=fo(n,t),r=AH(e),o=t[Go].rendererFactory,a=eC(t,Jw(t,r,null,WT(e),i,n,null,o.createRenderer(i,e),null,null,null));return t[n.index]=a}function WT(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function GT(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function eC(t,n){return t[Zc]?t[x1][Fr]=n:t[Zc]=n,t[x1]=n,n}function M(t=1){YT(hn(),ot(),Ko()+t,!1)}function YT(t,n,e,i){if(!i)if((n[ct]&3)===3){let o=t.preOrderCheckHooks;o!==null&&n0(n,o,e)}else{let o=t.preOrderHooks;o!==null&&i0(n,o,0,e)}ws(e)}var k0=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(k0||{});function _w(t,n,e,i){let r=it(null);try{let[o,a,s]=t.inputs[e],l=null;(a&k0.SignalBased)!==0&&(l=n[o][ii]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):s!==null&&(i=s.call(n,i)),t.setInput!==null?t.setInput(n,l,i,e,o):iT(n,l,o,i)}finally{it(r)}}var Na=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Na||{}),OH;function tC(t,n){return OH(t,n)}var Al=new Set,M0=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(M0||{}),Jo=new L(""),LM=new Set;function ea(t){LM.has(t)||(LM.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var T0=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),nC=[0,1,2,3],iC=(()=>{class t{ngZone=m(he);scheduler=m(ao);errorHandler=m(qi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(Jo,{optional:!0})}execute(){let e=this.sequences.size>0;e&&nn(Pt.AfterRenderHooksStart),this.executing=!0;for(let i of nC)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&nn(Pt.AfterRenderHooksEnd)}register(e){let{view:i}=e;i!==void 0?((i[Dl]??=[]).push(e),Ml(i),i[ct]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(M0.AFTER_NEXT_RENDER,e):e()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),kh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,i,r,o,a=null){this.impl=n,this.hooks=e,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Dl];n&&(this.view[Dl]=n.filter(e=>e!==this))}};function At(t,n){let e=n?.injector??m(Ie);return ea("NgAfterNextRender"),FH(t,e,n,!0)}function NH(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function FH(t,n,e,i){let r=n.get(T0);r.impl??=n.get(iC);let o=n.get(Jo,null,{optional:!0}),a=e?.manualCleanup!==!0?n.get(Fi):null,s=n.get(id,null,{optional:!0}),l=new kh(r.impl,NH(t),s?.view,i,a,o?.snapshot(null));return r.impl.register(l),l}var rC=new L("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:m(Yt)})});function QT(t,n,e){let i=t.get(rC);if(Array.isArray(n))for(let r of n)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(n),e?.detachedLeaveAnimationFns?.push(n);i.scheduler&&i.scheduler(t)}function PH(t,n){let e=t.get(rC);if(n.detachedLeaveAnimationFns){for(let i of n.detachedLeaveAnimationFns)e.queue.delete(i);n.detachedLeaveAnimationFns=void 0}}function LH(t,n){for(let[e,i]of n)QT(t,i.animateFns)}function BH(t,n){let e=t.get(rC);if(Array.isArray(n))for(let i of n)e.queue.delete(i);else e.queue.delete(n)}function BM(t,n,e,i){let r=t?.[El]?.enter;n!==null&&r&&r.has(e.index)&&LH(i,r)}function od(t,n,e,i,r,o,a,s){if(r!=null){let l,c=!1;uo(r)?l=r:Qo(r)&&(c=!0,r=r[co]);let u=Pr(r);t===0&&i!==null?(BM(s,i,o,e),a==null?BT(n,i,u):u0(n,i,u,a||null,!0)):t===1&&i!==null?(BM(s,i,o,e),u0(n,i,u,a||null,!0)):t===2?VM(s,o,e,d=>{VT(n,u,c,d)}):t===3&&VM(s,o,e,()=>{n.destroyNode(u)}),l!=null&&QH(n,t,e,l,o,i,a)}}function VH(t,n){KT(t,n),n[co]=null,n[Oi]=null}function jH(t,n,e,i,r,o){i[co]=r,i[Oi]=n,A0(t,i,e,1,r,o)}function KT(t,n){n[Go].changeDetectionScheduler?.notify(9),A0(t,n,n[dn],2,null,null)}function HH(t){let n=t[Zc];if(!n)return X1(t[et],t);for(;n;){let e=null;if(Qo(n))e=n[Zc];else{let i=n[yn];i&&(e=i)}if(!e){for(;n&&!n[Fr]&&n!==t;)Qo(n)&&X1(n[et],n),n=n[Kn];n===null&&(n=t),Qo(n)&&X1(n[et],n),e=n&&n[Fr]}n=e}}function oC(t,n){let e=t[Sl],i=e.indexOf(n);e.splice(i,1)}function I0(t,n){if(kl(n))return;let e=n[dn];e.destroyNode&&A0(t,n,e,3,null,null),HH(n)}function X1(t,n){if(kl(n))return;let e=it(null);try{n[ct]&=-129,n[ct]|=256,n[vr]&&hs(n[vr]),qH(t,n),UH(t,n),n[et].type===1&&n[dn].destroy();let i=n[_s];if(i!==null&&uo(n[Kn])){i!==n[Kn]&&oC(i,n);let r=n[Yo];r!==null&&r.detachView(t)}lw(n)}finally{it(e)}}function VM(t,n,e,i){let r=t?.[El];if(r?.enter?.has(n.index)&&BH(e,r.enter.get(n.index).animateFns),r==null||r.leave==null||!r.leave.has(n.index))return i(!1);t&&Al.add(t[Ia]),QT(e,()=>{if(r.leave&&r.leave.has(n.index)){let a=r.leave.get(n.index),s=[];if(a){for(let l=0;l<a.animateFns.length;l++){let c=a.animateFns[l],{promise:u}=c();s.push(u)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(s),zH(t,i)}else t&&Al.delete(t[Ia]),i(!1)},r)}function zH(t,n){let e=t[El]?.running;if(e){e.then(()=>{t[El].running=void 0,Al.delete(t[Ia]),n(!0)});return}n(!1)}function UH(t,n){let e=t.cleanup,i=n[Xc];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?i[s]():i[-s].unsubscribe(),a+=2}else{let s=i[e[a+1]];e[a].call(s)}i!==null&&(n[Xc]=null);let r=n[Da];if(r!==null){n[Da]=null;for(let a=0;a<r.length;a++){let s=r[a];s()}}let o=n[gs];if(o!==null){n[gs]=null;for(let a of o)a.destroy()}}function qH(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof Il)){let o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],l=o[a+1];nn(Pt.LifecycleHookStart,s,l);try{l.call(s)}finally{nn(Pt.LifecycleHookEnd,s,l)}}else{nn(Pt.LifecycleHookStart,r,o);try{o.call(r)}finally{nn(Pt.LifecycleHookEnd,r,o)}}}}}function XT(t,n,e){return $H(t,n.parent,e)}function $H(t,n,e){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return e[co];if(ys(i)){let{encapsulation:r}=t.data[i.directiveStart+i.componentOffset];if(r===go.None||r===go.Emulated)return null}return fo(i,e)}function ZT(t,n,e){return GH(t,n,e)}function WH(t,n,e){return t.type&40?fo(t,e):null}var GH=WH,jM;function aC(t,n,e,i){let r=XT(t,i,n),o=n[dn],a=i.parent||n[Oi],s=ZT(a,i,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)FM(o,r,e[l],s,!1);else FM(o,r,e,s,!1);jM!==void 0&&jM(o,i,n,e,r)}function Dh(t,n){if(n!==null){let e=n.type;if(e&3)return fo(n,t);if(e&4)return bw(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return Dh(t,i);{let r=t[n.index];return uo(r)?bw(-1,r):Pr(r)}}else{if(e&128)return Dh(t,n.next);if(e&32)return tC(n,t)()||Pr(t[n.index]);{let i=JT(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=vs(t[Ni]);return Dh(r,i)}else return Dh(t,n.next)}}}return null}function JT(t,n){if(n!==null){let i=t[Ni][Oi],r=n.projection;return i.projection[r]}return null}function bw(t,n){let e=yn+t+1;if(e<n.length){let i=n[e],r=i[et].firstChild;if(r!==null)return Dh(i,r)}return n[bs]}function sC(t,n,e,i,r,o,a){for(;e!=null;){let s=i[Ta];if(e.type===128){e=e.next;continue}let l=i[e.index],c=e.type;if(a&&n===0&&(l&&ld(Pr(l),i),e.flags|=2),!D0(e))if(c&8)sC(t,n,e.child,i,r,o,!1),od(n,t,s,r,l,e,o,i);else if(c&32){let u=tC(e,i),d;for(;d=u();)od(n,t,s,r,d,e,o,i);od(n,t,s,r,l,e,o,i)}else c&16?eI(t,n,i,e,r,o):od(n,t,s,r,l,e,o,i);e=a?e.projectionNext:e.next}}function A0(t,n,e,i,r,o){sC(e,i,t.firstChild,n,r,o,!1)}function YH(t,n,e){let i=n[dn],r=XT(t,e,n),o=e.parent||n[Oi],a=ZT(o,e,n);eI(i,0,n,e,r,a)}function eI(t,n,e,i,r,o){let a=e[Ni],l=a[Oi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];od(n,t,e[Ta],r,u,i,o,e)}else{let c=l,u=a[Kn];yT(i)&&(c.flags|=128),sC(t,n,c,u,r,o,!0)}}function QH(t,n,e,i,r,o,a){let s=i[bs],l=Pr(i);s!==l&&od(n,t,e,o,s,r,a);for(let c=yn;c<i.length;c++){let u=i[c];A0(u[et],u,t,n,o,s)}}function KH(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Na.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Na.Important),t.setStyle(e,i,r,o))}}function tI(t,n,e,i,r){let o=Ko(),a=i&2;try{ws(-1),a&&n.length>bn&&YT(t,n,bn,!1);let s=a?Pt.TemplateUpdateStart:Pt.TemplateCreateStart;nn(s,r,e),e(i,r)}finally{ws(o);let s=a?Pt.TemplateUpdateEnd:Pt.TemplateCreateEnd;nn(s,r,e)}}function R0(t,n,e){nz(t,n,e),(e.flags&64)===64&&iz(t,n,e)}function Ph(t,n,e=fo){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],s=a===-1?e(n,t):t[a];t[r++]=s}}}function XH(t,n,e,i){let o=i.get(MT,kT)||e===go.ShadowDom||e===go.ExperimentalIsolatedShadowDom,a=t.selectRootElement(n,o);return ZH(a),a}function ZH(t){JH(t)}var JH=()=>null;function ez(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function nI(t,n,e,i,r,o){let a=n[et];if(uC(t,a,n,e,i)){ys(t)&&tz(n,t.index);return}t.type&3&&(e=ez(e)),iI(t,n,e,i,r,o)}function iI(t,n,e,i,r,o){if(t.type&3){let a=fo(t,n);i=o!=null?o(i,t.value||"",e):i,r.setProperty(a,e,i)}else t.type&12}function tz(t,n){let e=Lr(n,t);e[ct]&16||(e[ct]|=64)}function nz(t,n,e){let i=e.directiveStart,r=e.directiveEnd;ys(e)&&RH(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||d0(e,n);let o=e.initialInputs;for(let a=i;a<r;a++){let s=t.data[a],l=Sh(n,t,a,e);if(ld(l,n),o!==null&&sz(n,a-i,l,s,e,o),ho(s)){let c=Lr(e.index,n);c[On]=Sh(n,t,a,e)}}}function iz(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,a=lM();try{ws(o);for(let s=i;s<r;s++){let l=t.data[s],c=n[s];$m(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&rz(l,c)}}finally{ws(-1),$m(a)}}function rz(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function lC(t,n){let e=t.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];$T(n,o.selectors,!1)&&(i??=[],ho(o)?i.unshift(o):i.push(o))}return i}function oz(t,n,e,i,r,o){let a=fo(t,n);az(n[dn],a,o,t.value,e,i,r)}function az(t,n,e,i,r,o,a){if(o==null)t.removeAttribute(n,r,e);else{let s=a==null?yl(o):a(o,i||"",r);t.setAttribute(n,r,s,e)}}function sz(t,n,e,i,r,o){let a=o[n];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],c=a[s+1];_w(i,e,l,c)}}function cC(t,n,e,i,r){let o=bn+e,a=n[et],s=r(a,n,t,i,e);n[o]=s,td(t,!0);let l=t.type===2;return l?(jT(n[dn],s,t),(eM()===0||Jc(t))&&ld(s,n),tM()):ld(s,n),Qm()&&(!l||!D0(t))&&aC(a,n,s,t),t}function dC(t){let n=t;return V1()?j1():(n=n.parent,td(n,!1)),n}function lz(t,n){let e=t[Ta];if(!e)return;let i;try{i=e.get(Br,null)}catch(r){i=null}i?.(n)}function uC(t,n,e,i,r){let o=t.inputs?.[i],a=t.hostDirectiveInputs?.[i],s=!1;if(a)for(let l=0;l<a.length;l+=2){let c=a[l],u=a[l+1],d=n.data[c];_w(d,e[c],u,r),s=!0}if(o)for(let l of o){let c=e[l],u=n.data[l];_w(u,c,i,r),s=!0}return s}function cz(t,n){let e=Lr(n,t),i=e[et];dz(i,e);let r=e[co];r!==null&&e[wl]===null&&(e[wl]=TT(r,e[Ta])),nn(Pt.ComponentStart);try{hC(i,e,e[On])}finally{nn(Pt.ComponentEnd,e[On])}}function dz(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function hC(t,n,e){Gm(n);try{let i=t.viewQuery;i!==null&&cw(1,i,e);let r=t.template;r!==null&&tI(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Yo]?.finishViewCreation(t),t.staticContentQueries&&IT(t,n),t.staticViewQueries&&cw(2,t.viewQuery,e);let o=t.components;o!==null&&uz(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[ct]&=-5,Ym()}}function uz(t,n){for(let e=0;e<n.length;e++)cz(t,n[e])}function Lh(t,n,e,i){let r=it(null);try{let o=n.tView,s=t[ct]&4096?4096:16,l=Jw(t,o,e,s,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[n.index];l[_s]=c;let u=t[Yo];return u!==null&&(l[Yo]=u.createEmbeddedView(o)),hC(o,l,e),l}finally{it(r)}}function cd(t,n){return!n||n.firstChild===null||yT(t)}function Mh(t,n,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&i.push(Pr(o)),uo(o)&&rI(o,i);let a=e.type;if(a&8)Mh(t,n,e.child,i);else if(a&32){let s=tC(e,n),l;for(;l=s();)i.push(l)}else if(a&16){let s=JT(n,e);if(Array.isArray(s))i.push(...s);else{let l=vs(n[Ni]);Mh(l[et],l,s,i,!0)}}e=r?e.projectionNext:e.next}return i}function rI(t,n){for(let e=yn;e<t.length;e++){let i=t[e],r=i[et].firstChild;r!==null&&Mh(i[et],i,r,n)}t[bs]!==t[co]&&n.push(t[bs])}function oI(t){if(t[Dl]!==null){for(let n of t[Dl])n.impl.addSequence(n);t[Dl].length=0}}var aI=[];function hz(t){return t[vr]??fz(t)}function fz(t){let n=aI.pop()??Object.create(mz);return n.lView=t,n}function pz(t){t.lView[vr]!==t&&(t.lView=null,aI.push(t))}var mz=nt(G({},Oc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ml(t.lView)},consumerOnSignalRead(){this.lView[vr]=this}});function gz(t){let n=t[vr]??Object.create(vz);return n.lView=t,n}var vz=nt(G({},Oc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=vs(t.lView);for(;n&&!sI(n[et]);)n=vs(n);n&&I1(n)},consumerOnSignalRead(){this.lView[vr]=this}});function sI(t){return t.type!==2}function lI(t){if(t[gs]===null)return;let n=!0;for(;n;){let e=!1;for(let i of t[gs])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=e&&!!(t[ct]&8192)}}var _z=100;function cI(t,n=0){let i=t[Go].rendererFactory,r=!1;r||i.begin?.();try{bz(t,n)}finally{r||i.end?.()}}function bz(t,n){let e=H1();try{uh(!0),yw(t,n);let i=0;for(;bh(t);){if(i===_z)throw new se(103,!1);i++,yw(t,1)}}finally{uh(e)}}function yz(t,n,e,i){if(kl(n))return;let r=n[ct],o=!1,a=!1;Gm(n);let s=!0,l=null,c=null;o||(sI(t)?(c=hz(n),l=ol(c)):Gp()===null?(s=!1,c=gz(n),l=ol(c)):n[vr]&&(hs(n[vr]),n[vr]=null));try{T1(n),oM(t.bindingStartIndex),e!==null&&tI(t,n,e,2,i);let u=(r&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&n0(n,f,null)}else{let f=t.preOrderHooks;f!==null&&i0(n,f,0,null),Q1(n,0)}if(a||wz(n),lI(n),dI(n,0),t.contentQueries!==null&&IT(t,n),!o)if(u){let f=t.contentCheckHooks;f!==null&&n0(n,f)}else{let f=t.contentHooks;f!==null&&i0(n,f,1),Q1(n,1)}xz(t,n);let d=t.components;d!==null&&hI(n,d,0);let h=t.viewQuery;if(h!==null&&cw(2,h,i),!o)if(u){let f=t.viewCheckHooks;f!==null&&n0(n,f)}else{let f=t.viewHooks;f!==null&&i0(n,f,2),Q1(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[jm]){for(let f of n[jm])f();n[jm]=null}o||(oI(n),n[ct]&=-73)}catch(u){throw o||Ml(n),u}finally{c!==null&&(Fc(c,l),s&&pz(c)),Ym()}}function dI(t,n){for(let e=CT(t);e!==null;e=xT(e))for(let i=yn;i<e.length;i++){let r=e[i];uI(r,n)}}function wz(t){for(let n=CT(t);n!==null;n=xT(n)){if(!(n[ct]&2))continue;let e=n[Sl];for(let i=0;i<e.length;i++){let r=e[i];I1(r)}}}function Cz(t,n,e){nn(Pt.ComponentStart);let i=Lr(n,t);try{uI(i,e)}finally{nn(Pt.ComponentEnd,i[On])}}function uI(t,n){Hm(t)&&yw(t,n)}function yw(t,n){let i=t[et],r=t[ct],o=t[vr],a=!!(n===0&&r&16);if(a||=!!(r&64&&n===0),a||=!!(r&1024),a||=!!(o?.dirty&&Pc(o)),a||=!1,o&&(o.dirty=!1),t[ct]&=-9217,a)yz(i,t,i.template,t[On]);else if(r&8192){let s=it(null);try{lI(t),dI(t,1);let l=i.components;l!==null&&hI(t,l,1),oI(t)}finally{it(s)}}}function hI(t,n,e){for(let i=0;i<n.length;i++)Cz(t,n[i],e)}function xz(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)ws(~r);else{let o=r,a=e[++i],s=e[++i];sM(a,o);let l=n[o];nn(Pt.HostBindingsUpdateStart,l);try{s(2,l)}finally{nn(Pt.HostBindingsUpdateEnd,l)}}}}finally{ws(-1)}}function fC(t,n){let e=H1()?64:1088;for(t[Go].changeDetectionScheduler?.notify(n);t;){t[ct]|=e;let i=vs(t);if(ed(t)&&!i)return t;t=i}return null}function fI(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function pI(t,n){let e=yn+n;if(e<t.length)return t[e]}function Bh(t,n,e,i=!0){let r=n[et];if(Dz(r,n,t,e),i){let a=bw(e,t),s=n[dn],l=s.parentNode(t[bs]);l!==null&&jH(r,t[Oi],s,n,l,a)}let o=n[wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mI(t,n){let e=Th(t,n);return e!==void 0&&I0(e[et],e),e}function Th(t,n){if(t.length<=yn)return;let e=yn+n,i=t[e];if(i){let r=i[_s];r!==null&&r!==t&&oC(r,i),n>0&&(t[e-1][Fr]=i[Fr]);let o=mh(t,yn+n);VH(i[et],i);let a=o[Yo];a!==null&&a.detachView(o[et]),i[Kn]=null,i[Fr]=null,i[ct]&=-129}return i}function Dz(t,n,e,i){let r=yn+i,o=e.length;i>0&&(e[r-1][Fr]=n),i<o-yn?(n[Fr]=e[r],g1(e,yn+i,n)):(e.push(n),n[Fr]=null),n[Kn]=e;let a=n[_s];a!==null&&e!==a&&gI(a,n);let s=n[Yo];s!==null&&s.insertView(t),zm(n),n[ct]|=128}function gI(t,n){let e=t[Sl],i=n[Kn];if(Qo(i))t[ct]|=2;else{let r=i[Kn][Ni];n[Ni]!==r&&(t[ct]|=2)}e===null?t[Sl]=[n]:e.push(n)}var Cs=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,e=n[et];return Mh(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[On]}set context(n){this._lView[On]=n}get destroyed(){return kl(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Kn];if(uo(n)){let e=n[vh],i=e?e.indexOf(this):-1;i>-1&&(Th(n,i),mh(e,i))}this._attachedToViewContainer=!1}I0(this._lView[et],this._lView)}onDestroy(n){A1(this._lView,n)}markForCheck(){fC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ct]&=-129}reattach(){zm(this._lView),this._lView[ct]|=128}detectChanges(){this._lView[ct]|=1024,cI(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=ed(this._lView),e=this._lView[_s];e!==null&&!n&&oC(e,this._lView),KT(this._lView[et],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=n;let e=ed(this._lView),i=this._lView[_s];i!==null&&!e&&gI(i,this._lView),zm(this._lView)}};var Qt=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ez;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=Lh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new Cs(o)}}return t})();function Ez(){return O0(zn(),ot())}function O0(t,n){return t.type&4?new Qt(n,t,hd(t,n)):null}function pd(t,n,e,i,r){let o=t.data[n];if(o===null)o=Sz(t,n,e,i,r),aM()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let a=nM();o.injectorIndex=a===null?-1:a.injectorIndex}return td(o,!0),o}function Sz(t,n,e,i,r){let o=B1(),a=V1(),s=a?o:o&&o.parent,l=t.data[n]=Mz(t,s,e,n,i,r);return kz(t,l,o,a),l}function kz(t,n,e,i){t.firstChild===null&&(t.firstChild=n),e!==null&&(i?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function Mz(t,n,e,i,r,o){let a=n?n.injectorIndex:-1,s=0;return F1()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Tz(t){let n=t[E1]??[],i=t[Kn][dn],r=[];for(let o of n)o.data[ST]!==void 0?r.push(o):Iz(o,i);t[E1]=r}function Iz(t,n){let e=0,i=t.firstChild;if(i){let r=t.data[ET];for(;e<r;){let o=i.nextSibling;VT(n,i,!1),i=o,e++}}}var Az=()=>null,Rz=()=>null;function h0(t,n){return Az(t,n)}function vI(t,n,e){return Rz(t,n,e)}var _I=class{},N0=class{},ww=class{resolveComponentFactory(n){throw new se(917,!1)}},Vh=class{static NULL=new ww},wn=class{},gt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Oz()}return t})();function Oz(){let t=ot(),n=zn(),e=Lr(n.index,t);return(Qo(e)?e:t)[dn]}var bI=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();var o0={},Cw=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){let r=this.injector.get(n,o0,i);return r!==o0||e===o0?r:this.parentInjector.get(n,e,i)}};function f0(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let a=0;a<n.length;a++){let s=n[a];if(typeof s=="number")o=s;else if(o==1)r=Am(r,s);else if(o==2){let l=s,c=n[++a];i=Am(i,l+": "+c+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function wt(t,n=0){let e=ot();if(e===null)return Pe(t,n);let i=zn();return gT(i,e,Qn(t),n)}function md(){let t="invalid";throw new Error(t)}function yI(t,n,e,i,r){let o=i===null?null:{"":-1},a=r(t,e);if(a!==null){let s=a,l=null,c=null;for(let u of a)if(u.resolveHostDirectives!==null){[s,l,c]=u.resolveHostDirectives(a);break}Pz(t,n,e,s,o,l,c)}o!==null&&i!==null&&Nz(e,i,o)}function Nz(t,n,e){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new se(-301,!1);i.push(n[r],o)}}function Fz(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function Pz(t,n,e,i,r,o,a){let s=i.length,l=null;for(let h=0;h<s;h++){let f=i[h];l===null&&ho(f)&&(l=f,Fz(t,e,h)),aw(d0(e,n),t,f.type)}zz(e,t.data.length,s),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let h=0;h<s;h++){let f=i[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=GT(t,n,s,null);s>0&&(e.directiveToIndex=new Map);for(let h=0;h<s;h++){let f=i[h];if(e.mergedAttrs=sd(e.mergedAttrs,f.hostAttrs),Bz(t,e,n,d,f),Hz(d,f,r),a!==null&&a.has(f)){let[g,v]=a.get(f);e.directiveToIndex.set(f.type,[d,g+e.directiveStart,v+e.directiveStart])}else(o===null||!o.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}Lz(t,e,o)}function Lz(t,n,e){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=t.data[i];if(e===null||!e.has(r))HM(0,n,r,i),HM(1,n,r,i),UM(n,i,!1);else{let o=e.get(r);zM(0,n,o,i),zM(1,n,o,i),UM(n,i,!0)}}}function HM(t,n,e,i){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;t===0?a=n.inputs??={}:a=n.outputs??={},a[o]??=[],a[o].push(i),wI(n,o)}}function zM(t,n,e,i){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],s;t===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[a]??=[],s[a].push(i,o),wI(n,a)}}function wI(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function UM(t,n,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=t;if(i===null||!e&&r===null||e&&o===null||Xw(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<i.length;){let l=i[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}else if(typeof l=="number")break;if(!e&&r.hasOwnProperty(l)){let c=r[l];for(let u of c)if(u===n){a??=[],a.push(l,i[s+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){a??=[],a.push(c[u+1],i[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function Bz(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=gl(r.type,!0)),a=new Il(o,ho(r),wt,null);t.blueprint[i]=a,e[i]=a,Vz(t,n,i,GT(t,e,r.hostVars,Wi),r)}function Vz(t,n,e,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~n.index;jz(a)!=s&&a.push(s),a.push(e,i,o)}}function jz(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function Hz(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;ho(n)&&(e[""]=t)}}function zz(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function pC(t,n,e,i,r,o,a,s){let l=n[et],c=l.consts,u=_r(c,a),d=pd(l,t,e,i,u);return o&&yI(l,n,d,_r(c,s),r),d.mergedAttrs=sd(d.mergedAttrs,d.attrs),d.attrs!==null&&f0(d,d.attrs,!1),d.mergedAttrs!==null&&f0(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function mC(t,n){sT(t,n),S1(n)&&t.queries.elementEnd(n)}function Uz(t,n,e,i,r,o){let a=n.consts,s=_r(a,r),l=pd(n,t,e,i,s);if(l.mergedAttrs=sd(l.mergedAttrs,l.attrs),o!=null){let c=_r(a,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&f0(l,l.attrs,!1),l.mergedAttrs!==null&&f0(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function gC(t){return xI(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function CI(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function xI(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Vr(t,n,e){if(e===Wi)return!1;let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function qz(t,n,e,i){let r=Vr(t,n,e);return Vr(t,n+1,i)||r}function a0(t,n,e){return function i(r){let o=ys(t)?Lr(t.index,n):n;fC(o,5);let a=n[On],s=qM(n,a,e,r),l=i.__ngNextListenerFn__;for(;l;)s=qM(n,a,l,r)&&s,l=l.__ngNextListenerFn__;return s}}function qM(t,n,e,i){let r=it(null);try{return nn(Pt.OutputStart,n,e),e(i)!==!1}catch(o){return lz(t,o),!1}finally{nn(Pt.OutputEnd,n,e),it(r)}}function DI(t,n,e,i,r,o,a,s){let l=Jc(t),c=!1,u=null;if(!i&&l&&(u=Wz(n,e,o,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=a,u.__ngLastListenerFn__=a,c=!0}else{let d=fo(t,e),h=i?i(d):d;jj(e,h,o,s);let f=r.listen(h,o,s);if(!$z(o)){let p=i?g=>i(Pr(g[t.index])):t.index;EI(p,n,e,o,s,f,!1)}}return c}function $z(t){return t.startsWith("animation")||t.startsWith("transition")}function Wz(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===i){let s=n[Xc],l=r[o+2];return s&&s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function EI(t,n,e,i,r,o,a){let s=n.firstCreatePass?O1(n):null,l=R1(e),c=l.length;l.push(r,o),s&&s.push(i,t,c,(c+1)*(a?-1:1))}function $M(t,n,e,i,r,o){let a=n[e],s=n[et],c=s.data[e].outputs[i],d=a[c].subscribe(o);EI(t.index,s,n,r,o,d,!0)}var xw=Symbol("BINDING");var p0=class extends Vh{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=ka(n);return new Rl(e,this.ngModule)}};function Gz(t){return Object.keys(t).map(n=>{let[e,i,r]=t[n],o={propName:e,templateName:n,isSignal:(i&k0.SignalBased)!==0};return r&&(o.transform=r),o})}function Yz(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function Qz(t,n,e){let i=n instanceof Yt?n:n?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new Cw(e,i):e}function Kz(t){let n=t.get(wn,null);if(n===null)throw new se(407,!1);let e=t.get(bI,null),i=t.get(ao,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function Xz(t,n){let e=SI(t);return LT(n,e,e==="svg"?k1:e==="math"?Gk:null)}function SI(t){return(t.selectors[0][0]||"div").toLowerCase()}var Rl=class extends N0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Gz(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Yz(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=MH(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,i,r,o,a){nn(Pt.DynamicComponentStart);let s=it(null);try{let l=this.componentDef,c=Zz(i,l,a,o),u=Qz(l,r||this.ngModule,n),d=Kz(u),h=d.rendererFactory.createRenderer(null,l),f=i?XH(h,i,l.encapsulation,u):Xz(l,h),p=a?.some(WM)||o?.some(_=>typeof _!="function"&&_.bindings.some(WM)),g=Jw(null,c,null,512|WT(l),null,null,d,h,u,null,TT(f,u,!0));g[bn]=f,Gm(g);let v=null;try{let _=pC(bn,g,2,"#host",()=>c.directiveRegistry,!0,0);jT(h,f,_),ld(f,g),R0(c,g,_),Uw(c,_,g),mC(c,_),e!==void 0&&eU(_,this.ngContentSelectors,e),v=Lr(_.index,g),g[On]=v[On],hC(c,g,null)}catch(_){throw v!==null&&lw(v),lw(g),_}finally{nn(Pt.DynamicComponentEnd),Ym()}return new m0(this.componentType,g,!!p)}finally{it(s)}}};function Zz(t,n,e,i){let r=t?["ng-version","21.1.3"]:TH(n.selectors[0]),o=null,a=null,s=0;if(e)for(let u of e)s+=u[xw].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(a??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let d=i[u];if(typeof d!="function")for(let h of d.bindings){s+=h[xw].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(a??=[]).push(h))}}let l=[n];if(i)for(let u of i){let d=typeof u=="function"?u:u.type,h=Om(d);l.push(h)}return Zw(0,null,Jz(o,a),1,s,l,null,null,null,[r],null)}function Jz(t,n){return!t&&!n?null:e=>{if(e&1&&t)for(let i of t)i.create();if(e&2&&n)for(let i of n)i.update()}}function WM(t){let n=t[xw].kind;return n==="input"||n==="twoWay"}var m0=class extends _I{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=_h(e[et],bn),this.location=hd(this._tNode,e),this.instance=Lr(this._tNode.index,e)[On],this.hostView=this.changeDetectorRef=new Cs(e,void 0),this.componentType=n}setInput(n,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let r=this._rootLView,o=uC(i,r[et],r,n,e);this.previousInputValues.set(n,e);let a=Lr(i.index,r);fC(a,1)}get injector(){return new Tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function eU(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var rn=(()=>{class t{static __NG_ELEMENT_ID__=tU}return t})();function tU(){let t=zn();return MI(t,ot())}var nU=rn,kI=class extends nU{_lContainer;_hostTNode;_hostLView;constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new Tl(this._hostTNode,this._hostLView)}get parentInjector(){let n=jw(this._hostTNode,this._hostLView);if(dT(n)){let e=c0(n,this._hostLView),i=l0(n),r=e[et].data[i+8];return new Tl(r,e)}else return new Tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=GM(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=h0(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,cd(this._hostTNode,a)),s}createComponent(n,e,i,r,o,a,s){let l=n&&!fj(n),c;if(l)c=e;else{let v=e||{};c=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,a=v.directives,s=v.bindings}let u=l?n:new Rl(ka(n)),d=i||this.parentInjector;if(!o&&u.ngModule==null){let _=(l?d:this.parentInjector).get(Yt,null);_&&(o=_)}let h=ka(u.componentType??{}),f=h0(this._lContainer,h?.id??null),p=f?.firstChild??null,g=u.create(d,r,p,o,a,s);return this.insertImpl(g.hostView,c,cd(this._hostTNode,f)),g}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(Kk(r)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let l=r[Kn],c=new kI(l,l[Oi],l[Kn]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),a=this._lContainer;return Bh(a,r,o,i),n.attachToViewContainerRef(),g1(Z1(a),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=GM(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Th(this._lContainer,e);i&&(mh(Z1(this._lContainer),e),I0(i[et],i))}detach(n){let e=this._adjustIndex(n,-1),i=Th(this._lContainer,e);return i&&mh(Z1(this._lContainer),e)!=null?new Cs(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function GM(t){return t[vh]}function Z1(t){return t[vh]||(t[vh]=[])}function MI(t,n){let e,i=n[t.index];return uo(i)?e=i:(e=fI(i,n,null,t),n[t.index]=e,eC(n,e)),rU(e,n,t,i),new kI(e,t,n)}function iU(t,n){let e=t[dn],i=e.createComment(""),r=fo(n,t),o=e.parentNode(r);return u0(e,o,i,e.nextSibling(r),!1),i}var rU=sU,oU=()=>!1;function aU(t,n,e){return oU(t,n,e)}function sU(t,n,e,i){if(t[bs])return;let r;e.type&8?r=Pr(i):r=iU(n,e),t[bs]=r}var Dw=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ew=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)_C(n,e).matches!==null&&this.queries[e].setDirty()}},g0=class{flags;read;predicate;constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=hU(n):this.predicate=n}},Sw=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},kw=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,e,lU(e,o)),this.matchTNodeWithReadOption(n,e,r0(e,n,o,!1,!1))}else i===Qt?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,r0(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ue||r===rn||r===Qt&&e.type&4)this.addMatch(e.index,-2);else{let o=r0(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function lU(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function cU(t,n){return t.type&11?hd(t,n):t.type&4?O0(t,n):null}function dU(t,n,e,i){return e===-1?cU(n,t):e===-2?uU(t,n,i):Sh(t,t[et],e,n)}function uU(t,n,e){if(e===ue)return hd(n,t);if(e===Qt)return O0(n,t);if(e===rn)return MI(n,t)}function TI(t,n,e,i){let r=n[Yo].queries[i];if(r.matches===null){let o=t.data,a=e.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let u=o[c];s.push(dU(n,u,a[l+1],e.metadata.read))}}r.matches=s}return r.matches}function Mw(t,n,e,i){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let a=TI(t,n,r,e);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)i.push(a[s/2]);else{let c=o[s+1],u=n[-l];for(let d=yn;d<u.length;d++){let h=u[d];h[_s]===h[Kn]&&Mw(h[et],h,c,i)}if(u[Sl]!==null){let d=u[Sl];for(let h=0;h<d.length;h++){let f=d[h];Mw(f[et],f,c,i)}}}}}return i}function vC(t,n){return t[Yo].queries[n].queryList}function II(t,n,e){let i=new $i((e&4)===4);return Jk(t,n,i,i.destroy),(n[Yo]??=new Ew).queries.push(new Dw(i))-1}function AI(t,n,e){let i=hn();return i.firstCreatePass&&(OI(i,new g0(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),II(i,ot(),n)}function RI(t,n,e,i){let r=hn();if(r.firstCreatePass){let o=zn();OI(r,new g0(n,e,i),o.index),fU(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return II(r,ot(),e)}function hU(t){return t.split(",").map(n=>n.trim())}function OI(t,n,e){t.queries===null&&(t.queries=new Sw),t.queries.track(new kw(n,e))}function fU(t,n){let e=t.contentQueries||(t.contentQueries=[]),i=e.length?e[e.length-1]:-1;n!==i&&e.push(t.queries.length-1,n)}function _C(t,n){return t.queries.getByIndex(n)}function NI(t,n){let e=t[et],i=_C(e,n);return i.crossesNgTemplate?Mw(e,t,n,[]):TI(e,t,i,n)}function FI(t,n,e){let i,r=Yu(()=>{i._dirtyCounter();let o=pU(i,t);if(n&&o===void 0)throw new se(-951,!1);return o});return i=r[ii],i._dirtyCounter=ze(0),i._flatValue=void 0,r}function bC(t){return FI(!0,!1,t)}function yC(t){return FI(!0,!0,t)}function PI(t,n){let e=t[ii];e._lView=ot(),e._queryIndex=n,e._queryList=vC(e._lView,n),e._queryList.onDirty(()=>e._dirtyCounter.update(i=>i+1))}function pU(t,n){let e=t._lView,i=t._queryIndex;if(e===void 0||i===void 0||e[ct]&4)return n?void 0:Ci;let r=vC(e,i),o=NI(e,i);return r.reset(o,bT),n?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}var Fa=class{},F0=class{};var v0=class extends Fa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new p0(this);constructor(n,e,i,r=!0){super(),this.ngModuleType=n,this._parent=e;let o=f1(n);this._bootstrapComponents=UT(o.bootstrap),this._r3Injector=q1(n,e,[{provide:Fa,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver},...i],Ea(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},_0=class extends F0{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new v0(this.moduleType,n,[])}};var Ih=class extends Fa{injector;componentFactoryResolver=new p0(this);instance=null;constructor(n){super();let e=new _l([...n.providers,{provide:Fa,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver}],n.parent||Kc(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function jh(t,n,e=null){return new Ih({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var mU=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=b1(!1,e.type),r=i.length>0?jh([i],this._injector,""):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(Pe(Yt))})}return t})();function W(t){return Rh(()=>{let n=LI(t),e=nt(G({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(mU).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||go.Emulated,styles:t.styles||Ci,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&ea("NgStandalone"),BI(e);let i=t.dependencies;return e.directiveDefs=YM(i,gU),e.pipeDefs=YM(i,Fk),e.id=bU(e),e})}function gU(t){return ka(t)||Om(t)}function xe(t){return Rh(()=>({type:t.type,bootstrap:t.bootstrap||Ci,declarations:t.declarations||Ci,imports:t.imports||Ci,exports:t.exports||Ci,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vU(t,n){if(t==null)return so;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,s,l;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o,l=r[3]||null):(o=r,a=r,s=k0.None,l=null),e[o]=[i,s,l],n[o]=a}return e}function _U(t){if(t==null)return so;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function ee(t){return Rh(()=>{let n=LI(t);return BI(n),n})}function LI(t){let n={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||so,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ci,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:vU(t.inputs,n),outputs:_U(t.outputs),debugInfo:null}}function BI(t){t.features?.forEach(n=>n(t))}function YM(t,n){return t?()=>{let e=typeof t=="function"?t():t,i=[];for(let r of e){let o=n(r);o!==null&&i.push(o)}return i}:null}function bU(t){let n=0,e=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function wC(t){let n=e=>{let i=Array.isArray(t);e.hostDirectives===null?(e.resolveHostDirectives=yU,e.hostDirectives=i?t.map(Tw):[t]):i?e.hostDirectives.unshift(...t.map(Tw)):e.hostDirectives.unshift(t)};return n.ngInherit=!0,n}function yU(t){let n=[],e=!1,i=null,r=null;for(let o=0;o<t.length;o++){let a=t[o];if(a.hostDirectives!==null){let s=n.length;i??=new Map,r??=new Map,VI(a,n,i),r.set(a,[s,n.length-1])}o===0&&ho(a)&&(e=!0,n.push(a))}for(let o=e?1:0;o<t.length;o++)n.push(t[o]);return[n,i,r]}function VI(t,n,e){if(t.hostDirectives!==null)for(let i of t.hostDirectives)if(typeof i=="function"){let r=i();for(let o of r)QM(Tw(o),n,e)}else QM(i,n,e)}function QM(t,n,e){let i=Om(t.directive);wU(i.declaredInputs,t.inputs),VI(i,n,e),e.set(i,t),n.push(i)}function Tw(t){return typeof t=="function"?{directive:Qn(t),inputs:so,outputs:so}:{directive:Qn(t.directive),inputs:KM(t.inputs),outputs:KM(t.outputs)}}function KM(t){if(t===void 0||t.length===0)return so;let n={};for(let e=0;e<t.length;e+=2)n[t[e]]=t[e+1];return n}function wU(t,n){for(let e in n)if(n.hasOwnProperty(e)){let i=n[e],r=t[e];t[i]=r}}function CU(t){return Object.getPrototypeOf(t.prototype).constructor}function Le(t){let n=CU(t.type),e=!0,i=[t];for(;n;){let r;if(ho(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new se(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let a=t;a.inputs=J1(t.inputs),a.declaredInputs=J1(t.declaredInputs),a.outputs=J1(t.outputs);let s=r.hostBindings;s&&kU(t,s);let l=r.viewQuery,c=r.contentQueries;if(l&&EU(t,l),c&&SU(t,c),xU(t,r),Nk(t.outputs,r.outputs),ho(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(t),s===Le&&(e=!1)}}n=Object.getPrototypeOf(n)}DU(i)}function xU(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e])}}function DU(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=sd(r.hostAttrs,e=sd(e,r.hostAttrs))}}function J1(t){return t===so?{}:t===Ci?[]:t}function EU(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function SU(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function kU(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}function jI(t,n,e,i,r,o,a,s){if(e.firstCreatePass){t.mergedAttrs=sd(t.mergedAttrs,t.attrs);let u=t.tView=Zw(2,t,r,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,t),u.queries=e.queries.embeddedTView(t))}s&&(t.flags|=s),td(t,!1);let l=TU(e,n,t,i);Qm()&&aC(e,n,l,t),ld(l,n);let c=fI(l,n,l,t);n[i+bn]=c,eC(n,c),aU(c,t,n)}function MU(t,n,e,i,r,o,a,s,l,c,u){let d=e+bn,h;return n.firstCreatePass?(h=pd(n,d,4,a||null,s||null),Um()&&yI(n,t,h,_r(n.consts,c),lC),sT(n,h)):h=n.data[d],jI(h,t,n,e,i,r,o,l),Jc(h)&&R0(n,t,h),c!=null&&Ph(t,h,u),h}function dd(t,n,e,i,r,o,a,s,l,c,u){let d=e+bn,h;if(n.firstCreatePass){if(h=pd(n,d,4,a||null,s||null),c!=null){let f=_r(n.consts,c);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=n.data[d];return jI(h,t,n,e,i,r,o,l),c!=null&&Ph(t,h,u),h}function xt(t,n,e,i,r,o,a,s){let l=ot(),c=hn(),u=_r(c.consts,o);return MU(l,c,t,n,e,i,r,u,void 0,a,s),xt}function Fl(t,n,e,i,r,o,a,s){let l=ot(),c=hn(),u=_r(c.consts,o);return dd(l,c,t,n,e,i,r,u,void 0,a,s),Fl}var TU=IU;function IU(t,n,e,i){return Ch(!0),n[dn].createComment("")}var P0=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Ba(t){return typeof t=="function"&&t[ii]!==void 0}function CC(t){return Ba(t)&&typeof t.set=="function"}var L0=new L(""),B0=new L(""),Hh=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,r){this._ngZone=e,this.registry=i,C1()&&(this._destroyRef=m(Fi,{optional:!0})??void 0),xC||(zI(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static \u0275fac=function(i){return new(i||t)(Pe(he),Pe(HI),Pe(B0))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),HI=(()=>{class t{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return xC?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function zI(t){xC=t}var xC;function Pl(t){return!!t&&typeof t.then=="function"}function UI(t){return!!t&&typeof t.subscribe=="function"}var DC=new L("");function V0(t){return lo([{provide:DC,multi:!0,useValue:t}])}var EC=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=m(DC,{optional:!0})??[];injector=m(Ie);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=oi(this.injector,r);if(Pl(o))e.push(o);else if(UI(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),j0=new L("");function qI(){xy(()=>{let t="";throw new se(600,t)})}function $I(t){return t.isBoundToModule}var AU=10;var Un=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(Br);afterRenderManager=m(T0);zonelessEnabled=m(rd);rootEffectScheduler=m(Xm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=m(Xo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(He(e=>!e))}constructor(){m(Jo,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=m(Yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=Ie.NULL){return this._injector.get(he).run(()=>{nn(Pt.BootstrapComponentStart);let a=e instanceof N0;if(!this._injector.get(EC).done){let p="";throw new se(405,p)}let l;a?l=e:l=this._injector.get(Vh).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let c=$I(l)?void 0:this._injector.get(Fa),u=i||l.selector,d=l.create(r,[],u,c),h=d.location.nativeElement,f=d.injector.get(L0,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Eh(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),nn(Pt.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){nn(Pt.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(M0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw nn(Pt.ChangeDetectionEnd),new se(101,!1);let e=it(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,it(e),this.afterTick.next(),nn(Pt.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wn,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<AU;){nn(Pt.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{nn(Pt.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!bh(r))continue;let o=i&&!this.zonelessEnabled?0:1;cI(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>bh(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Eh(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(j0,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Eh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new se(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Eh(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Oe(t,n,e,i){let r=ot(),o=Aa();if(Vr(r,o,n)){let a=hn(),s=wh();oz(s,r,t,n,e,i)}return Oe}var kye=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Iw=class{destroy(n){}updateValue(n,e){}swap(n,e){let i=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(n,e){this.attach(e,this.detach(n))}};function ew(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function RU(t,n,e,i){let r,o,a=0,s=t.length-1,l=void 0;if(Array.isArray(n)){it(i);let c=n.length-1;for(it(null);a<=s&&a<=c;){let u=t.at(a),d=n[a],h=ew(a,u,a,d,e);if(h!==0){h<0&&t.updateValue(a,d),a++;continue}let f=t.at(s),p=n[c],g=ew(s,f,c,p,e);if(g!==0){g<0&&t.updateValue(s,p),s--,c--;continue}let v=e(a,u),_=e(s,f),y=e(a,d);if(Object.is(y,_)){let D=e(c,p);Object.is(D,v)?(t.swap(a,s),t.updateValue(s,p),c--,s--):t.move(s,a),t.updateValue(a,d),a++;continue}if(r??=new b0,o??=ZM(t,a,s,e),Aw(t,r,a,y))t.updateValue(a,d),a++,s++;else if(o.has(y))r.set(v,t.detach(a)),s--;else{let D=t.create(a,n[a]);t.attach(a,D),a++,s++}}for(;a<=c;)XM(t,r,e,a,n[a]),a++}else if(n!=null){it(i);let c=n[Symbol.iterator]();it(null);let u=c.next();for(;!u.done&&a<=s;){let d=t.at(a),h=u.value,f=ew(a,d,a,h,e);if(f!==0)f<0&&t.updateValue(a,h),a++,u=c.next();else{r??=new b0,o??=ZM(t,a,s,e);let p=e(a,h);if(Aw(t,r,a,p))t.updateValue(a,h),a++,s++,u=c.next();else if(!o.has(p))t.attach(a,t.create(a,h)),a++,s++,u=c.next();else{let g=e(a,d);r.set(g,t.detach(a)),s--}}}for(;!u.done;)XM(t,r,e,t.length,u.value),u=c.next()}for(;a<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Aw(t,n,e,i){return n!==void 0&&n.has(i)?(t.attach(e,n.get(i)),n.delete(i),!0):!1}function XM(t,n,e,i,r){if(Aw(t,n,i,e(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function ZM(t,n,e,i){let r=new Set;for(let o=n;o<=e;o++)r.add(i(o,t.at(o)));return r}var b0=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}};function be(t,n,e,i,r,o,a,s){ea("NgControlFlow");let l=ot(),c=hn(),u=_r(c.consts,o);return dd(l,c,t,n,e,i,r,u,256,a,s),SC}function SC(t,n,e,i,r,o,a,s){ea("NgControlFlow");let l=ot(),c=hn(),u=_r(c.consts,o);return dd(l,c,t,n,e,i,r,u,512,a,s),SC}function ye(t,n){ea("NgControlFlow");let e=ot(),i=Aa(),r=e[i]!==Wi?e[i]:-1,o=r!==-1?y0(e,bn+r):void 0,a=0;if(Vr(e,i,t)){let s=it(null);try{if(o!==void 0&&mI(o,a),t!==-1){let l=bn+t,c=y0(e,l),u=Fw(e[et],l),d=vI(c,u,e),h=Lh(e,u,n,{dehydratedView:d});Bh(c,h,a,cd(u,d))}}finally{it(s)}}else if(o!==void 0){let s=pI(o,a);s!==void 0&&(s[On]=n)}}var Rw=class{lContainer;$implicit;$index;constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-yn}};function kC(t){return t}function qn(t,n){return n}var Ow=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}};function Ut(t,n,e,i,r,o,a,s,l,c,u,d,h){ea("NgControlFlow");let f=ot(),p=hn(),g=l!==void 0,v=ot(),_=s?a.bind(v[Ni][On]):a,y=new Ow(g,_);v[bn+t]=y,dd(f,p,t+1,n,e,i,r,_r(p.consts,o),256),g&&dd(f,p,t+2,l,c,u,d,_r(p.consts,h),512)}var Nw=class extends Iw{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-yn}at(n){return this.getLView(n)[On].$implicit}attach(n,e){let i=e[wl];this.needsIndexUpdate||=n!==this.length,Bh(this.lContainer,e,n,cd(this.templateTNode,i)),OU(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,NU(this.lContainer,n),FU(this.lContainer,n)}create(n,e){let i=h0(this.lContainer,this.templateTNode.tView.ssrId);return Lh(this.hostLView,this.templateTNode,new Rw(this.lContainer,e,n),{dehydratedView:i})}destroy(n){I0(n[et],n)}updateValue(n,e){this.getLView(n)[On].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[On].$index=n}getLView(n){return PU(this.lContainer,n)}};function qt(t){let n=it(null),e=Ko();try{let i=ot(),r=i[et],o=i[e],a=e+1,s=y0(i,a);if(o.liveCollection===void 0){let c=Fw(r,a);o.liveCollection=new Nw(s,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(RU(l,t,o.trackByFn,n),l.updateIndexes(),o.hasEmptyBlock){let c=Aa(),u=l.length===0;if(Vr(i,c,u)){let d=e+2,h=y0(i,d);if(u){let f=Fw(r,d),p=vI(h,f,i),g=Lh(i,f,void 0,{dehydratedView:p});Bh(h,g,0,cd(f,p))}else r.firstUpdatePass&&Tz(h),mI(h,0)}}}finally{it(n)}}function y0(t,n){return t[n]}function OU(t,n){if(t.length<=yn)return;let e=yn+n,i=t[e],r=i?i[El]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[Ta];PH(o,r),Al.delete(i[Ia]),r.detachedLeaveAnimationFns=void 0}}function NU(t,n){if(t.length<=yn)return;let e=yn+n,i=t[e],r=i?i[El]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function FU(t,n){return Th(t,n)}function PU(t,n){return pI(t,n)}function Fw(t,n){return _h(t,n)}function ce(t,n,e){let i=ot(),r=Aa();if(Vr(i,r,n)){let o=hn(),a=wh();nI(a,i,t,n,i[dn],e)}return ce}function Pw(t,n,e,i,r){uC(n,t,e,r?"class":"style",i)}function x(t,n,e,i){let r=ot(),o=r[et],a=t+bn,s=o.firstCreatePass?pC(a,r,2,n,lC,Um(),e,i):o.data[a];if(cC(s,r,t,n,WI),Jc(s)){let l=r[et];R0(l,r,s),Uw(l,s,r)}return i!=null&&Ph(r,s),x}function E(){let t=hn(),n=zn(),e=dC(n);return t.firstCreatePass&&mC(t,e),P1(e)&&L1(),N1(),e.classesWithoutHost!=null&&bj(e)&&Pw(t,e,ot(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yj(e)&&Pw(t,e,ot(),e.stylesWithoutHost,!1),E}function Ne(t,n,e,i){return x(t,n,e,i),E(),Ne}function qe(t,n,e,i){let r=ot(),o=r[et],a=t+bn,s=o.firstCreatePass?Uz(a,o,2,n,e,i):o.data[a];return cC(s,r,t,n,WI),i!=null&&Ph(r,s),qe}function $e(){let t=zn(),n=dC(t);return P1(n)&&L1(),N1(),$e}function on(t,n,e,i){return qe(t,n,e,i),$e(),on}var WI=(t,n,e,i,r)=>(Ch(!0),LT(n[dn],i,pM()));function ai(t,n,e){let i=ot(),r=i[et],o=t+bn,a=r.firstCreatePass?pC(o,i,8,"ng-container",lC,Um(),n,e):r.data[o];if(cC(a,i,t,"ng-container",LU),Jc(a)){let s=i[et];R0(s,i,a),Uw(s,a,i)}return e!=null&&Ph(i,a),ai}function si(){let t=hn(),n=zn(),e=dC(n);return t.firstCreatePass&&mC(t,e),si}function xi(t,n,e){return ai(t,n,e),si(),xi}var LU=(t,n,e,i,r)=>(Ch(!0),hH(n[dn],""));function Ke(){return ot()}function Zn(t,n,e){let i=ot(),r=Aa();if(Vr(i,r,n)){let o=hn(),a=wh();iI(a,i,t,n,i[dn],e)}return Zn}var zh="en-US";var BU=zh;function GI(t){typeof t=="string"&&(BU=t.toLowerCase().replace(/_/g,"-"))}function Y(t,n,e){let i=ot(),r=hn(),o=zn();return YI(r,i,i[dn],o,t,n,e),Y}function gd(t,n,e){let i=ot(),r=hn(),o=zn();return(o.type&3||e)&&DI(o,r,i,e,i[dn],t,n,a0(o,i,n)),gd}function YI(t,n,e,i,r,o,a){let s=!0,l=null;if((i.type&3||a)&&(l??=a0(i,n,o),DI(i,t,n,a,e,r,o,l)&&(s=!1)),s){let c=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];l??=a0(i,n,o),$M(i,n,h,f,r,l)}if(c&&c.length)for(let d of c)l??=a0(i,n,o),$M(i,n,d,r,r,l)}}function Q(t=1){return fM(t)}function VU(t,n){let e=null,i=xH(t);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){e=r;continue}if(i===null?$T(t,o,!0):SH(i,o))return r}return e}function tt(t){let n=ot()[Ni][Oi];if(!n.projection){let e=t?t.length:1,i=n.projection=Hk(e,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let a=t?VU(o,t):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function De(t,n=0,e,i,r,o){let a=ot(),s=hn(),l=i?t+1:null;l!==null&&dd(a,s,l,i,r,o,null,e);let c=pd(s,bn+t,16,null,e||null);c.projection===null&&(c.projection=n),j1();let d=!a[wl]||F1();a[Ni][Oi].projection[c.projection]===null&&l!==null?jU(a,s,l):d&&!D0(c)&&YH(s,a,c)}function jU(t,n,e){let i=bn+e,r=n.data[i],o=t[i],a=h0(o,r.tView.ssrId),s=Lh(t,r,void 0,{dehydratedView:a});Bh(o,s,0,cd(r,a))}function Kt(t,n,e,i){return RI(t,n,e,i),Kt}function Xe(t,n,e){return AI(t,n,e),Xe}function ne(t){let n=ot(),e=hn(),i=Wm();yh(i+1);let r=_C(e,i);if(t.dirty&&Qk(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=NI(n,i);t.reset(o,bT),t.notifyOnChanges()}return!0}return!1}function ie(){return vC(ot(),Wm())}function H0(t,n,e,i,r){return PI(n,RI(t,e,i,r)),H0}function z0(t,n,e,i){return PI(t,AI(n,e,i)),z0}function U0(t=1){yh(Wm()+t)}function Cn(t){let n=iM();return Yk(n,bn+t)}function t0(t,n){return t<<17|n<<2}function Ol(t){return t>>17&32767}function HU(t){return(t&2)==2}function zU(t,n){return t&131071|n<<17}function Lw(t){return t|2}function ud(t){return(t&131068)>>2}function tw(t,n){return t&-131069|n<<2}function UU(t){return(t&1)===1}function Bw(t){return t|1}function qU(t,n,e,i,r,o){let a=o?n.classBindings:n.styleBindings,s=Ol(a),l=ud(a);t[i]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Qc(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let h=Ol(t[s+1]);t[i+1]=t0(h,s),h!==0&&(t[h+1]=tw(t[h+1],i)),t[s+1]=zU(t[s+1],i)}else t[i+1]=t0(s,0),s!==0&&(t[s+1]=tw(t[s+1],i)),s=i;else t[i+1]=t0(l,0),s===0?s=i:t[l+1]=tw(t[l+1],i),l=i;c&&(t[i+1]=Lw(t[i+1])),JM(t,u,i,!0),JM(t,u,i,!1),$U(n,u,t,i,o),a=t0(s,l),o?n.classBindings=a:n.styleBindings=a}function $U(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Qc(o,n)>=0&&(e[i+1]=Bw(e[i+1]))}function JM(t,n,e,i){let r=t[e+1],o=n===null,a=i?Ol(r):ud(r),s=!1;for(;a!==0&&(s===!1||o);){let l=t[a],c=t[a+1];WU(l,n)&&(s=!0,t[a+1]=i?Bw(c):Lw(c)),a=i?Ol(c):ud(c)}s&&(t[e+1]=i?Lw(r):Bw(r))}function WU(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Qc(t,n)>=0:!1}var mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GU(t){return t.substring(mo.key,mo.keyEnd)}function YU(t){return QU(t),QI(t,KI(t,0,mo.textEnd))}function QI(t,n){let e=mo.textEnd;return e===n?-1:(n=mo.keyEnd=KU(t,mo.key=n,e),KI(t,n,e))}function QU(t){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=t.length}function KI(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function KU(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function Fn(t,n,e){return XI(t,n,e,!1),Fn}function Ee(t,n){return XI(t,n,null,!0),Ee}function fn(t){ZU(rq,XU,t,!0)}function XU(t,n){for(let e=YU(n);e>=0;e=QI(n,e))Lm(t,GU(n),!0)}function XI(t,n,e,i){let r=ot(),o=hn(),a=qm(2);if(o.firstUpdatePass&&JI(o,t,a,i),n!==Wi&&Vr(r,a,n)){let s=o.data[Ko()];eA(o,s,r,r[dn],t,r[a+1]=aq(n,e),i,a)}}function ZU(t,n,e,i){let r=hn(),o=qm(2);r.firstUpdatePass&&JI(r,null,o,i);let a=ot();if(e!==Wi&&Vr(a,o,e)){let s=r.data[Ko()];if(tA(s,i)&&!ZI(r,o)){let l=i?s.classesWithoutHost:s.stylesWithoutHost;l!==null&&(e=Am(l,e||"")),Pw(r,s,a,e,i)}else oq(r,s,a,a[dn],a[o+1],a[o+1]=iq(t,n,e),i,o)}}function ZI(t,n){return n>=t.expandoStartIndex}function JI(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[Ko()],a=ZI(t,e);tA(o,i)&&n===null&&!a&&(n=!1),n=JU(r,o,n,i),qU(r,o,n,e,a,i)}}function JU(t,n,e,i){let r=cM(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=nw(null,t,n,e,i),e=Ah(e,n.attrs,i),o=null);else{let a=n.directiveStylingLast;if(a===-1||t[a]!==r)if(e=nw(r,t,n,e,i),o===null){let l=eq(t,n,i);l!==void 0&&Array.isArray(l)&&(l=nw(null,t,n,l[1],i),l=Ah(l,n.attrs,i),tq(t,n,i,l))}else o=nq(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function eq(t,n,e){let i=e?n.classBindings:n.styleBindings;if(ud(i)!==0)return t[Ol(i)]}function tq(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[Ol(r)]=i}function nq(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Ah(i,a,e)}return Ah(i,n.attrs,e)}function nw(t,n,e,i,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=n[s],i=Ah(i,o.hostAttrs,r),o!==t);)s++;return t!==null&&(e.directiveStylingLast=s),i}function Ah(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Lm(t,a,e?!0:n[++o]))}return t===void 0?null:t}function iq(t,n,e){if(e==null||e==="")return Ci;let i=[],r=vo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(r instanceof Set)for(let o of r)t(i,o,!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function rq(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&Lm(t,i,e)}function oq(t,n,e,i,r,o,a,s){r===Wi&&(r=Ci);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,g;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),p!==null&&eA(t,n,e,i,p,g,a,s),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function eA(t,n,e,i,r,o,a,s){if(!(n.type&3))return;let l=t.data,c=l[s+1],u=UU(c)?eT(l,n,e,r,ud(c),a):void 0;if(!w0(u)){w0(o)||HU(c)&&(o=eT(l,null,e,r,s,a));let d=M1(Ko(),e);KH(i,a,d,r,o)}}function eT(t,n,e,i,r,o){let a=n===null,s;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=e[r+1];h===Wi&&(h=d?Ci:void 0);let f=d?Bm(h,i):u===i?h:void 0;if(c&&!w0(f)&&(f=Bm(l,i)),w0(f)&&(s=f,a))return s;let p=t[r+1];r=a?Ol(p):ud(p)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(s=Bm(l,i))}return s}function w0(t){return t!==void 0}function aq(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Ea(vo(t)))),t}function tA(t,n){return(t.flags&(n?8:16))!==0}function A(t,n=""){let e=ot(),i=hn(),r=t+bn,o=i.firstCreatePass?pd(i,r,1,n,null):i.data[r],a=sq(i,e,o,n);e[r]=a,Qm()&&aC(i,e,a,o),td(o,!1)}var sq=(t,n,e,i)=>(Ch(!0),dH(n[dn],i));function nA(t,n,e,i=""){return Vr(t,Aa(),e)?n+yl(e)+i:Wi}function iA(t,n,e,i,r,o=""){let a=rM(),s=qz(t,a,e,r);return qm(2),s?n+yl(e)+i+yl(r)+o:Wi}function ht(t){return vt("",t),ht}function vt(t,n,e){let i=ot(),r=nA(i,t,n,e);return r!==Wi&&rA(i,Ko(),r),vt}function _o(t,n,e,i,r){let o=ot(),a=iA(o,t,n,e,i,r);return a!==Wi&&rA(o,Ko(),a),_o}function rA(t,n,e){let i=M1(n,t);uH(t[dn],i,e)}function Ot(t,n,e){CC(n)&&(n=n());let i=ot(),r=Aa();if(Vr(i,r,n)){let o=hn(),a=wh();nI(a,i,t,n,i[dn],e)}return Ot}function Lt(t,n){let e=CC(t);return e&&t.set(n),e}function Nt(t,n){let e=ot(),i=hn(),r=zn();return YI(i,e,e[dn],r,t,n),Nt}function MC(t){return Vr(ot(),Aa(),t)?yl(t):Wi}function jr(t,n,e=""){return nA(ot(),t,n,e)}function Es(t,n,e,i,r=""){return iA(ot(),t,n,e,i,r)}function tT(t,n,e){let i=hn();i.firstCreatePass&&oA(n,i.data,i.blueprint,ho(t),e)}function oA(t,n,e,i,r){if(t=Qn(t),Array.isArray(t))for(let o=0;o<t.length;o++)oA(t[o],n,e,i,r);else{let o=hn(),a=ot(),s=zn(),l=vl(t)?t:Qn(t.provide),c=w1(t),u=s.providerIndexes&1048575,d=s.directiveStart,h=s.providerIndexes>>20;if(vl(t)||!t.multi){let f=new Il(c,r,wt,null),p=rw(l,n,r?u:u+h,d);p===-1?(aw(d0(s,a),o,l),iw(o,t,n.length),n.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(f),a.push(f)):(e[p]=f,a[p]=f)}else{let f=rw(l,n,u+h,d),p=rw(l,n,u,u+h),g=f>=0&&e[f],v=p>=0&&e[p];if(r&&!v||!r&&!g){aw(d0(s,a),o,l);let _=dq(r?cq:lq,e.length,r,i,c,t);!r&&v&&(e[p].providerFactory=_),iw(o,t,n.length,0),n.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(_),a.push(_)}else{let _=aA(e[r?p:f],c,!r&&i);iw(o,t,f>-1?f:p,_)}!r&&i&&v&&e[p].componentProviders++}}}function iw(t,n,e,i){let r=vl(n),o=$k(n);if(r||o){let l=(o?Qn(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function aA(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function rw(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function lq(t,n,e,i,r){return Vw(this.multi,[])}function cq(t,n,e,i,r){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Sh(i,i[et],this.providerFactory.index,r);a=l.slice(0,s),Vw(o,a);for(let c=s;c<l.length;c++)a.push(l[c])}else a=[],Vw(o,a);return a}function Vw(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function dq(t,n,e,i,r,o){let a=new Il(t,e,wt,null);return a.multi=[],a.index=n,a.componentProviders=0,aA(a,r,i&&!e),a}function We(t,n){return e=>{e.providersResolver=(i,r)=>tT(i,r?r(t):t,!1),n&&(e.viewProvidersResolver=(i,r)=>tT(i,r?r(n):n,!0))}}function q0(t,n){return O0(t,n)}var C0=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},TC=(()=>{class t{compileModuleSync(e){return new _0(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=f1(e),o=UT(r.declarations).reduce((a,s)=>{let l=ka(s);return l&&a.push(new Rl(l)),a},[]);return new C0(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sA=(()=>{class t{applicationErrorHandler=m(Br);appRef=m(Un);taskService=m(Xo);ngZone=m(he);zonelessEnabled=m(rd);tracing=m(Jo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Km,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let e=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(e);return}this.switchToMicrotaskScheduler(),this.taskService.remove(e)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let e=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})})}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?vM:W1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.applicationErrorHandler(i)}finally{this.taskService.remove(e),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lA(){return[{provide:ao,useExisting:sA},{provide:he,useClass:fh},{provide:rd,useValue:!0}]}function uq(){return typeof $localize<"u"&&$localize.locale||zh}var Uh=new L("",{factory:()=>m(Uh,{optional:!0,skipSelf:!0})||uq()});function Hr(t,n){return Yu(t,n?.equal)}var mA=Symbol("InputSignalNode#UNSET"),bq=nt(G({},Ku),{transformFn:void 0,applyValueToInputSignal(t,n){Qu(t,n)}});function gA(t,n){let e=Object.create(bq);e.value=t,e.transformFn=n?.transform;function i(){if(Nc(e),e.value===mA){let r=null;throw new se(-950,r)}return e.value}return i[ii]=e,i}var Gi=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>Oh(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},vA=(()=>{let t=new L("");return t.__NG_ELEMENT_ID__=n=>{let e=zn();if(e===null)throw new se(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new se(204,!1)},t})();function cA(t,n){return gA(t,n)}function yq(t){return gA(mA,t)}var _A=(cA.required=yq,cA);function dA(t,n){return bC(n)}function wq(t,n){return yC(n)}var $h=(dA.required=wq,dA);function uA(t,n){return bC(n)}function Cq(t,n){return yC(n)}var bA=(uA.required=Cq,uA);var xq=(()=>{class t{zone=m(he);changeDetectionScheduler=m(ao);applicationRef=m(Un);applicationErrorHandler=m(Br);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dq=new L("",{factory:()=>!1});function Eq({ngZoneFactory:t,scheduleInRootZone:n}){return t??=()=>new he(nt(G({},wA()),{scheduleInRootZone:n})),[{provide:rd,useValue:!1},{provide:he,useFactory:t},{provide:Ma,multi:!0,useFactory:()=>{let e=m(xq,{optional:!0});return()=>e.initialize()}},{provide:Ma,multi:!0,useFactory:()=>{let e=m(Sq);return()=>{e.initialize()}}},{provide:Km,useValue:n??$1}]}function yA(t){let n=t?.scheduleInRootZone,e=Eq({ngZoneFactory:()=>{let i=wA(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ea("NgZone_CoalesceEvent"),new he(i)},scheduleInRootZone:n});return lo([{provide:Dq,useValue:!0},e])}function wA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Sq=(()=>{class t{subscription=new je;initialized=!1;zone=m(he);pendingTasks=m(Xo);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var AC=new L(""),kq=new L("");function qh(t){return!t.moduleRef}function Mq(t){let n=qh(t)?t.r3Injector:t.moduleRef.injector,e=n.get(he);return e.run(()=>{qh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=n.get(Br),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),qh(t)){let o=()=>n.destroy(),a=t.platformInjector.get(AC);a.add(o),n.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(AC);a.add(o),t.moduleRef.onDestroy(()=>{Eh(t.allPlatformModules,t.moduleRef),r.unsubscribe(),a.delete(o)})}return Iq(i,e,()=>{let o=n.get(Xo),a=o.add(),s=n.get(EC);return s.runInitializers(),s.donePromise.then(()=>{let l=n.get(Uh,zh);if(GI(l||zh),!n.get(kq,!0))return qh(t)?n.get(Un):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(qh(t)){let u=n.get(Un);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return Tq?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(a)})})})}var Tq;function Iq(t,n,e){try{let i=e();return Pl(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t(i)),i}}var $0=null;function Aq(t=[],n){return Ie.create({name:n,providers:[{provide:gh,useValue:"platform"},{provide:AC,useValue:new Set([()=>$0=null])},...t]})}function Rq(t=[]){if($0)return $0;let n=Aq(t);return $0=n,qI(),Oq(n),n}function Oq(t){let n=t.get(x0,null);oi(t,()=>{n?.forEach(e=>e())})}var Nq=1e4;var _Ee=Nq-1e3;var Ge=(()=>{class t{static __NG_ELEMENT_ID__=Fq}return t})();function Fq(t){return Pq(zn(),ot(),(t&16)===16)}function Pq(t,n,e){if(ys(t)&&!e){let i=Lr(t.index,n);return new Cs(i,i)}else if(t.type&175){let i=n[Ni];return new Cs(i,n)}return null}var RC=class{supports(n){return gC(n)}create(n){return new OC(n)}},Lq=(t,n)=>n,OC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||Lq}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let a=!i||e&&e.currentIndex<hA(i,r,o)?e:i,s=hA(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,a.previousIndex==null)r++;else{o||(o=[]);let c=s-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=a.previousIndex;o[d]=u-c}}s!==l&&n(a,s,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!gC(n))throw new se(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,r,o,a;if(Array.isArray(n)){this.length=n.length;for(let s=0;s<this.length;s++)o=n[s],a=this._trackByFn(s,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,s),i=!0):(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,CI(n,s=>{a=this._trackByFn(r,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,r),i=!0):(i&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new NC(e,i),o,r)),n}_verifyReinsertion(n,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new W0),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new W0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},NC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},FC=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},W0=class{map=new Map;put(n){let e=n.trackById,i=this.map.get(e);i||(i=new FC,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,r=this.map.get(i);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hA(t,n,e){let i=t.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}function fA(){return new ta([new RC])}var ta=(()=>{class t{factories;static \u0275prov=z({token:t,providedIn:"root",factory:fA});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:()=>{let i=m(t,{optional:!0,skipSelf:!0});return t.create(e,i||fA())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new se(901,!1)}}return t})();var CA=(()=>{class t{constructor(e){}static \u0275fac=function(i){return new(i||t)(Pe(Un))};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})();function xA(t){let{rootComponent:n,appProviders:e,platformProviders:i,platformRef:r}=t;nn(Pt.BootstrapApplicationStart);try{let o=r?.injector??Rq(i),a=[lA(),bM,...e||[]],s=new Ih({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return Mq({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{nn(Pt.BootstrapApplicationEnd)}}function _e(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function xn(t,n=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):n}var IC=Symbol("NOT_SET"),DA=new Set,Bq=nt(G({},Ku),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:IC,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==IC&&!Pc(this))return this.signal;try{for(let r of this.cleanup??DA)r()}finally{this.cleanup?.clear()}let n=[];t!==void 0&&n.push(t),n.push(this.registerCleanupFn);let e=ol(this),i;try{i=this.userFn.apply(null,n)}finally{Fc(this,e)}return(this.value===IC||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}}),PC=class extends kh{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(n,e,i,r,o,a=null){super(n,[void 0,void 0,void 0,void 0],i,!1,o.get(Fi),a),this.scheduler=r;for(let s of nC){let l=e[s];if(l===void 0)continue;let c=Object.create(Bq);c.sequence=this,c.phase=s,c.userFn=l,c.dirty=!0,c.signal=()=>(Nc(c),c.value),c.signal[ii]=c,c.registerCleanupFn=u=>(c.cleanup??=new Set).add(u),this.nodes[s]=c,this.hooks[s]=u=>c.phaseFn(u)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();super.destroy();for(let n of this.nodes)if(n)try{for(let e of n.cleanup??DA)e()}finally{hs(n)}}};function EA(t,n){let e=n?.injector??m(Ie),i=e.get(ao),r=e.get(T0),o=e.get(Jo,null,{optional:!0});r.impl??=e.get(iC);let a=t;typeof a=="function"&&(a={mixedReadWrite:t});let s=e.get(id,null,{optional:!0}),l=new PC(r.impl,[a.earlyRead,a.write,a.mixedReadWrite,a.read],s?.view,i,e,o?.snapshot(null));return r.impl.register(l),l}function G0(t,n){let e=ka(t),i=n.elementInjector||Kc();return new Rl(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}var cy=no(Ll());var o3=null;function yr(){return o3}function _x(t){o3??=t}var Jh=class{},Cd=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>m(a3),providedIn:"platform"})}return t})();var a3=(()=>{class t extends Cd{_location;_history;_doc=m(Re);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yr().getBaseHref(this._doc)}onPopState(e){let i=yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function c3(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function s3(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function ks(t){return t&&t[0]!=="?"?`?${t}`:t}var xd=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>m(TW),providedIn:"root"})}return t})(),MW=new L(""),TW=(()=>{class t extends xd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return c3(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+ks(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+ks(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+ks(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(Pe(Cd),Pe(MW,8))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ms=(()=>{class t{_subject=new $;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=RW(s3(l3(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ks(i))}normalize(e){return t.stripTrailingSlash(AW(this._basePath,l3(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ks(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ks(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=ks;static joinWithSlash=c3;static stripTrailingSlash=s3;static \u0275fac=function(i){return new(i||t)(Pe(xd))};static \u0275prov=z({token:t,factory:()=>IW(),providedIn:"root"})}return t})();function IW(){return new Ms(Pe(xd))}function AW(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function l3(t){return t.replace(/\/index.html$/,"")}function RW(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var bx=/\s+/,d3=[],ef=(()=>{class t{_ngEl;_renderer;initialClasses=d3;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(bx):d3}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(bx):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(bx).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(wt(ue),wt(gt))};static \u0275dir=ee({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var yx=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||t)(wt(rn))};static \u0275dir=ee({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[lt]})}return t})();var tf=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})();function nf(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var zl=class{};var wx="browser";function u3(t){return t===wx}var Cx;try{Cx=typeof Intl<"u"&&Intl.v8BreakIterator}catch(t){Cx=!1}var Je=(()=>{class t{_platformId=m(Nl);isBrowser=this._platformId?u3(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Cx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ha(t){return Array.isArray(t)?t:[t]}var h3=new Set,Ul,Dd=(()=>{class t{_platform=m(Je);_nonce=m(fd,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):PW}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&FW(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FW(t,n){if(!h3.has(t))try{Ul||(Ul=document.createElement("style"),n&&Ul.setAttribute("nonce",n),Ul.setAttribute("type","text/css"),document.head.appendChild(Ul)),Ul.sheet&&(Ul.sheet.insertRule(`@media ${t} {body{ }}`,0),h3.add(t))}catch(e){console.error(e)}}function PW(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var wo=(()=>{class t{_mediaMatcher=m(Dd);_zone=m(he);_queries=new Map;_destroySubject=new $;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return f3(Ha(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=f3(Ha(e)).map(a=>this._registerQuery(a).observable),o=pr(r);return o=$o(o.pipe(Ct(1)),o.pipe(sh(1),oo(0))),o.pipe(He(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new Ye(a=>{let s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(kt(i),He(({matches:a})=>({query:e,matches:a})),Qe(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function f3(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}var p3=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})(),Ts={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function fi(t,n=0){return yg(t)?Number(t):arguments.length===2?n:0}function yg(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Pi(t){return t instanceof ue?t.nativeElement:t}var LW=new L("cdk-dir-doc",{providedIn:"root",factory:()=>m(Re)}),BW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function m3(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?BW.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var $t=(()=>{class t{get value(){return this.valueSignal()}valueSignal=ze("ltr");change=new ae;constructor(){let e=m(LW,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(m3(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Co=(function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t})(Co||{}),wg,ql;function Cg(){if(ql==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ql=!1,ql;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ql=!0;else{let t=Element.prototype.scrollTo;t?ql=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ql=!1}}return ql}function Ed(){if(typeof document!="object"||!document)return Co.NORMAL;if(wg==null){let t=document.createElement("div"),n=t.style;t.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),wg=Co.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,wg=t.scrollLeft===0?Co.NEGATED:Co.INVERTED),t.remove()}return wg}var at=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})();var $l=class{};function Wl(t){return t&&typeof t.connect=="function"&&!(t instanceof Xu)}var xg=class extends $l{_data;constructor(n){super(),this._data=n}connect(){return qo(this._data)?this._data:Be(this._data)}disconnect(){}},xo=(function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t})(xo||{}),Sd=class{viewCacheSize=20;_viewCache=[];applyChanges(n,e,i,r,o){n.forEachOperation((a,s,l)=>{let c,u;if(a.previousIndex==null){let d=()=>i(a,s,l);c=this._insertView(d,l,e,r(a)),u=c?xo.INSERTED:xo.REPLACED}else l==null?(this._detachAndCacheView(s,e),u=xo.REMOVED):(c=this._moveView(s,l,e,r(a)),u=xo.MOVED);o&&o({context:c?.context,operation:u,record:a})})}detach(){for(let n of this._viewCache)n.destroy();this._viewCache=[]}_insertView(n,e,i,r){let o=this._insertViewFromCache(e,i);if(o){o.context.$implicit=r;return}let a=n();return i.createEmbeddedView(a.templateRef,a.context,a.index)}_detachAndCacheView(n,e){let i=e.detach(n);this._maybeCacheView(i,e)}_moveView(n,e,i,r){let o=i.get(n);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(n,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(n);else{let i=e.indexOf(n);i===-1?n.destroy():e.remove(i)}}_insertViewFromCache(n,e){let i=this._viewCache.pop();return i&&e.insert(i,n),i||null}};var VW=["contentWrapper"],jW=["*"],xx=new L("VIRTUAL_SCROLL_STRATEGY"),Dg=class{_scrolledIndexChange=new $;scrolledIndexChange=this._scrolledIndexChange.pipe(Wc());_viewport=null;_itemSize;_minBufferPx;_maxBufferPx;constructor(n,e,i){this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=i}attach(n){this._viewport=n,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(n,e,i){i<e,this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(n,e){this._viewport&&this._viewport.scrollToOffset(n*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let n=this._viewport.getRenderedRange(),e={start:n.start,end:n.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),a=this._itemSize>0?o/this._itemSize:0;if(e.end>r){let l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(a,r-l));a!=c&&(a=c,o=c*this._itemSize,e.start=Math.floor(a)),e.end=Math.max(0,Math.min(r,e.start+l))}let s=o-e.start*this._itemSize;if(s<this._minBufferPx&&e.start!=0){let l=Math.ceil((this._maxBufferPx-s)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(r,Math.ceil(a+(i+this._minBufferPx)/this._itemSize))}else{let l=e.end*this._itemSize-(o+i);if(l<this._minBufferPx&&e.end!=r){let c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(e.end=Math.min(r,e.end+c),e.start=Math.max(0,Math.floor(a-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(Math.round(this._itemSize*e.start)),this._scrolledIndexChange.next(Math.floor(a))}};var HW=20,zr=(()=>{class t{_ngZone=m(he);_platform=m(Je);_renderer=m(wn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new $;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=HW){return this._platform.isBrowser?new Ye(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(hl(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Be()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ze(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=Pi(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wr=(()=>{class t{elementRef=m(ue);scrollDispatcher=m(zr);ngZone=m(he);dir=m($t,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new $;_renderer=m(gt);_cleanupScroll;_elementScrolled=new $;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Ed()!=Co.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),Ed()==Co.INVERTED?e.left=e.right:Ed()==Co.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;Cg()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?r:i:e=="end"&&(e=a?i:r),a&&Ed()==Co.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&Ed()==Co.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),zW=20,Di=(()=>{class t{_platform=m(Je);_listeners;_viewportSize=null;_change=new $;_document=m(Re);constructor(){let e=m(he),i=m(wn).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body?.scrollTop||i.scrollY||r.scrollTop||0,s=-o.left||e.body?.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=zW){return e>0?this._change.pipe(hl(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),g3=new L("VIRTUAL_SCROLLABLE"),UW=(()=>{class t extends wr{constructor(){super()}measureViewportSize(e){let i=this.elementRef.nativeElement;return e==="horizontal"?i.clientWidth:i.clientHeight}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,features:[Le]})}return t})();function qW(t,n){return t.start==n.start&&t.end==n.end}var $W=typeof requestAnimationFrame<"u"?nh:th,Eg=new L("CDK_VIRTUAL_SCROLL_VIEWPORT"),Dx=(()=>{class t extends UW{elementRef=m(ue);_changeDetectorRef=m(Ge);_scrollStrategy=m(xx,{optional:!0});scrollable=m(g3,{optional:!0});_platform=m(Je);_detachedSubject=new $;_renderedRangeSubject=new $;_renderedContentOffsetSubject=new $;get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}_orientation="vertical";appendOnly=!1;scrolledIndexChange=new Ye(e=>this._scrollStrategy.scrolledIndexChange.subscribe(i=>Promise.resolve().then(()=>this.ngZone.run(()=>e.next(i)))));_contentWrapper;renderedRangeStream=this._renderedRangeSubject;renderedContentOffset=this._renderedContentOffsetSubject.pipe(Ze(e=>e!==null),Wc());_totalContentSize=0;_totalContentWidth=ze("");_totalContentHeight=ze("");_renderedContentTransform;_renderedRange={start:0,end:0};_dataLength=0;_viewportSize=0;_forOf=null;_renderedContentOffset=0;_renderedContentOffsetNeedsRewrite=!1;_changeDetectionNeeded=ze(!1);_runAfterChangeDetection=[];_viewportChanges=je.EMPTY;_injector=m(Ie);_isDestroyed=!1;constructor(){super();let e=m(Di);this._scrollStrategy,this._viewportChanges=e.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this);let i=Ra(()=>{this._changeDetectionNeeded()&&this._doChangeDetection()},{injector:m(Un).injector});m(Fi).onDestroy(()=>{i.destroy()})}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(kt(null),hl(0,$W),Qe(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(e){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Qe(this._detachedSubject)).subscribe(i=>{let r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){qW(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&i==="to-start"?0:e;let r=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",a=o?"X":"Y",l=`translate${a}(${Number((o&&r?-1:1)*e)}px)`;this._renderedContentOffset=e,i==="to-end"&&(l+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){let r={behavior:i};this.orientation==="horizontal"?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return this.scrollable==this?i=r=>super.measureScrollOffset(r):i=r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i,r="left",o="right",a=this.dir?.value=="rtl";e=="start"?i=a?o:r:e=="end"?i=a?r:o:e?i=e:i=this.orientation==="horizontal"?"left":"top";let s=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-s}measureRenderedContentSize(){let e=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),!Nn(this._changeDetectionNeeded)&&this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.ngZone.run(()=>{this._changeDetectionNeeded.set(!0)})})})}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this._renderedContentOffsetSubject.next(this.getOffsetToRenderedContentStart()),At(()=>{this._changeDetectionNeeded.set(!1);let e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let i of e)i()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight.set(this.orientation==="horizontal"?"":`${this._totalContentSize}px`),this._totalContentWidth.set(this.orientation==="horizontal"?`${this._totalContentSize}px`:"")}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,r){if(i&1&&Xe(VW,7),i&2){let o;ne(o=ie())&&(r._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,r){i&2&&Ee("cdk-virtual-scroll-orientation-horizontal",r.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",r.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",_e]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[We([{provide:wr,useFactory:()=>m(g3,{optional:!0})||m(t)},{provide:Eg,useExisting:t}]),Le],ngContentSelectors:jW,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(i,r){i&1&&(tt(),qe(0,"div",1,0),De(2),$e(),on(3,"div",2)),i&2&&(M(3),Fn("width",r._totalContentWidth())("height",r._totalContentHeight()))},styles:[`cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}
`],encapsulation:2,changeDetection:0})}return t})();function v3(t,n,e){let i=e;if(!i.getBoundingClientRect)return 0;let r=i.getBoundingClientRect();return t==="horizontal"?n==="start"?r.left:r.right:n==="start"?r.top:r.bottom}var Ex=(()=>{class t{_viewContainerRef=m(rn);_template=m(Qt);_differs=m(ta);_viewRepeater=new Sd;_viewport=m(Eg,{skipSelf:!0});viewChange=new $;_dataSourceChanges=new $;get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,Wl(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new xg(qo(e)?e:Array.from(e||[])))}_cdkVirtualForOf;get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}_cdkVirtualForTrackBy;set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=fi(e)}dataStream=this._dataSourceChanges.pipe(kt(null),rh(),en(([e,i])=>this._changeDataSource(e,i)),ah(1));_differ=null;_data=[];_renderedItems=[];_renderedRange={start:0,end:0};_needsUpdate=!1;_destroyed=new $;constructor(){let e=m(he);this.dataStream.subscribe(i=>{this._data=i,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Qe(this._destroyed)).subscribe(i=>{this._renderedRange=i,this.viewChange.observers.length&&e.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(e,i){if(e.start>=e.end)return 0;e.start<this._renderedRange.start||e.end>this._renderedRange.end;let r=e.start-this._renderedRange.start,o=e.end-e.start,a,s;for(let l=0;l<o;l++){let c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=s=c.rootNodes[0];break}}for(let l=o-1;l>-1;l--){let c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){s=c.rootNodes[c.rootNodes.length-1];break}}return a&&s?v3(i,"end",s)-v3(i,"start",a):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Be()}_updateContext(){let e=this._data.length,i=this._viewContainerRef.length;for(;i--;){let r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,a,s)=>this._getEmbeddedViewArgs(o,s),o=>o.item),e.forEachIdentityChange(o=>{let a=this._viewContainerRef.get(o.currentIndex);a.context.$implicit=o.item});let i=this._data.length,r=this._viewContainerRef.length;for(;r--;){let o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=e.index===0,e.last=e.index===e.count-1,e.even=e.index%2===0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"}})}return t})();var Qi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})(),Gl=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at,Qi,at,Qi]})}return t})();var Is=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(n,e){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var kg=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Mg=class{encodeKey(n){return _3(n)}encodeValue(n){return _3(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function GW(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var YW=/%(\d[a-f0-9])/gi,QW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _3(t){return encodeURIComponent(t).replace(YW,(n,e)=>QW[e]??n)}function Sg(t){return`${t}`}var za=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Mg,n.fromString){if(n.fromObject)throw new se(2805,!1);this.map=GW(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(Sg):[Sg(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Sg(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Sg(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function KW(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function b3(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function y3(t){return typeof Blob<"u"&&t instanceof Blob}function w3(t){return typeof FormData<"u"&&t instanceof FormData}function XW(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var C3="Content-Type",x3="Accept",E3="text/plain",S3="application/json",ZW=`${S3}, ${E3}, */*`,kd=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,i,r){this.url=e,this.method=n.toUpperCase();let o;if(KW(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new se(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Is,this.context??=new kg,!this.params)this.params=new za,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||b3(this.body)||y3(this.body)||w3(this.body)||XW(this.body)?this.body:this.body instanceof za?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||w3(this.body)?null:y3(this.body)?this.body.type||null:b3(this.body)?null:typeof this.body=="string"?E3:this.body instanceof za?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?S3:null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.keepalive??this.keepalive,a=n.priority||this.priority,s=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.referrer||this.referrer,h=n.integrity||this.integrity,f=n.referrerPolicy||this.referrerPolicy,p=n.transferCache??this.transferCache,g=n.timeout??this.timeout,v=n.body!==void 0?n.body:this.body,_=n.withCredentials??this.withCredentials,y=n.reportProgress??this.reportProgress,D=n.headers||this.headers,b=n.params||this.params,C=n.context??this.context;return n.setHeaders!==void 0&&(D=Object.keys(n.setHeaders).reduce((k,O)=>k.set(O,n.setHeaders[O]),D)),n.setParams&&(b=Object.keys(n.setParams).reduce((k,O)=>k.set(O,n.setParams[O]),b)),new t(e,i,v,{params:b,headers:D,context:C,reportProgress:y,responseType:r,withCredentials:_,transferCache:p,keepalive:o,cache:s,priority:a,timeout:g,mode:l,redirect:c,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},Yl=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Yl||{}),Td=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,e=200,i="OK"){this.headers=n.headers||new Is,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},Tg=class t extends Td{constructor(n={}){super(n)}type=Yl.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},rf=class t extends Td{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Yl.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},Md=class extends Td{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},JW=200,eG=204;var tG=new L("");var nG=/^\)\]\}',?\n/;var kx=(()=>{class t{xhrFactory;tracingService=m(Jo,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new se(-2800,!1);let i=this.xhrFactory;return Be(null).pipe(en(()=>new Ye(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((v,_)=>a.setRequestHeader(v,_.join(","))),e.headers.has(x3)||a.setRequestHeader(x3,ZW),!e.headers.has(C3)){let v=e.detectContentTypeHeader();v!==null&&a.setRequestHeader(C3,v)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let v=e.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=a.statusText||"OK",_=new Is(a.getAllResponseHeaders()),y=a.responseURL||e.url;return l=new Tg({headers:_,status:a.status,statusText:v,url:y}),l},u=this.maybePropagateTrace(()=>{let{headers:v,status:_,statusText:y,url:D}=c(),b=null;_!==eG&&(b=typeof a.response>"u"?a.responseText:a.response),_===0&&(_=b?JW:0);let C=_>=200&&_<300;if(e.responseType==="json"&&typeof b=="string"){let k=b;b=b.replace(nG,"");try{b=b!==""?JSON.parse(b):null}catch(O){b=k,C&&(C=!1,b={error:O,text:b})}}C?(o.next(new rf({body:b,headers:v,status:_,statusText:y,url:D||void 0})),o.complete()):o.error(new Md({error:b,headers:v,status:_,statusText:y,url:D||void 0}))}),d=this.maybePropagateTrace(v=>{let{url:_}=c(),y=new Md({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:_||void 0});o.error(y)}),h=d;e.timeout&&(h=this.maybePropagateTrace(v=>{let{url:_}=c(),y=new Md({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:_||void 0});o.error(y)}));let f=!1,p=this.maybePropagateTrace(v=>{f||(o.next(c()),f=!0);let _={type:Yl.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),e.responseType==="text"&&a.responseText&&(_.partialText=a.responseText),o.next(_)}),g=this.maybePropagateTrace(v=>{let _={type:Yl.UploadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),o.next(_)});return a.addEventListener("load",u),a.addEventListener("error",d),a.addEventListener("timeout",h),a.addEventListener("abort",d),e.reportProgress&&(a.addEventListener("progress",p),s!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(s),o.next({type:Yl.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",u),a.removeEventListener("timeout",h),e.reportProgress&&(a.removeEventListener("progress",p),s!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||t)(Pe(zl))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function k3(t,n){return n(t)}function iG(t,n){return(e,i)=>n.intercept(e,{handle:r=>t(r,i)})}function rG(t,n,e){return(i,r)=>oi(e,()=>n(i,o=>t(o,r)))}var M3=new L(""),Mx=new L("",{factory:()=>[]}),T3=new L(""),Tx=new L("",{factory:()=>!0});function oG(){let t=null;return(n,e)=>{t===null&&(t=(m(M3,{optional:!0})??[]).reduceRight(iG,k3));let i=m(xh);if(m(Tx)){let o=i.add();return t(n,e).pipe(ms(o))}else return t(n,e)}}var Ix=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=Pe(kx),r},providedIn:"root"})}return t})();var Ig=(()=>{class t{backend;injector;chain=null;pendingTasks=m(xh);contributeToStability=m(Tx);constructor(e,i){this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Mx),...this.injector.get(T3,[])]));this.chain=i.reduceRight((r,o)=>rG(r,o,this.injector),k3)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(ms(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(Pe(Ix),Pe(Yt))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ax=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=Pe(Ig),r},providedIn:"root"})}return t})();function Sx(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var na=(()=>{class t{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof kd)o=e;else{let l;r.headers instanceof Is?l=r.headers:l=new Is(r.headers);let c;r.params&&(r.params instanceof za?c=r.params:c=new za({fromObject:r.params})),o=new kd(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let a=Be(o).pipe(qc(l=>this.handler.handle(l)));if(e instanceof kd||r.observe==="events")return a;let s=a.pipe(Ze(l=>l instanceof rf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(He(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new se(2806,!1);return l.body}));case"blob":return s.pipe(He(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new se(2807,!1);return l.body}));case"text":return s.pipe(He(l=>{if(l.body!==null&&typeof l.body!="string")throw new se(2808,!1);return l.body}));default:return s.pipe(He(l=>l.body))}case"response":return s;default:throw new se(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new za().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Sx(r,i))}post(e,i,r={}){return this.request("POST",e,Sx(r,i))}put(e,i,r={}){return this.request("PUT",e,Sx(r,i))}static \u0275fac=function(i){return new(i||t)(Pe(Ax))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var aG=new L("",{factory:()=>!0}),sG="XSRF-TOKEN",lG=new L("",{factory:()=>sG}),cG="X-XSRF-TOKEN",dG=new L("",{factory:()=>cG}),uG=(()=>{class t{cookieName=m(lG);doc=m(Re);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=nf(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),I3=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=Pe(uG),r},providedIn:"root"})}return t})();function hG(t,n){if(!m(aG)||t.method==="GET"||t.method==="HEAD")return n(t);try{let r=m(Cd).href,{origin:o}=new URL(r),{origin:a}=new URL(t.url,o);if(o!==a)return n(t)}catch(r){return n(t)}let e=m(I3).getToken(),i=m(dG);return e!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,e)})),n(t)}var Rx=(function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t})(Rx||{});function fG(t,n){return{\u0275kind:t,\u0275providers:n}}function Ox(...t){let n=[na,Ig,{provide:Ax,useExisting:Ig},{provide:Ix,useFactory:()=>m(tG,{optional:!0})??m(kx)},{provide:Mx,useValue:hG,multi:!0}];for(let e of t)n.push(...e.\u0275providers);return lo(n)}var D3=new L("");function Nx(){return fG(Rx.LegacyInterceptors,[{provide:D3,useFactory:oG},{provide:Mx,useExisting:D3,multi:!0}])}var L3=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(wt(gt),wt(ue))};static \u0275dir=ee({type:t})}return t})(),B3=(()=>{class t extends L3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,features:[Le]})}return t})(),ia=new L("");var mG={provide:ia,useExisting:Rn(()=>Dn),multi:!0};function gG(){let t=yr()?yr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var vG=new L(""),Dn=(()=>{class t extends L3{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!gG())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||t)(wt(gt),wt(ue),wt(vG,8))};static \u0275dir=ee({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Y("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[We([mG]),Le]})}return t})();function Px(t){return t==null||Lx(t)===0}function Lx(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Rd=new L(""),Ug=new L(""),_G=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,As=class{static min(n){return bG(n)}static max(n){return yG(n)}static required(n){return wG(n)}static requiredTrue(n){return CG(n)}static email(n){return xG(n)}static minLength(n){return DG(n)}static maxLength(n){return EG(n)}static pattern(n){return SG(n)}static nullValidator(n){return V3()}static compose(n){return $3(n)}static composeAsync(n){return W3(n)}};function bG(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function yG(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function wG(t){return Px(t.value)?{required:!0}:null}function CG(t){return t.value===!0?null:{required:!0}}function xG(t){return Px(t.value)||_G.test(t.value)?null:{email:!0}}function DG(t){return n=>{let e=n.value?.length??Lx(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function EG(t){return n=>{let e=n.value?.length??Lx(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function SG(t){if(!t)return V3;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Px(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function V3(t){return null}function j3(t){return t!=null}function H3(t){return Pl(t)?_n(t):t}function z3(t){let n={};return t.forEach(e=>{n=e!=null?G(G({},n),e):n}),Object.keys(n).length===0?null:n}function U3(t,n){return n.map(e=>e(t))}function kG(t){return!t.validate}function q3(t){return t.map(n=>kG(n)?n:e=>n.validate(e))}function $3(t){if(!t)return null;let n=t.filter(j3);return n.length==0?null:function(e){return z3(U3(e,n))}}function Bx(t){return t!=null?$3(q3(t)):null}function W3(t){if(!t)return null;let n=t.filter(j3);return n.length==0?null:function(e){let i=U3(e,n).map(H3);return ul(i).pipe(He(z3))}}function Vx(t){return t!=null?W3(q3(t)):null}function A3(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function G3(t){return t._rawValidators}function Y3(t){return t._rawAsyncValidators}function Fx(t){return t?Array.isArray(t)?t:[t]:[]}function Rg(t,n){return Array.isArray(t)?t.includes(n):t===n}function R3(t,n){let e=Fx(n);return Fx(t).forEach(r=>{Rg(e,r)||e.push(r)}),e}function O3(t,n){return Fx(n).filter(e=>!Rg(t,e))}var Og=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Bx(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Vx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Ua=class extends Og{name;get formDirective(){return null}get path(){return null}},Ur=class extends Og{_parent=null;name=null;valueAccessor=null},Ng=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Wn=(()=>{class t extends Ng{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(wt(Ur,2))};static \u0275dir=ee({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Le]})}return t})(),Os=(()=>{class t extends Ng{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(wt(Ua,10))};static \u0275dir=ee({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Le]})}return t})();var of="VALID",Ag="INVALID",Id="PENDING",af="DISABLED",Rs=class{},Fg=class extends Rs{value;source;constructor(n,e){super(),this.value=n,this.source=e}},lf=class extends Rs{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},cf=class extends Rs{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Ad=class extends Rs{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Pg=class extends Rs{source;constructor(n){super(),this.source=n}},Lg=class extends Rs{source;constructor(n){super(),this.source=n}};function Q3(t){return(qg(t)?t.validators:t)||null}function MG(t){return Array.isArray(t)?Bx(t):t||null}function K3(t,n){return(qg(n)?n.asyncValidators:t)||null}function TG(t){return Array.isArray(t)?Vx(t):t||null}function qg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function IG(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new se(1e3,"");if(!i[e])throw new se(1001,"")}function AG(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new se(1002,"")})}var Bg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(n){Nn(()=>this.statusReactive.set(n))}_status=Hr(()=>this.statusReactive());statusReactive=ze(void 0);get valid(){return this.status===of}get invalid(){return this.status===Ag}get pending(){return this.status==Id}get disabled(){return this.status===af}get enabled(){return this.status!==af}errors;get pristine(){return Nn(this.pristineReactive)}set pristine(n){Nn(()=>this.pristineReactive.set(n))}_pristine=Hr(()=>this.pristineReactive());pristineReactive=ze(!0);get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(n){Nn(()=>this.touchedReactive.set(n))}_touched=Hr(()=>this.touchedReactive());touchedReactive=ze(!1);get untouched(){return!this.touched}_events=new $;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(R3(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(R3(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(O3(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(O3(n,this._rawAsyncValidators))}hasValidator(n){return Rg(this._rawValidators,n)}hasAsyncValidator(n){return Rg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(nt(G({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new cf(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new cf(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(nt(G({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new lf(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new lf(!0,i))}markAsPending(n={}){this.status=Id;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ad(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(nt(G({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=af,this.errors=null,this._forEachChild(r=>{r.disable(nt(G({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Fg(this.value,i)),this._events.next(new Ad(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(nt(G({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=of,this._forEachChild(i=>{i.enable(nt(G({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(nt(G({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===of||this.status===Id)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Fg(this.value,e)),this._events.next(new Ad(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(nt(G({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?af:of}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Id,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let i=H3(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Ad(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?af:this.errors?Ag:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Id)?Id:this._anyControlsHaveStatus(Ag)?Ag:of}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new lf(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new cf(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){qg(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=MG(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=TG(this._rawAsyncValidators)}},Vg=class extends Bg{constructor(n,e,i){super(Q3(e),K3(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){AG(this,!0,n),Object.keys(n).forEach(i=>{IG(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,nt(G({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Lg(this))}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Od=new L("",{factory:()=>$g}),$g="always";function RG(t,n){return[...n.path,t]}function df(t,n,e=$g){jx(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),NG(t,n),PG(t,n),FG(t,n),OG(t,n)}function jg(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),zg(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Hg(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function OG(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function jx(t,n){let e=G3(t);n.validator!==null?t.setValidators(A3(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=Y3(t);n.asyncValidator!==null?t.setAsyncValidators(A3(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Hg(n._rawValidators,r),Hg(n._rawAsyncValidators,r)}function zg(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=G3(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let r=Y3(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Hg(n._rawValidators,i),Hg(n._rawAsyncValidators,i),e}function NG(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&X3(t,n)})}function FG(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&X3(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function X3(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PG(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Z3(t,n){t==null,jx(t,n)}function LG(t,n){return zg(t,n)}function J3(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function BG(t){return Object.getPrototypeOf(t.constructor)===B3}function eR(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tR(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===Dn?e=o:BG(o)?i=o:r=o}),r||i||e||null}function VG(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var jG={provide:Ua,useExisting:Rn(()=>Ki)},sf=Promise.resolve(),Ki=(()=>{class t extends Ua{callSetDisabledState;get submitted(){return Nn(this.submittedReactive)}_submitted=Hr(()=>this.submittedReactive());submittedReactive=ze(!1);_directives=new Set;form;ngSubmit=new ae;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new Vg({},Bx(e),Vx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){sf.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),df(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){sf.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){sf.then(()=>{let i=this._findContainer(e.path),r=new Vg({});Z3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){sf.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){sf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),eR(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Pg(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||t)(wt(Rd,10),wt(Ug,10),wt(Od,8))};static \u0275dir=ee({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Y("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[We([jG]),Le]})}return t})();function N3(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function F3(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Hx=class extends Bg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,i){super(Q3(e),K3(i,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(F3(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Lg(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){N3(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){N3(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){F3(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Ql=Hx,HG=t=>t instanceof Hx;var zG={provide:Ur,useExisting:Rn(()=>pi)},P3=Promise.resolve(),pi=(()=>{class t extends Ur{_changeDetectorRef;callSetDisabledState;control=new Hx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ae;constructor(e,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tR(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),J3(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){df(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){P3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&_e(i);P3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?RG(e,this._parent):[e]}static \u0275fac=function(i){return new(i||t)(wt(Ua,9),wt(Rd,10),wt(Ug,10),wt(ia,10),wt(Ge,8),wt(Od,8))};static \u0275dir=ee({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[We([zG]),Le,lt]})}return t})();var Ns=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),UG={provide:ia,useExisting:Rn(()=>zx),multi:!0},zx=(()=>{class t extends B3{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&Y("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[We([UG]),Le]})}return t})();var qG=(()=>{class t extends Ua{callSetDisabledState;get submitted(){return Nn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Hr(()=>this._submittedReactive());_submittedReactive=ze(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(zg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){let i=this.form.get(e.path);return df(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){jg(e.control||null,e,!1),VG(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,i){this.form.get(e.path).setValue(i)}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,eR(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Pg(this.control)),e?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(jg(i||null,e),HG(r)&&(df(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Z3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&LG(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jx(this.form,this),this._oldForm&&zg(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||t)(wt(Rd,10),wt(Ug,10),wt(Od,8))};static \u0275dir=ee({type:t,features:[Le,lt]})}return t})();var nR=new L(""),$G={provide:Ur,useExisting:Rn(()=>uf)},uf=(()=>{class t extends Ur{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=tR(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&jg(i,this,!1),df(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}J3(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&jg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||t)(wt(Rd,10),wt(Ug,10),wt(ia,10),wt(nR,8),wt(Od,8))};static \u0275dir=ee({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[We([$G]),Le,lt]})}return t})();var WG={provide:Ua,useExisting:Rn(()=>Nd)},Nd=(()=>{class t extends qG{form=null;ngSubmit=new ae;get control(){return this.form}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Y("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[We([WG]),Le]})}return t})();var iR=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})();var En=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Od,useValue:e.callSetDisabledState??$g}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[iR]})}return t})(),Fd=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:nR,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Od,useValue:e.callSetDisabledState??$g}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[iR]})}return t})();function Kl(t){return t.buttons===0||t.detail===0}function Xl(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var Ux;function rR(){if(Ux==null){let t=typeof document<"u"?document.head:null;Ux=!!(t&&(t.createShadowRoot||t.attachShadow))}return Ux}function qx(t){if(rR()){let n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Cr(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function Jn(t){return t.composedPath?t.composedPath()[0]:t.target}var hf;function oR(){if(hf==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hf=!0}))}finally{hf=hf||!1}return hf}function Pd(t){return oR()?t:!!t.capture}var aR=new L("cdk-input-modality-detector-options"),sR={ignoreKeys:[18,17,224,91,16]},lR=650,$x={passive:!0,capture:!0},cR=(()=>{class t{_platform=m(Je);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Wt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Jn(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<lR||(this._modality.next(Kl(e)?"keyboard":"mouse"),this._mostRecentTarget=Jn(e))};_onTouchstart=e=>{if(Xl(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Jn(e)};constructor(){let e=m(he),i=m(Re),r=m(aR,{optional:!0});if(this._options=G(G({},sR),r),this.modalityDetected=this._modality.pipe(sh(1)),this.modalityChanged=this.modalityDetected.pipe(Wc()),this._platform.isBrowser){let o=m(wn).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,$x),o.listen(i,"mousedown",this._onMousedown,$x),o.listen(i,"touchstart",this._onTouchstart,$x)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ff=(function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t})(ff||{}),dR=new L("cdk-focus-monitor-default-options"),Wg=Pd({passive:!0,capture:!0}),ei=(()=>{class t{_ngZone=m(he);_platform=m(Je);_inputModalityDetector=m(cR);_origin=null;_lastFocusOrigin=null;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=m(Re);_stopInputModalityDetector=new $;constructor(){let e=m(dR,{optional:!0});this._detectionMode=e?.detectionMode||ff.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=Jn(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=Pi(e);if(!this._platform.isBrowser||r.nodeType!==1)return Be();let o=qx(r)||this._document,a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new $,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=Pi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=Pi(e),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ff.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===ff.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?lR:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=Jn(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wg)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qe(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wx=(()=>{class t{_elementRef=m(ue);_focusMonitor=m(ei);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ae;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();var Gg=new WeakMap,Ft=(()=>{class t{_appRef;_injector=m(Ie);_environmentInjector=m(Yt);load(e){let i=this._appRef=this._appRef||this._injector.get(Un),r=Gg.get(i);r||(r={loaders:new Set,refs:[]},Gg.set(i,r),i.onDestroy(()=>{Gg.get(i)?.refs.forEach(o=>o.destroy()),Gg.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(G0(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qr=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})(),Yg;function GG(){if(Yg===void 0&&(Yg=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Yg=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Yg}function Zl(t){return GG()?.createHTML(t)||t}function uR(t,n,e){let i=e.sanitize(Xn.HTML,n);t.innerHTML=Zl(i||"")}var pf=class{_doc;constructor(n){this._doc=n}manager},Qg=(()=>{class t extends pf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(Pe(Re))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Zg=new L(""),Kx=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof Qg));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof Qg);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new se(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||t)(Pe(Zg),Pe(he))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Gx="ng-app-id";function hR(t){for(let n of t)n.remove()}function fR(t,n){let e=n.createElement("style");return e.textContent=t,e}function YG(t,n,e,i){let r=t.head?.querySelectorAll(`style[${Gx}="${n}"],link[${Gx}="${n}"]`);if(r)for(let o of r)o.removeAttribute(Gx),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Qx(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Xx=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,YG(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,fR);i?.forEach(r=>this.addUsage(r,this.external,Qx))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(hR(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])hR(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,fR(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Qx(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||t)(Pe(Re),Pe(xs),Pe(fd,8),Pe(Nl))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Yx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zx=/%COMP%/g;var mR="%COMP%",QG=`_nghost-${mR}`,KG=`_ngcontent-${mR}`,XG=!0,ZG=new L("",{factory:()=>XG});function JG(t){return KG.replace(Zx,t)}function eY(t){return QG.replace(Zx,t)}function gR(t,n){return n.map(e=>e.replace(Zx,t))}var vf=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,i,r,o,a,s,l=null,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=l,this.tracingService=c,this.defaultRenderer=new mf(e,a,s,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof Xg?r.applyToHost(e):r instanceof gf&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(i.encapsulation){case go.Emulated:o=new Xg(l,c,i,this.appId,u,a,s,d);break;case go.ShadowDom:return new Kg(l,e,i,a,s,this.nonce,d,c);case go.ExperimentalIsolatedShadowDom:return new Kg(l,e,i,a,s,this.nonce,d);default:o=new gf(l,c,i,u,a,s,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||t)(Pe(Kx),Pe(Xx),Pe(xs),Pe(ZG),Pe(Re),Pe(he),Pe(fd),Pe(Jo,8))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),mf=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Yx[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(pR(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(pR(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new se(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Yx[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Yx[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Na.DashCase|Na.Important)?n.style.setProperty(e,i,r&Na.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Na.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i,r){if(typeof n=="string"&&(n=yr().getGlobalEventTarget(this.doc,n),!n))throw new se(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,r)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;n(e)===!1&&e.preventDefault()}}};function pR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Kg=class extends mf{hostEl;sharedStylesHost;shadowRoot;constructor(n,e,i,r,o,a,s,l){super(n,r,o,s),this.hostEl=e,this.sharedStylesHost=l,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=gR(i.id,c);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}let u=i.getExternalStyles?.();if(u)for(let d of u){let h=Qx(d,r);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},gf=class extends mf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,i,r,o,a,s,l){super(n,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let c=i.styles;this.styles=l?gR(l,c):c,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Al.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xg=class extends gf{contentAttr;hostAttr;constructor(n,e,i,r,o,a,s,l){let c=r+"-"+i.id;super(n,e,i,o,a,s,l,c),this.contentAttr=JG(c),this.hostAttr=eY(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}};var Jg=class t extends Jh{supportsDOMEvents=!0;static makeCurrent(){_x(new t)}onAndCancel(n,e,i,r){return n.addEventListener(e,i,r),()=>{n.removeEventListener(e,i,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=tY();return e==null?null:nY(e)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return nf(document.cookie,n)}},_f=null;function tY(){return _f=_f||document.head.querySelector("base"),_f?_f.getAttribute("href"):null}function nY(t){return new URL(t,document.baseURI).pathname}var ev=class{addToWindow(n){Ri.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new se(5103,!1);return o},Ri.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ri.getAllAngularRootElements=()=>n.getAllRootElements();let e=i=>{let r=Ri.getAllAngularTestabilities(),o=r.length,a=function(){o--,o==0&&i()};r.forEach(s=>{s.whenStable(a)})};Ri.frameworkStabilizers||(Ri.frameworkStabilizers=[]),Ri.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,i){if(e==null)return null;let r=n.getTestability(e);return r??(i?yr().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},iY=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),vR=["alt","control","meta","shift"],rY={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_R=(()=>{class t extends pf{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=t.parseEventName(i),s=t.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yr().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),vR.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),a+=c+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let r=rY[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),vR.forEach(a=>{if(a!==r){let s=oY[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||t)(Pe(Re))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Jx(t,n,e){return te(this,null,function*(){let i=G({rootComponent:t},aY(n,e));return xA(i)})}function aY(t,n){return{platformRef:n?.platformRef,appProviders:[...bR,...t?.providers??[]],platformProviders:dY}}function sY(){Jg.makeCurrent()}function lY(){return new qi}function cY(){return zw(document),document}var dY=[{provide:Nl,useValue:wx},{provide:x0,useValue:sY,multi:!0},{provide:Re,useFactory:cY}];var uY=[{provide:B0,useClass:ev},{provide:L0,useClass:Hh},{provide:Hh,useClass:Hh}],bR=[{provide:gh,useValue:"root"},{provide:qi,useFactory:lY},{provide:Zg,useClass:Qg,multi:!0},{provide:Zg,useClass:_R,multi:!0},vf,Xx,Kx,{provide:wn,useExisting:vf},{provide:zl,useClass:iY},[]],bf=(()=>{class t{constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[...bR,...uY],imports:[tf,CA]})}return t})();var yR=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||t)(Pe(Re))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yf=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=Pe(hY),r},providedIn:"root"})}return t})(),hY=(()=>{class t extends yf{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Xn.NONE:return i;case Xn.HTML:return Pa(i,"HTML")?vo(i):Qw(this._doc,String(i)).toString();case Xn.STYLE:return Pa(i,"Style")?vo(i):i;case Xn.SCRIPT:if(Pa(i,"Script"))return vo(i);throw new se(5200,!1);case Xn.URL:return Pa(i,"URL")?vo(i):Nh(String(i));case Xn.RESOURCE_URL:if(Pa(i,"ResourceURL"))return vo(i);throw new se(5201,!1);default:throw new se(5202,!1)}}bypassSecurityTrustHtml(e){return qw(e)}bypassSecurityTrustStyle(e){return $w(e)}bypassSecurityTrustScript(e){return Ww(e)}bypassSecurityTrustUrl(e){return Gw(e)}bypassSecurityTrustResourceUrl(e){return Yw(e)}static \u0275fac=function(i){return new(i||t)(Pe(Re))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fY(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let n=0;n<t.addedNodes.length;n++)if(!(t.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<t.removedNodes.length;n++)if(!(t.removedNodes[n]instanceof Comment))return!1;return!0}return!1}var CR=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xR=(()=>{class t{_mutationObserverFactory=m(CR);_observedElements=new Map;_ngZone=m(he);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Pi(e);return new Ye(r=>{let a=this._observeElement(i).pipe(He(s=>s.filter(l=>!fY(l))),Ze(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{r.next(s)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new $,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),DR=(()=>{class t{_contentObserver=m(xR);_elementRef=m(ue);event=new ae;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=fi(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(oo(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",_e],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),Ld=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[CR]})}return t})();var Bd=(()=>{class t{_platform=m(Je);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return mY(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=pY(xY(e));if(i&&(ER(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=ER(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!wY(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return CY(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pY(t){try{return t.frameElement}catch(n){return null}}function mY(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function gY(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function vY(t){return bY(t)&&t.type=="hidden"}function _Y(t){return yY(t)&&t.hasAttribute("href")}function bY(t){return t.nodeName.toLowerCase()=="input"}function yY(t){return t.nodeName.toLowerCase()=="a"}function MR(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function ER(t){if(!MR(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function wY(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function CY(t){return vY(t)?!1:gY(t)||_Y(t)||t.hasAttribute("contenteditable")||MR(t)}function xY(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var tv=class{_element;_checker;_ngZone;_document;_injector;_startAnchor=null;_endAnchor=null;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,e,i,r,o=!1,a){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){let e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?At(n,{injector:this._injector}):setTimeout(n)}},Vd=(()=>{class t{_checker=m(Bd);_ngZone=m(he);_document=m(Re);_injector=m(Ie);constructor(){m(Ft).load(qr)}create(e,i=!1){return new tv(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tD=(()=>{class t{_elementRef=m(ue);_focusTrapFactory=m(Vd);focusTrap=void 0;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture=!1;constructor(){m(Je).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Cr(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",_e],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",_e]},exportAs:["cdkTrapFocus"],features:[lt]})}return t})(),TR=new L("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),IR=new L("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),DY=0,wf=(()=>{class t{_ngZone=m(he);_defaultOptions=m(IR,{optional:!0});_liveElement;_document=m(Re);_sanitizer=m(yf);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=m(TR,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{!e||typeof e=="string"?this._liveElement.textContent=e:uR(this._liveElement,e,this._sanitizer),typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${DY++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fs=(function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t})(Fs||{}),SR="cdk-high-contrast-black-on-white",kR="cdk-high-contrast-white-on-black",eD="cdk-high-contrast-active",AR=(()=>{class t{_platform=m(Je);_hasCheckedHighContrastMode=!1;_document=m(Re);_breakpointSubscription;constructor(){this._breakpointSubscription=m(wo).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Fs.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Fs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Fs.BLACK_ON_WHITE}return Fs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(eD,SR,kR),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Fs.BLACK_ON_WHITE?e.add(eD,SR):i===Fs.WHITE_ON_BLACK&&e.add(eD,kR)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cf=(()=>{class t{constructor(){m(AR)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[Ld]})}return t})();var nD={},Rt=class t{_appId=m(xs);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(n,e=!1){return this._appId!=="ng"&&(n+=this._appId),nD.hasOwnProperty(n)||(nD[n]=0),`${n}${e?t._infix+"-":""}${nD[n]++}`}static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var EY=200,nv=class{_letterKeyStream=new $;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new $;selectedItem=this._selectedItem;constructor(n,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:EY;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(n),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let e=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(ri(e=>this._pressedLetters.push(e)),oo(n),Ze(()=>this._pressedLetters.length>0),He(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Bt(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var jd=class{_items;_activeItemIndex=ze(-1);_activeItem=ze(null);_wrap=!1;_typeaheadSubscription=je.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal=null;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,e){this._items=n,n instanceof $i?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):Ba(n)&&(this._effectRef=Ra(()=>this._itemsChanged(n()),{injector:e}))}tabOut=new $;change=new $;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new nv(e,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){let e=this._activeItem();this.updateActiveItem(n),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(n){let e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||Bt(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let e=this._getItemsArray(),i=typeof n=="number"?n:e.indexOf(n),r=e[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex()+n*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex()+n,n)}_setActiveItemByIndex(n,e){let i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(n+=e,!i[n])return;this.setActiveItem(n)}}_getItemsArray(){return Ba(this._items)?this._items():this._items instanceof $i?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let e=this._activeItem();if(e){let i=n.indexOf(e);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Jl=class extends jd{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}};var Ps=class extends jd{_origin="program";setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}};var FR=" ";function Hd(t,n,e){let i=av(t,n);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),t.setAttribute(n,i.join(FR)))}function Ls(t,n,e){let i=av(t,n);e=e.trim();let r=i.filter(o=>o!==e);r.length?t.setAttribute(n,r.join(FR)):t.removeAttribute(n)}function av(t,n){return t.getAttribute(n)?.match(/\S+/g)??[]}var PR="cdk-describedby-message",ov="cdk-describedby-host",rD=0,sv=(()=>{class t{_platform=m(Je);_document=m(Re);_messageRegistry=new Map;_messagesContainer=null;_id=`${rD++}`;constructor(){m(Ft).load(qr),this._id=m(xs)+"-"+rD++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=iD(i,r);typeof i!="string"?(NR(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=iD(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${ov}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(ov);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");NR(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(iD(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=av(e,"aria-describedby").filter(r=>r.indexOf(PR)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);Hd(e,"aria-describedby",r.messageElement.id),e.setAttribute(ov,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,Ls(e,"aria-describedby",r.messageElement.id),e.removeAttribute(ov)}_isElementDescribedByMessage(e,i){let r=av(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iD(t,n){return typeof t=="string"?`${n||""}/${t}`:t}function NR(t,n){t.id||(t.id=`${PR}-${n}-${rD++}`)}function oD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var zd,LR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function aD(){if(zd)return zd;if(typeof document!="object"||!document)return zd=new Set(LR),zd;let t=document.createElement("input");return zd=new Set(LR.filter(n=>(t.setAttribute("type",n),t.type===n))),zd}function Ln(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Sn(t){return t!=null&&`${t}`!="false"}function BR(t,n=/\s+/){let e=[];if(t!=null){let i=Array.isArray(t)?t:`${t}`.split(n);for(let r of i){let o=`${r}`.trim();o&&e.push(o)}}return e}var SY=new L("MATERIAL_ANIMATIONS"),VR=null;function sD(){return m(SY,{optional:!0})?.animationsDisabled||m(Ds,{optional:!0})==="NoopAnimations"?"di-disabled":(VR??=m(Dd).matchMedia("(prefers-reduced-motion)").matches,VR?"reduced-motion":"enabled")}function _t(){return sD()!=="enabled"}var Li=(function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t})(Li||{}),lD=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Li.HIDDEN;constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},jR=Pd({passive:!0,capture:!0}),cD=class{_events=new Map;addHandler(n,e,i,r){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,jR)})}removeHandler(n,e,i){let r=this._events.get(n);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,jR)))}_delegateEventHandler=n=>{let e=Jn(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(n))})}},Ef={enterDuration:225,exitDuration:150},kY=800,HR=Pd({passive:!0,capture:!0}),zR=["mousedown","touchstart"],UR=["mouseup","mouseleave","touchend","touchcancel"],MY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),ec=class t{_target;_ngZone;_platform;_containerElement;_triggerElement=null;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple=null;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect=null;static _eventManager=new cD;constructor(n,e,i,r,o){this._target=n,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Pi(i)),o&&o.get(Ft).load(MY)}fadeInRipple(n,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=G(G({},Ef),i.animation);i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||TY(n,e,r),s=n-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${l-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,f=d.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,g=new lD(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",g.state=Li.FADING_IN,i.persistent||(this._mostRecentTransientRipple=g);let v=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let _=()=>{v&&(v.fallbackTimer=null),clearTimeout(D),this._finishRippleTransition(g)},y=()=>this._destroyRipple(g),D=setTimeout(y,c+100);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",y),v={onTransitionEnd:_,onTransitionCancel:y,fallbackTimer:D}}),this._activeRipples.set(g,v),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(n){if(n.state===Li.FADING_OUT||n.state===Li.HIDDEN)return;let e=n.element,i=G(G({},Ef),n.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=Li.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=Pi(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,zR.forEach(i=>{t._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{UR.forEach(e=>{this._triggerElement.addEventListener(e,this,HR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===Li.FADING_IN?this._startFadeOutTransition(n):n.state===Li.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=Li.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=Li.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),n.element.remove()}_onMousedown(n){let e=Kl(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+kY;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Xl(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===Li.VISIBLE||n.config.terminateOnPointerUp&&n.state===Li.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(zR.forEach(e=>t._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(UR.forEach(e=>n.removeEventListener(e,this,HR)),this._pointerUpEventsRegistered=!1))}};function TY(t,n,e){let i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}var qa=new L("mat-ripple-global-options"),tc=(()=>{class t{_elementRef=m(ue);_animationsDisabled=_t();color;unbounded=!1;centered=!1;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=m(he),i=m(Je),r=m(qa,{optional:!0}),o=m(Ie);this._globalOptions=r||{},this._rippleRenderer=new ec(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:G(G(G({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,G(G({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,G(G({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var qR=(()=>{class t{_animationsDisabled=_t();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&Ee("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return t})();var ti=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var IY=["text"],AY=[[["mat-icon"]],"*"],RY=["mat-icon","*"];function OY(t,n){if(t&1&&Ne(0,"mat-pseudo-checkbox",1),t&2){let e=Q();ce("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function NY(t,n){if(t&1&&Ne(0,"mat-pseudo-checkbox",3),t&2){let e=Q();ce("disabled",e.disabled)}}function FY(t,n){if(t&1&&(x(0,"span",4),A(1),E()),t&2){let e=Q();M(),vt("(",e.group.label,")")}}var kf=new L("MAT_OPTION_PARENT_COMPONENT"),Mf=new L("MatOptgroup");var Sf=class{source;isUserInput;constructor(n,e=!1){this.source=n,this.isUserInput=e}},Zi=(()=>{class t{_element=m(ue);_changeDetectorRef=m(Ge);_parent=m(kf,{optional:!0});group=m(Mf,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=m(Rt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=ze(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ae;_text;_stateChanges=new $;constructor(){let e=m(Ft);e.load(ti),e.load(qr),this._signalDisableRipple=!!this._parent&&Ba(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Bt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Sf(this,e))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&Xe(IY,7),i&2){let o;ne(o=ie())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&Y("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),i&2&&(Zn("id",r.id),Oe("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Ee("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",_e]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:RY,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(tt(AY),be(0,OY,1,2,"mat-pseudo-checkbox",1),De(1),x(2,"span",2,0),De(4,1),E(),be(5,NY,1,1,"mat-pseudo-checkbox",3),be(6,FY,2,1,"span",4),Ne(7,"div",5)),i&2&&(ye(r.multiple?0:-1),M(5),ye(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),M(),ye(r.group&&r.group._inert?6:-1),M(),ce("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[qR,tc],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();function lv(t,n,e){if(e.length){let i=n.toArray(),r=e.toArray(),o=0;for(let a=0;a<t+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}function cv(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}var Tf=class{_attachedHost=null;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},Ji=class extends Tf{component;viewContainerRef;injector;projectableNodes;constructor(n,e,i,r){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},Ei=class extends Tf{templateRef;viewContainerRef;context;injector;constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},dD=class extends Tf{element;constructor(n){super(),this.element=n instanceof ue?n.nativeElement:n}},Bs=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof Ji)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof Ei)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof dD)return this._attachedPortal=n,this.attachDomPortal(n)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},If=class extends Bs{outletElement;_appRef;_defaultInjector;constructor(n,e,i){super(),this.outletElement=n,this._appRef=e,this._defaultInjector=i}attachComponentPortal(n){let e;if(n.viewContainerRef){let i=n.injector||n.viewContainerRef.injector,r=i.get(Fa,null,{optional:!0})||void 0;e=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=n.injector||this._defaultInjector||Ie.NULL,o=r.get(Yt,i.injector);e=G0(n.component,{elementInjector:r,environmentInjector:o,projectableNodes:n.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=n,e}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=n,i}attachDomPortal=n=>{let e=n.element;e.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var Dr=(()=>{class t extends Bs{_moduleRef=m(Fa,{optional:!0});_document=m(Re);_viewContainerRef=m(rn);_isInitialized=!1;_attachedRef=null;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ae;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Le]})}return t})(),Er=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})();var $R=Cg();function Vs(t){return new dv(t.get(Di),t.get(Re))}var dv=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,e){this._viewportRuler=n,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Ln(-this._previousScrollPosition.left),n.style.top=Ln(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,e=this._document.body,i=n.style,r=e.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),$R&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$R&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};function ZR(t,n){return new uv(t.get(zr),t.get(he),t.get(Di),n)}var uv=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(Ze(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Af=class{enable(){}disable(){}attach(){}};function uD(t,n){return n.some(e=>{let i=t.bottom<e.top,r=t.top>e.bottom,o=t.right<e.left,a=t.left>e.right;return i||r||o||a})}function WR(t,n){return n.some(e=>{let i=t.top<e.top,r=t.bottom>e.bottom,o=t.left<e.left,a=t.right>e.right;return i||r||o||a})}function Sr(t,n){return new hv(t.get(zr),t.get(Di),t.get(he),n)}var hv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();uD(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},JR=(()=>{class t{_injector=m(Ie);constructor(){}noop=()=>new Af;close=e=>ZR(this._injector,e);block=()=>Vs(this._injector);reposition=e=>Sr(this._injector,e);static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bi=class{positionStrategy;scrollStrategy=new Af;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(n){if(n){let e=Object.keys(n);for(let i of e)n[i]!==void 0&&(this[i]=n[i])}}};var fv=class{connectionPair;scrollableViewProperties;constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}};var eO=(()=>{class t{_attachedOverlays=[];_document=m(Re);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tO=(()=>{class t extends eO{_ngZone=m(he);_renderer=m(wn).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nO=(()=>{class t extends eO{_platform=m(Je);_ngZone=m(he);_renderer=m(wn).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Jn(e)};_clickListener=e=>{let i=Jn(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(GR(s.overlayElement,i)||GR(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GR(t,n){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=n;for(;i;){if(i===t)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var iO=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return t})(),mv=(()=>{class t{_platform=m(Je);_containerElement;_document=m(Re);_styleLoader=m(Ft);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||oD()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),oD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(iO)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hD=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(n,e,i,r){this._renderer=e,this._ngZone=i,this.element=n.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let n=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(n,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),n.style.pointerEvents="none",n.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function fD(t){return t&&t.nodeType===1}var Ud=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new $;_attachments=new $;_detachments=new $;_positionStrategy;_scrollStrategy;_locationChanges=je.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new $;_outsidePointerEvents=new $;_afterNextRenderRef;constructor(n,e,i,r,o,a,s,l,c,u=!1,d,h){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(n){if(this._disposed)return null;this._attachHost();let e=this._portalOutlet.attach(n);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=At(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){if(this._disposed)return;let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,n&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=G(G({},this._config),n),this._updateElementSize()}setDirection(n){this._config=nt(G({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=Ln(this._config.width),n.height=Ln(this._config.height),n.minWidth=Ln(this._config.minWidth),n.minHeight=Ln(this._config.minHeight),n.maxWidth=Ln(this._config.maxWidth),n.maxHeight=Ln(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachHost(){if(!this._host.parentElement){let n=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;fD(n)?n.after(this._host):n?.type==="parent"?n.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch(n){}}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new hD(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(n))}):this._backdropRef.element.classList.add(n)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(n,e,i){let r=Ha(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenEmpty(){let n=!1;try{this._detachContentAfterRenderRef=At(()=>{n=!0,this._detachContent()},{injector:this._injector})}catch(e){if(n)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let n=this._scrollStrategy;n?.disable(),n?.detach?.()}},YR="cdk-overlay-connected-position-bounding-box",PY=/([A-Za-z%]+)$/;function Do(t,n){return new qd(n,t.get(Di),t.get(Re),t.get(Je),t.get(mv))}var qd=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender=!1;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed=!1;_boundingBox=null;_lastPosition=null;_lastScrollVisibility=null;_positionChanges=new $;_resizeSubscription=je.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount=null;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(YR),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(n,r,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,i,s);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(u,c,i)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(YR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;n?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(n,this._getOriginPoint(this._originRect,this._containerRect,n))):this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}withPopoverLocation(n){return this._popoverLocation=n,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof ue?this._origin.nativeElement:fD(this._origin)?this._origin:null}_getOriginPoint(n,e,i){let r;if(i.originX=="center")r=n.left+n.width/2;else{let a=this._isRtl()?n.right:n.left,s=this._isRtl()?n.left:n.right;r=i.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=n.top+n.height/2:o=i.originY=="top"?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){let o=KR(e),{x:a,y:s}=n,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let u=0-a,d=a+o.width-i.width,h=0-s,f=s+o.height-i.height,p=this._subtractOverflows(o.width,u,d),g=this._subtractOverflows(o.height,h,f),v=p*g;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,a=QR(this._overlayRef.getConfig().minHeight),s=QR(this._overlayRef.getConfig().minWidth),l=n.fitsInViewportVertically||a!=null&&a<=r,c=n.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let r=KR(e),o=this._viewportRect,a=Math.max(n.x+r.width-o.width,0),s=Math.max(n.y+r.height-o.height,0),l=Math.max(o.top-i.top-n.y,0),c=Math.max(o.left-i.left-n.x,0),u=0,d=0;return r.width<=o.width?u=c||-a:u=n.x<this._getViewportMarginStart()?o.left-i.left-n.x:0,r.height<=o.height?d=l||-s:d=n.y<this._getViewportMarginTop()?o.top-i.top-n.y:0,this._previousPushAmount={x:u,y:d},{x:n.x+u,y:n.y+d}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!LY(this._lastScrollVisibility,i)){let r=new fv(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=n.overlayY;n.overlayX==="center"?i="center":this._isRtl()?i=n.overlayX==="start"?"right":"left":i=n.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){let i=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=n.y,o=i.height-a+this._getViewportMarginBottom();else if(e.overlayY==="bottom")s=i.height-n.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=i.height-s+this._getViewportMarginTop();else{let f=Math.min(i.bottom-n.y+i.top,n.y),p=this._lastBoundingBoxSize.height;o=f*2,a=n.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(a=n.y-p/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,u,d,h;if(c)h=i.width-n.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),u=n.x-this._getViewportMarginStart();else if(l)d=n.x,u=i.right-n.x-this._getViewportMarginEnd();else{let f=Math.min(i.right-n.x+i.left,n.x),p=this._lastBoundingBoxSize.width;u=f*2,d=n.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=n.x-p/2)}return{top:a,left:d,bottom:s,right:h,width:u,height:o}}_setBoundingBoxStyles(n,e){let i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.width=Ln(i.width),r.height=Ln(i.height),r.top=Ln(i.top)||"auto",r.bottom=Ln(i.bottom)||"auto",r.left=Ln(i.left)||"auto",r.right=Ln(i.right)||"auto",e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Ln(o)),a&&(r.maxWidth=Ln(a))}this._lastBoundingBoxSize=i,nc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){nc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();nc(i,this._getExactOverlayY(e,n,u)),nc(i,this._getExactOverlayX(e,n,u))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=Ln(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Ln(a.maxWidth):o&&(i.maxWidth="")),nc(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),n.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=Ln(o.y);return r}_getExactOverlayX(n,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=n.overlayX==="end"?"left":"right":a=n.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=Ln(o.x);return r}_getScrollVisibility(){let n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:WR(n,i),isOriginOutsideView:uD(n,i),isOverlayClipped:WR(e,i),isOverlayOutsideView:uD(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+n-this._getViewportMarginEnd(),bottom:i.top+e-this._getViewportMarginBottom(),width:n-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return e==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Ha(n).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let n=this._origin;if(n instanceof ue)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}_getContainerRect(){let n=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",e=this._overlayContainer.getContainerElement();n&&(e.style.display="block");let i=e.getBoundingClientRect();return n&&(e.style.display=""),i}};function nc(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function QR(t){if(typeof t!="number"&&t!=null){let[n,e]=t.split(PY);return!e||e==="px"?parseFloat(n):null}return t||null}function KR(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function LY(t,n){return t===n?!0:t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}var XR="cdk-global-overlay-wrapper";function sa(t){return new pv}var pv=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){let e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(XR),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",g="";l?g="flex-start":u==="center"?(g="center",h?p=d:f=d):h?u==="left"||u==="end"?(g="flex-end",f=d):(u==="right"||u==="start")&&(g="flex-start",p=d):u==="left"||u==="start"?(g="flex-start",f=d):(u==="right"||u==="end")&&(g="flex-end",p=d),n.position=this._cssPosition,n.marginLeft=l?"0":f,n.marginTop=c?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":p,e.justifyContent=g,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(XR),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},rO=(()=>{class t{_injector=m(Ie);constructor(){}global(){return sa()}flexibleConnectedTo(e){return Do(this._injector,e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rf=new L("OVERLAY_DEFAULT_CONFIG");function Vi(t,n){t.get(Ft).load(iO);let e=t.get(mv),i=t.get(Re),r=t.get(Rt),o=t.get(Un),a=t.get($t),s=t.get(gt,null,{optional:!0})||t.get(wn).createRenderer(null,null),l=new Bi(n),c=t.get(Rf,null,{optional:!0})?.usePopover??!0;l.direction=l.direction||a.value,"showPopover"in i.body?l.usePopover=n?.usePopover??c:l.usePopover=!1;let u=i.createElement("div"),d=i.createElement("div");u.id=r.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),d.appendChild(u),l.usePopover&&(d.setAttribute("popover","manual"),d.classList.add("cdk-overlay-popover"));let h=l.usePopover?l.positionStrategy?.getPopoverInsertionPoint?.():null;return fD(h)?h.after(d):h?.type==="parent"?h.element.appendChild(d):e.getContainerElement().appendChild(d),new Ud(new If(u,o,t),d,u,l,t.get(he),t.get(tO),i,t.get(Ms),t.get(nO),n?.disableAnimations??t.get(Ds,null,{optional:!0})==="NoopAnimations",t.get(Yt),s)}var oO=(()=>{class t{scrollStrategies=m(JR);_positionBuilder=m(rO);_injector=m(Ie);constructor(){}create(e){return Vi(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BY=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],VY=new L("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Sr(t)}}),$d=(()=>{class t{elementRef=m(ue);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),aO=new L("cdk-connected-overlay-default-config"),gv=(()=>{class t{_dir=m($t,{optional:!0});_injector=m(Ie);_overlayRef;_templatePortal;_backdropSubscription=je.EMPTY;_attachSubscription=je.EMPTY;_detachSubscription=je.EMPTY;_positionSubscription=je.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=m(VY);_ngZone=m(he);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){typeof e!="string"&&this._assignConfig(e)}backdropClick=new ae;positionChange=new ae;attach=new ae;detach=new ae;overlayKeydown=new ae;overlayOutsideClick=new ae;constructor(){let e=m(Qt),i=m(rn),r=m(aO,{optional:!0}),o=m(Rf,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new Ei(e,i),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=BY);let e=this._overlayRef=Vi(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!Bt(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=Jn(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Bi({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let e=Do(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof $d?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof $d?this.origin.elementRef.nativeElement:this.origin instanceof ue?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(i=>this.backdropClick.emit(i)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe($y(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",_e],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",_e],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",_e],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",_e],push:[2,"cdkConnectedOverlayPush","push",_e],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",_e],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",_e],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[lt]})}return t})(),ji=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[oO],imports:[at,Er,Gl,Gl]})}return t})();var pD=class{_box;_destroyed=new $;_resizeSubject=new $;_resizeObserver;_elementObservables=new Map;constructor(n){this._box=n,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new Ye(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),i.unsubscribe(),this._elementObservables.delete(n)}}).pipe(Ze(e=>e.some(i=>i.target===n)),ah({bufferSize:1,refCount:!0}),Qe(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},sO=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=m(he);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new pD(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jY=["notch"],HY=["matFormFieldNotchedOutline",""],zY=["*"],lO=["iconPrefixContainer"],cO=["textPrefixContainer"],dO=["iconSuffixContainer"],uO=["textSuffixContainer"],UY=["textField"],qY=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$Y=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function WY(t,n){t&1&&Ne(0,"span",21)}function GY(t,n){if(t&1&&(x(0,"label",20),De(1,1),be(2,WY,1,0,"span",21),E()),t&2){let e=Q(2);ce("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Oe("for",e._control.disableAutomaticLabeling?null:e._control.id),M(2),ye(!e.hideRequiredMarker&&e._control.required?2:-1)}}function YY(t,n){if(t&1&&be(0,GY,3,5,"label",20),t&2){let e=Q();ye(e._hasFloatingLabel()?0:-1)}}function QY(t,n){t&1&&Ne(0,"div",7)}function KY(t,n){}function XY(t,n){if(t&1&&xt(0,KY,0,0,"ng-template",13),t&2){Q(2);let e=Cn(1);ce("ngTemplateOutlet",e)}}function ZY(t,n){if(t&1&&(x(0,"div",9),be(1,XY,1,1,null,13),E()),t&2){let e=Q();ce("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),M(),ye(e._forceDisplayInfixLabel()?-1:1)}}function JY(t,n){t&1&&(x(0,"div",10,2),De(2,2),E())}function eQ(t,n){t&1&&(x(0,"div",11,3),De(2,3),E())}function tQ(t,n){}function nQ(t,n){if(t&1&&xt(0,tQ,0,0,"ng-template",13),t&2){Q();let e=Cn(1);ce("ngTemplateOutlet",e)}}function iQ(t,n){t&1&&(x(0,"div",14,4),De(2,4),E())}function rQ(t,n){t&1&&(x(0,"div",15,5),De(2,5),E())}function oQ(t,n){t&1&&Ne(0,"div",16)}function aQ(t,n){t&1&&(x(0,"div",18),De(1,6),E())}function sQ(t,n){if(t&1&&(x(0,"mat-hint",22),A(1),E()),t&2){let e=Q(2);ce("id",e._hintLabelId),M(),ht(e.hintLabel)}}function lQ(t,n){if(t&1&&(x(0,"div",19),be(1,sQ,2,2,"mat-hint",22),De(2,7),Ne(3,"div",23),De(4,8),E()),t&2){let e=Q();M(),ye(e.hintLabel?1:-1)}}var vi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["mat-label"]]})}return t})(),cQ=new L("MatError");var mD=(()=>{class t{align="start";id=m(Rt).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Zn("id",r.id),Oe("align",null),Ee("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return t})(),dQ=new L("MatPrefix");var _O=new L("MatSuffix"),Of=(()=>{class t{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[We([{provide:_O,useExisting:t}])]})}return t})(),bO=new L("FloatingLabelParent"),hO=(()=>{class t{_elementRef=m(ue);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=m(sO);_ngZone=m(he);_parent=m(bO);_resizeSubscription=new je;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return uQ(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();function uQ(t){let n=t;if(n.offsetParent!==null)return n.scrollWidth;let e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var fO="mdc-line-ripple--active",vv="mdc-line-ripple--deactivating",pO=(()=>{class t{_elementRef=m(ue);_cleanupTransitionEnd;constructor(){let e=m(he),i=m(gt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(vv),e.add(fO)}deactivate(){this._elementRef.nativeElement.classList.add(vv)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,r=i.contains(vv);e.propertyName==="opacity"&&r&&i.remove(fO,vv)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),mO=(()=>{class t{_elementRef=m(ue);_ngZone=m(he);open=!1;_notch;ngAfterViewInit(){let e=this._elementRef.nativeElement,i=e.querySelector(".mdc-floating-label");i?(e.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){let i=this._notch.nativeElement;!this.open||!e?i.style.width="":i.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&Xe(jY,5),i&2){let o;ne(o=ie())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:HY,ngContentSelectors:zY,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(tt(),on(0,"div",1),qe(1,"div",2,0),De(3),$e(),on(4,"div",3))},encapsulation:2,changeDetection:0})}return t})(),Wd=(()=>{class t{value=null;stateChanges;id;placeholder;ngControl=null;focused=!1;empty=!1;shouldLabelFloat=!1;required=!1;disabled=!1;errorState=!1;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t})}return t})();var $a=new L("MatFormField"),hQ=new L("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gO="fill",fQ="auto",vO="fixed",pQ="translateY(-50%)",kn=(()=>{class t{_elementRef=m(ue);_changeDetectorRef=m(Ge);_platform=m(Je);_idGenerator=m(Rt);_ngZone=m(he);_defaults=m(hQ,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=$h("iconPrefixContainer");_textPrefixContainerSignal=$h("textPrefixContainer");_iconSuffixContainerSignal=$h("iconSuffixContainer");_textSuffixContainerSignal=$h("textSuffixContainer");_prefixSuffixContainers=Hr(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>e!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=bA(vi);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Sn(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||fQ}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){let i=e||this._defaults?.appearance||gO;this._appearanceSignal.set(i)}_appearanceSignal=ze(gO);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||vO}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||vO}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new $;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=_t();constructor(){let e=this._defaults,i=m($t);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),Ra(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Hr(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(kt([void 0,void 0]),He(()=>[i.errorState,i.userAriaDescribedBy]),rh(),Ze(([[o,a],[s,l]])=>o!==s||a!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Qe(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),It(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){EA({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Hr(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,a=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));let i=this._control.describedByIds,r;if(i){let o=this._describedByIds||e;r=e.concat(i.filter(a=>a&&!o.includes(a)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=e?.getBoundingClientRect().width??0,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,u=this._currentDirection==="rtl"?"-1":"1",d=`${a+s}px`,f=`calc(${u} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,p=`var(--mat-mdc-form-field-label-transform, ${pQ} translateX(${f}))`,g=a+s+l+c;return[p,g]}_writeOutlinedLabelStyles(e){if(e!==null){let[i,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(H0(o,r._labelChild,vi,5),Kt(o,Wd,5)(o,dQ,5)(o,_O,5)(o,cQ,5)(o,mD,5)),i&2){U0();let a;ne(a=ie())&&(r._formFieldControl=a.first),ne(a=ie())&&(r._prefixChildren=a),ne(a=ie())&&(r._suffixChildren=a),ne(a=ie())&&(r._errorChildren=a),ne(a=ie())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&(z0(r._iconPrefixContainerSignal,lO,5)(r._textPrefixContainerSignal,cO,5)(r._iconSuffixContainerSignal,dO,5)(r._textSuffixContainerSignal,uO,5),Xe(UY,5)(lO,5)(cO,5)(dO,5)(uO,5)(hO,5)(mO,5)(pO,5)),i&2){U0(4);let o;ne(o=ie())&&(r._textField=o.first),ne(o=ie())&&(r._iconPrefixContainer=o.first),ne(o=ie())&&(r._textPrefixContainer=o.first),ne(o=ie())&&(r._iconSuffixContainer=o.first),ne(o=ie())&&(r._textSuffixContainer=o.first),ne(o=ie())&&(r._floatingLabel=o.first),ne(o=ie())&&(r._notchedOutline=o.first),ne(o=ie())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){i&2&&Ee("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[We([{provide:$a,useExisting:t},{provide:bO,useExisting:t}])],ngContentSelectors:$Y,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=Ke();tt(qY),xt(0,YY,1,1,"ng-template",null,0,q0),x(2,"div",6,1),Y("click",function(s){return ge(o),ve(r._control.onContainerClick(s))}),be(4,QY,1,0,"div",7),x(5,"div",8),be(6,ZY,2,2,"div",9),be(7,JY,3,0,"div",10),be(8,eQ,3,0,"div",11),x(9,"div",12),be(10,nQ,1,1,null,13),De(11),E(),be(12,iQ,3,0,"div",14),be(13,rQ,3,0,"div",15),E(),be(14,oQ,1,0,"div",16),E(),x(15,"div",17),be(16,aQ,2,0,"div",18)(17,lQ,5,1,"div",19),E()}if(i&2){let o;M(2),Ee("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),M(2),ye(!r._hasOutline()&&!r._control.disabled?4:-1),M(2),ye(r._hasOutline()?6:-1),M(),ye(r._hasIconPrefix?7:-1),M(),ye(r._hasTextPrefix?8:-1),M(2),ye(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),M(2),ye(r._hasTextSuffix?12:-1),M(),ye(r._hasIconSuffix?13:-1),M(),ye(r._hasOutline()?-1:14),M(),Ee("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let a=r._getSubscriptMessageType();M(),ye((o=a)==="error"?16:o==="hint"?17:-1)}},dependencies:[hO,mO,yx,pO,mD],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return t})();var la=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at]})}return t})();var _v=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at]})}return t})();var Gd=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[la,_v,Zi,at]})}return t})();var mQ=["panel"],gQ=["*"];function vQ(t,n){if(t&1&&(qe(0,"div",1,0),De(2),$e()),t&2){let e=n.id,i=Q();fn(i._classList),Ee("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-autocomplete-panel-animations-enabled",!i._animationsDisabled)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),Zn("id",i.id),Oe("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}var gD=class{source;option;constructor(n,e){this.source=n,this.option=e}},yO=new L("mat-autocomplete-default-options",{providedIn:"root",factory:()=>({autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1})}),bv=(()=>{class t{_changeDetectorRef=m(Ge);_elementRef=m(ue);_defaults=m(yO);_animationsDisabled=_t();_activeOptionChanges=je.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple=!1;optionSelected=new ae;opened=new ae;closed=new ae;optionActivated=new ae;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=m(Rt).getId("mat-autocomplete-");inertGroups;constructor(){let e=m(Je);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Jl(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new gD(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,Zi,5)(o,Mf,5),i&2){let a;ne(a=ie())&&(r.options=a),ne(a=ie())&&(r.optionGroups=a)}},viewQuery:function(i,r){if(i&1&&Xe(Qt,7)(mQ,5),i&2){let o;ne(o=ie())&&(r.template=o.first),ne(o=ie())&&(r.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",_e],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",_e],requireSelection:[2,"requireSelection","requireSelection",_e],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",_e],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",_e]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[We([{provide:kf,useExisting:t}])],ngContentSelectors:gQ,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,r){i&1&&(tt(),Fl(0,vQ,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden,.cdk-overlay-pane:has(>.mat-mdc-autocomplete-hidden){visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return t})();var _Q={provide:ia,useExisting:Rn(()=>Nf),multi:!0};var bQ=new L("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Sr(t)}}),Nf=(()=>{class t{_environmentInjector=m(Yt);_element=m(ue);_injector=m(Ie);_viewContainerRef=m(rn);_zone=m(he);_changeDetectorRef=m(Ge);_dir=m($t,{optional:!0});_formField=m($a,{optional:!0,host:!0});_viewportRuler=m(Di);_scrollStrategy=m(bQ);_renderer=m(gt);_animationsDisabled=_t();_defaults=m(yO,{optional:!0});_overlayRef=null;_portal;_componentDestroyed=!1;_initialized=new $;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue=null;_valueOnAttach=null;_valueOnLastKeydown=null;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=je.EMPTY;_breakpointObserver=m(wo);_handsetLandscapeSubscription=je.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption=null;_closeKeyEventStream=new $;_overlayPanelClass=Ha(this._defaults?.overlayPanelClass||[]);_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled=!1;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Ls(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return It(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Ze(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Ze(()=>this._overlayAttached)):Be()).pipe(He(e=>e instanceof Sf?e:null))}optionSelections=mr(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(kt(e),en(()=>It(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(en(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new Ye(e=>{let i=o=>{let a=Jn(o),s=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&a!==this._element.nativeElement&&!this._hasFocus()&&(!s||!s.contains(a))&&(!l||!l.contains(a))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(a)&&e.next(o)},r=[this._renderer.listen("document","click",i),this._renderer.listen("document","auxclick",i),this._renderer.listen("document","touchend",i)];return()=>{r.forEach(o=>o())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e,r=i.keyCode,o=Bt(i);if(r===27&&!o&&i.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&r===13&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){let a=this.autocomplete._keyManager.activeItem,s=r===38||r===40;r===9||s&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(i):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==a)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;if(i.type==="number"&&(r=r==""?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),!r)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let o=this.autocomplete.options?.find(a=>a.selected);if(o){let a=this._getDisplayValue(o.value);r!==a&&o.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return Cr()===this._element.nativeElement}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new Ye(r=>{At(()=>{r.next()},{injector:this._environmentInjector})}),i=this.autocomplete.options?.changes.pipe(ri(()=>this._positionStrategy.reapplyLastPosition()),Uy(0))??Be();return It(e,i).pipe(en(()=>this._zone.run(()=>{let r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Ct(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,r=e?e.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(r=>{r!==e&&r.selected&&r.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;Hd(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){if(!this.autocomplete)return;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Ei(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=Vi(this._injector,this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(Ts.HandsetLandscape).subscribe(o=>{o.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!Bt(e)||e.keyCode===38&&Bt(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=void 0}_getOverlayConfig(){return new Bi({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this._overlayPanelClass,disableAnimations:this._animationsDisabled})}_getOverlayPosition(){let e=Do(this._injector,this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPopoverLocation("inline");return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}],a;this.position==="above"?a=o:this.position==="below"?a=i:a=[...i,...o],e.withPositions(a)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let r=0;r<e.options.length;r++)if(!e.options.get(r).disabled){i=r;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let i=this.autocomplete,r=lv(e,i.options,i.optionGroups);if(e===0&&r===1)i._setScrollTop(0);else if(i.panel){let o=i.options.toArray()[e];if(o){let a=o._getHostElement(),s=cv(a.offsetTop,a.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(s)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&Ls(this._trackedModal,"aria-owns",i),Hd(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Ls(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){i&1&&Y("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(a){return r._handleInput(a)})("keydown",function(a){return r._handleKeydown(a)})("click",function(){return r._handleClick()}),i&2&&Oe("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||r.autocomplete==null?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",_e]},exportAs:["matAutocompleteTrigger"],features:[We([_Q]),lt]})}return t})(),wO=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[ji,Gd,Qi,Gd,at]})}return t})();var yQ={capture:!0},wQ=["focus","mousedown","mouseenter","touchstart"],vD="mat-ripple-loader-uninitialized",_D="mat-ripple-loader-class-name",CO="mat-ripple-loader-centered",yv="mat-ripple-loader-disabled",wv=(()=>{class t{_document=m(Re);_animationsDisabled=_t();_globalRippleOptions=m(qa,{optional:!0});_platform=m(Je);_ngZone=m(he);_injector=m(Ie);_eventCleanups;_hosts=new Map;constructor(){let e=m(wn).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>wQ.map(i=>e.listen(this._document,i,this._onInteraction,yQ)))}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(vD,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(_D))&&e.setAttribute(_D,i.className||""),i.centered&&e.setAttribute(CO,""),i.disabled&&e.setAttribute(yv,"")}setDisabled(e,i){let r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(yv,""):e.removeAttribute(yv)}_onInteraction=e=>{let i=Jn(e);if(i instanceof HTMLElement){let r=i.closest(`[${vD}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(_D)),e.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??Ef.enterDuration,a=this._animationsDisabled?0:r?.animation?.exitDuration??Ef.exitDuration,s={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(yv),rippleConfig:{centered:e.hasAttribute(CO),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:a}}},l=new ec(s,this._ngZone,i,this._platform,this._injector),c=!s.rippleDisabled;c&&l.setupTriggerEvents(e),this._hosts.set(e,{target:s,renderer:l,hasSetUpEvents:c}),e.removeAttribute(vD)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var CQ=["mat-icon-button",""],xQ=["*"],DQ=new L("MAT_BUTTON_CONFIG");function xO(t){return t==null?void 0:xn(t)}var Cv=(()=>{class t{_elementRef=m(ue);_ngZone=m(he);_animationsDisabled=_t();_config=m(DQ,{optional:!0});_focusMonitor=m(ei);_cleanupClick;_renderer=m(gt);_rippleLoader=m(wv);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){m(Ft).load(ti);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(Oe("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),fn(r.color?"mat-"+r.color:""),Ee("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",_e],disabled:[2,"disabled","disabled",_e],ariaDisabled:[2,"aria-disabled","ariaDisabled",_e],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e],tabIndex:[2,"tabIndex","tabIndex",xO],_tabindex:[2,"tabindex","_tabindex",xO]}})}return t})(),er=(()=>{class t extends Cv{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Le],attrs:CQ,ngContentSelectors:xQ,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(tt(),on(0,"span",0),De(1),on(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var EQ=["matButton",""],EO=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],SO=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var SQ=["mat-mini-fab",""],kQ=`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus-visible>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mat-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-container-elevation-shadow, var(--mat-sys-level3))}@media(hover: hover){.mat-mdc-fab:hover{box-shadow:var(--mat-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-fab:focus{box-shadow:var(--mat-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mat-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-touch-target-size, 48px);display:var(--mat-fab-touch-target-display, block);left:50%;width:var(--mat-fab-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mat-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level3))}@media(hover: hover){.mat-mdc-mini-fab:hover{box-shadow:var(--mat-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-mini-fab:focus{box-shadow:var(--mat-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mat-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-small-touch-target-size, 48px);display:var(--mat-fab-small-touch-target-display);left:50%;width:var(--mat-fab-small-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mat-fab-extended-container-elevation-shadow, var(--mat-sys-level3));height:var(--mat-fab-extended-container-height, 56px);border-radius:var(--mat-fab-extended-container-shape, var(--mat-sys-corner-large));font-family:var(--mat-fab-extended-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-fab-extended-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-fab-extended-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-fab-extended-label-text-tracking, var(--mat-sys-label-large-tracking))}@media(hover: hover){.mat-mdc-extended-fab:hover{box-shadow:var(--mat-fab-extended-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-extended-fab:focus{box-shadow:var(--mat-fab-extended-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mat-fab-extended-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`,DO=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),Vt=(()=>{class t extends Cv{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=MQ(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?DO.get(this._appearance):null,o=DO.get(e);r&&i.remove(...r),i.add(...o),this._appearance=e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Le],attrs:EQ,ngContentSelectors:SO,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(tt(EO),on(0,"span",0),De(1),qe(2,"span",1),De(3,1),$e(),De(4,2),on(5,"span",2)(6,"span",3)),i&2&&Ee("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function MQ(t){return t.hasAttribute("mat-raised-button")?"elevated":t.hasAttribute("mat-stroked-button")?"outlined":t.hasAttribute("mat-flat-button")?"filled":t.hasAttribute("mat-button")?"text":null}var TQ=new L("mat-mdc-fab-default-options",{providedIn:"root",factory:()=>bD}),bD={color:"accent"};var kO=(()=>{class t extends Cv{_options=m(TQ,{optional:!0});_isFab=!0;constructor(){super(),this._options=this._options||bD,this.color=this._options.color||bD.color}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["button","mat-mini-fab",""],["a","mat-mini-fab",""],["button","matMiniFab",""],["a","matMiniFab",""]],hostAttrs:[1,"mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"],exportAs:["matButton","matAnchor"],features:[Le],attrs:SQ,ngContentSelectors:SO,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(tt(EO),on(0,"span",0),De(1),qe(2,"span",1),De(3,1),$e(),De(4,2),on(5,"span",2)(6,"span",3)),i&2&&Ee("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[kQ],encapsulation:2,changeDetection:0})}return t})();var Yd=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[la,at]})}return t})();var Qd=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(n,e,i,r,o){this._defaultMatcher=n,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let n=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==n&&(this.errorState=o,this._stateChanges.next())}};var yD=new L("MAT_DATE_LOCALE",{providedIn:"root",factory:()=>m(Uh)}),Kd="Method not implemented",Si=class{locale;_localeChanges=new $;localeChanges=this._localeChanges;setTime(n,e,i,r){throw new Error(Kd)}getHours(n){throw new Error(Kd)}getMinutes(n){throw new Error(Kd)}getSeconds(n){throw new Error(Kd)}parseTime(n,e){throw new Error(Kd)}addSeconds(n,e){throw new Error(Kd)}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return n==null||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,e){return this.getYear(n)-this.getYear(e)||this.getMonth(n)-this.getMonth(e)||this.getDate(n)-this.getDate(e)}compareTime(n,e){return this.getHours(n)-this.getHours(e)||this.getMinutes(n)-this.getMinutes(e)||this.getSeconds(n)-this.getSeconds(e)}sameDate(n,e){if(n&&e){let i=this.isValid(n),r=this.isValid(e);return i&&r?!this.compareDate(n,e):i==r}return n==e}sameTime(n,e){if(n&&e){let i=this.isValid(n),r=this.isValid(e);return i&&r?!this.compareTime(n,e):i==r}return n==e}clampDate(n,e,i){return e&&this.compareDate(n,e)<0?e:i&&this.compareDate(n,i)>0?i:n}},js=new L("mat-date-formats");var xv=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var IQ=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,AQ=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function wD(t,n){let e=Array(t);for(let i=0;i<t;i++)e[i]=n(i);return e}var RQ=(()=>{class t extends Si{_matDateLocale=m(yD,{optional:!0});constructor(){super();let e=m(yD,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return wD(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return wD(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){let i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return wD(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),i=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return i===7?0:i}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth()!=i,o}today(){return new Date}parse(e,i){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,nt(G({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,i*12)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(IQ.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,i,r,o){let a=this.clone(e);return a.setHours(i,r,o,0),a}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,i){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let o=this._parseTimeString(r);if(o===null){let a=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();a.length>0&&(o=this._parseTimeString(a))}return o||this.invalid()}addSeconds(e,i){return new Date(e.getTime()+i*1e3)}_createDateWithOverflow(e,i,r){let o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){let r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}_parseTimeString(e){let i=e.toUpperCase().match(AQ);if(i){let r=parseInt(i[1]),o=parseInt(i[2]),a=i[3]==null?void 0:parseInt(i[3]),s=i[4];if(r===12?r=s==="AM"?0:r:s==="PM"&&(r+=12),CD(r,0,23)&&CD(o,0,59)&&(a==null||CD(a,0,59)))return this.setTime(this.today(),r,o,a||0)}return null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function CD(t,n,e){return!isNaN(t)&&t>=n&&t<=e}var OQ={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var MO=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[NQ()]})}return t})();function NQ(t=OQ){return[{provide:Si,useClass:RQ},{provide:js,useValue:t}]}var FQ=["tooltip"],PQ=20;var LQ=new L("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Sr(t,{scrollThrottle:PQ})}}),BQ=new L("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var TO="tooltip-panel",VQ={passive:!0},jQ=8,HQ=8,zQ=24,UQ=200,IO=(()=>{class t{_elementRef=m(ue);_ngZone=m(he);_platform=m(Je);_ariaDescriber=m(sv);_focusMonitor=m(ei);_dir=m($t);_injector=m(Ie);_viewContainerRef=m(rn);_mediaMatcher=m(Dd);_document=m(Re);_renderer=m(gt);_animationsDisabled=_t();_defaultOptions=m(BQ,{optional:!0});_overlayRef=null;_tooltipInstance=null;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=qQ;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending=!1;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Sn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=Sn(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=fi(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=fi(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_eventCleanups=[];_touchstartTimeout=null;_destroyed=new $;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=jQ}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Qe(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._eventCleanups.forEach(i=>i()),this._eventCleanups.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Ji(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Qe(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof ue)return this._overlayRef;this._detach()}let i=this._injector.get(zr).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${TO}`,o=Do(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i).withPopoverLocation("global");return o.positionChanges.pipe(Qe(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Vi(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(LQ)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Qe(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Qe(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Qe(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!Bt(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Qe(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(G(G({},r.main),o.main)),this._addOffset(G(G({},r.fallback),o.fallback))])}_addOffset(e){let i=HQ,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),At(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e instanceof Set?Array.from(e):e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,a;if(i==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=i==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition){let s=this._overlayRef;if(s){let l=`${this._cssClassPrefix}-${TO}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._eventCleanups.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._addListener("touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)})):this._addListener("mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}))}_setupPointerExitEventsIfNeeded(){if(!this._pointerExitEventsInitialized){if(this._pointerExitEventsInitialized=!0,!this._isTouchPlatform())this._addListener("mouseleave",e=>{let i=e.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}),this._addListener("wheel",e=>{if(this._isTooltipVisible()){let i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}});else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};this._addListener("touchend",e),this._addListener("touchcancel",e)}}}_addListener(e,i){this._eventCleanups.push(this._renderer.listen(this._elementRef.nativeElement,e,i,VQ))}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||At({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return t})(),qQ=(()=>{class t{_changeDetectorRef=m(Ge);_elementRef=m(ue);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=_t();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new $;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>zQ&&e.width>=UQ}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(i);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&Xe(FQ,7),i&2){let o;ne(o=ie())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&Y("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:5,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=Ke();qe(0,"div",1,0),gd("animationend",function(s){return ge(o),ve(r._handleAnimationEnd(s))}),qe(2,"div",2),A(3),$e()()}i&2&&(fn(r.tooltipClass),Ee("mdc-tooltip--multiline",r._isMultiline),M(3),ht(r.message))},styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return t})();var Dv=new L("MAT_INPUT_VALUE_ACCESSOR");var WQ=["mat-calendar-body",""];function GQ(t,n){return this._trackRow(n)}var LO=(t,n)=>n.id;function YQ(t,n){if(t&1&&(x(0,"tr",0)(1,"td",3),A(2),E()()),t&2){let e=Q();M(),Fn("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Oe("colspan",e.numCols),M(),vt(" ",e.label," ")}}function QQ(t,n){if(t&1&&(x(0,"td",3),A(1),E()),t&2){let e=Q(2);Fn("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Oe("colspan",e._firstRowOffset),M(),vt(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function KQ(t,n){if(t&1){let e=Ke();x(0,"td",6)(1,"button",7),Y("click",function(r){let o=ge(e).$implicit,a=Q(2);return ve(a._cellClicked(o,r))})("focus",function(r){let o=ge(e).$implicit,a=Q(2);return ve(a._emitActiveDateChange(o,r))}),x(2,"span",8),A(3),E(),Ne(4,"span",9),E()()}if(t&2){let e=n.$implicit,i=n.$index,r=Q().$index,o=Q();Fn("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Oe("data-mat-row",r)("data-mat-col",i),M(),Ee("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),ce("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),Oe("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),M(),Ee("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),M(),vt(" ",e.displayValue," ")}}function XQ(t,n){if(t&1&&(x(0,"tr",1),be(1,QQ,2,6,"td",4),Ut(2,KQ,5,48,"td",5,LO),E()),t&2){let e=n.$implicit,i=n.$index,r=Q();M(),ye(i===0&&r._firstRowOffset?1:-1),M(),qt(e)}}function ZQ(t,n){if(t&1&&(x(0,"th",2)(1,"span",6),A(2),E(),x(3,"span",3),A(4),E()()),t&2){let e=n.$implicit;M(2),ht(e.long),M(2),ht(e.narrow)}}var JQ=["*"];function eK(t,n){}function tK(t,n){if(t&1){let e=Ke();x(0,"mat-month-view",4),Nt("activeDateChange",function(r){ge(e);let o=Q();return Lt(o.activeDate,r)||(o.activeDate=r),ve(r)}),Y("_userSelection",function(r){ge(e);let o=Q();return ve(o._dateSelected(r))})("dragStarted",function(r){ge(e);let o=Q();return ve(o._dragStarted(r))})("dragEnded",function(r){ge(e);let o=Q();return ve(o._dragEnded(r))}),E()}if(t&2){let e=Q();Ot("activeDate",e.activeDate),ce("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function nK(t,n){if(t&1){let e=Ke();x(0,"mat-year-view",5),Nt("activeDateChange",function(r){ge(e);let o=Q();return Lt(o.activeDate,r)||(o.activeDate=r),ve(r)}),Y("monthSelected",function(r){ge(e);let o=Q();return ve(o._monthSelectedInYearView(r))})("selectedChange",function(r){ge(e);let o=Q();return ve(o._goToDateInView(r,"month"))}),E()}if(t&2){let e=Q();Ot("activeDate",e.activeDate),ce("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function iK(t,n){if(t&1){let e=Ke();x(0,"mat-multi-year-view",6),Nt("activeDateChange",function(r){ge(e);let o=Q();return Lt(o.activeDate,r)||(o.activeDate=r),ve(r)}),Y("yearSelected",function(r){ge(e);let o=Q();return ve(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){ge(e);let o=Q();return ve(o._goToDateInView(r,"year"))}),E()}if(t&2){let e=Q();Ot("activeDate",e.activeDate),ce("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function rK(t,n){}var oK=["button"],aK=[[["","matDatepickerToggleIcon",""]]],sK=["[matDatepickerToggleIcon]"];function lK(t,n){t&1&&(ui(),x(0,"svg",2),Ne(1,"path",3),E())}var Jd=(()=>{class t{changes=new $;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cK=0,Pf=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=cK++;constructor(n,e,i,r,o={},a=n,s){this.value=n,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=a,this.rawValue=s}},dK={passive:!1,capture:!0},Ev={passive:!0,capture:!0},AO={passive:!0},Zd=(()=>{class t{_elementRef=m(ue);_ngZone=m(he);_platform=m(Je);_intl=m(Jd);_eventCleanups;_skipNextFocus=!1;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart=null;comparisonEnd=null;previewStart=null;previewEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;selectedValueChange=new ae;previewChange=new ae;activeDateChange=new ae;dragStarted=new ae;dragEnded=new ae;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=m(Ie);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=m(gt),i=m(Rt);this._startDateLabelId=i.getId("mat-calendar-body-start-"),this._endDateLabelId=i.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=i.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=i.getId("mat-calendar-body-comparison-end-"),m(Ft).load(ti),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,o=[e.listen(r,"touchmove",this._touchmoveHandler,dK),e.listen(r,"mouseenter",this._enterHandler,Ev),e.listen(r,"focus",this._enterHandler,Ev),e.listen(r,"mouseleave",this._leaveHandler,Ev),e.listen(r,"blur",this._leaveHandler,Ev),e.listen(r,"mousedown",this._mousedownHandler,AO),e.listen(r,"touchstart",this._mousedownHandler,AO)];this._platform.isBrowser&&o.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){At(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ED(e,this.startValue,this.endValue)}_isRangeEnd(e){return SD(e,this.startValue,this.endValue)}_isInRange(e){return kD(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ED(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){let a=this.rows[i-1];o=a&&a[a.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){let a=this.rows[i+1];o=a&&a[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return SD(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return kD(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ED(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return SD(e,this.previewStart,this.previewEnd)}_isInPreview(e){return kD(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let i=this._getCellFromElement(e.target);i&&this._ngZone.run(()=>this.previewChange.emit({value:i.enabled?i:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let i=RO(e),r=i?this._getCellFromElement(i):null;i!==e.target&&(this._didDragSinceMouseDown=!0),DD(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let i=e.target&&this._getCellFromElement(e.target);!i||!this._isInRange(i.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:i.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let i=DD(e.target);if(!i){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}i.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(i);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let i=RO(e);i&&this._mouseupHandler({target:i})};_getCellFromElement(e){let i=DD(e);if(i){let r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)]?.[parseInt(o)]||null}return null}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[lt],attrs:WQ,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){i&1&&(be(0,YQ,3,6,"tr",0),Ut(1,XQ,4,1,"tr",1,GQ,!0),x(3,"span",2),A(4),E(),x(5,"span",2),A(6),E(),x(7,"span",2),A(8),E(),x(9,"span",2),A(10),E()),i&2&&(ye(r._firstRowOffset<r.labelMinRequiredCells?0:-1),M(),qt(r.rows),M(2),ce("id",r._startDateLabelId),M(),vt(" ",r.startDateAccessibleName,`
`),M(),ce("id",r._endDateLabelId),M(),vt(" ",r.endDateAccessibleName,`
`),M(),ce("id",r._comparisonStartDateLabelId),M(),_o(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),M(),ce("id",r._comparisonEndDateLabelId),M(),_o(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[ef],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function xD(t){return t?.nodeName==="TD"}function DD(t){let n;return xD(t)?n=t:xD(t.parentNode)?n=t.parentNode:xD(t.parentNode?.parentNode)&&(n=t.parentNode.parentNode),n?.getAttribute("data-mat-row")!=null?n:null}function ED(t,n,e){return e!==null&&n!==e&&t<e&&t===n}function SD(t,n,e){return n!==null&&n!==e&&t>=n&&t===e}function kD(t,n,e,i){return i&&n!==null&&e!==null&&n!==e&&t>=n&&t<=e}function RO(t){let n=t.changedTouches[0];return document.elementFromPoint(n.clientX,n.clientY)}var $r=class{start;end;_disableStructuralEquivalency;constructor(n,e){this.start=n,this.end=e}},Lf=(()=>{class t{selection;_adapter;_selectionChanged=new $;selectionChanged=this._selectionChanged;constructor(e,i){this.selection=e,this._adapter=i,this.selection=e}updateSelection(e,i){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(i){md()};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),uK=(()=>{class t extends Lf{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new t(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(i){return new(i||t)(Pe(Si))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var BO={provide:Lf,useFactory:()=>m(Lf,{optional:!0,skipSelf:!0})||new uK(m(Si))};var VO=new L("MAT_DATE_RANGE_SELECTION_STRATEGY");var MD=7,hK=0,OO=(()=>{class t{_changeDetectorRef=m(Ge);_dateFormats=m(js,{optional:!0});_dateAdapter=m(Si,{optional:!0});_dir=m($t,{optional:!0});_rangeStrategy=m(VO,{optional:!0});_rerenderSubscription=je.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof $r?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;activeDrag=null;selectedChange=new ae;_userSelection=new ae;dragStarted=new ae;dragEnded=new ae;activeDateChange=new ae;_matCalendarBody;_monthLabel=ze("");_weeks=ze([]);_firstWeekOffset=ze(0);_rangeStart=ze(null);_rangeEnd=ze(null);_comparisonRangeStart=ze(null);_comparisonRangeEnd=ze(null);_previewStart=ze(null);_previewEnd=ze(null);_isRange=ze(!1);_todayDate=ze(null);_weekdays=ze([]);constructor(){m(Ft).load(qr),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(kt(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,r=this._getDateFromDayOfMonth(i),o,a;this._selected instanceof $r?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==i||a!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd()!=null&&!Bt(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate.set(this._getCellCompareValue(this._dateAdapter.today())),this._monthLabel.set(this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase());let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset.set((MD+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%MD),this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){let r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart.set(this._getCellCompareValue(o.start)),this._previewEnd.set(this._getCellCompareValue(o.end)),this.activeDrag&&r){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);a&&(this._previewStart.set(this._getCellCompareValue(a.start)),this._previewEnd.set(this._getCellCompareValue(a.end)))}}}_dragEnded(e){if(this.activeDrag)if(e.value){let i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((a,s)=>({long:a,narrow:i[s],id:hK++}));this._weekdays.set(o.slice(e).concat(o.slice(0,e)))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames(),r=[[]];for(let o=0,a=this._firstWeekOffset();o<e;o++,a++){a==MD&&(r.push([]),a=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),l=this._shouldEnableDate(s),c=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),u=this.dateClass?this.dateClass(s,"month"):void 0;r[r.length-1].push(new Pf(o+1,i[o],c,l,u,this._getCellCompareValue(s),s))}this._weeks.set(r)}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof $r?(this._rangeStart.set(this._getCellCompareValue(e.start)),this._rangeEnd.set(this._getCellCompareValue(e.end)),this._isRange.set(!0)):(this._rangeStart.set(this._getCellCompareValue(e)),this._rangeEnd.set(this._rangeStart()),this._isRange.set(!1)),this._comparisonRangeStart.set(this._getCellCompareValue(this.comparisonStart)),this._comparisonRangeEnd.set(this._getCellCompareValue(this.comparisonEnd))}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart.set(null),this._previewEnd.set(null)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(i&1&&Xe(Zd,5),i&2){let o;ne(o=ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[lt],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,r){i&1&&(x(0,"table",0)(1,"thead",1)(2,"tr"),Ut(3,ZQ,5,2,"th",2,LO),E(),x(5,"tr",3),Ne(6,"th",4),E()(),x(7,"tbody",5),Y("selectedValueChange",function(a){return r._dateSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("previewChange",function(a){return r._previewChanged(a)})("dragStarted",function(a){return r.dragStarted.emit(a)})("dragEnded",function(a){return r._dragEnded(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),E()()),i&2&&(M(3),qt(r._weekdays()),M(4),ce("label",r._monthLabel())("rows",r._weeks())("todayValue",r._todayDate())("startValue",r._rangeStart())("endValue",r._rangeEnd())("comparisonStart",r._comparisonRangeStart())("comparisonEnd",r._comparisonRangeEnd())("previewStart",r._previewStart())("previewEnd",r._previewEnd())("isRange",r._isRange())("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Zd],encapsulation:2,changeDetection:0})}return t})(),kr=24,TD=4,NO=(()=>{class t{_changeDetectorRef=m(Ge);_dateAdapter=m(Si,{optional:!0});_dir=m($t,{optional:!0});_rerenderSubscription=je.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),jO(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof $r?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;selectedChange=new ae;yearSelected=new ae;activeDateChange=new ae;_matCalendarBody;_years=ze([]);_todayYear=ze(0);_selectedYear=ze(null);constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(kt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear.set(this._dateAdapter.getYear(this._dateAdapter.today()));let i=this._dateAdapter.getYear(this._activeDate)-Ff(this._dateAdapter,this.activeDate,this.minDate,this.maxDate),r=[];for(let o=0,a=[];o<kr;o++)a.push(i+o),a.length==TD&&(r.push(a.map(s=>this._createCellForYear(s))),a=[]);this._years.set(r),this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-TD);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,TD);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ff(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,kr-Ff(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-kr*10:-kr);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?kr*10:kr);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ff(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Pf(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let r=i;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear.set(null),e instanceof $r){let i=e.start||e.end;i&&this._selectedYear.set(this._dateAdapter.getYear(i))}else e&&this._selectedYear.set(this._dateAdapter.getYear(e))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(i&1&&Xe(Zd,5),i&2){let o;ne(o=ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(x(0,"table",0)(1,"thead",1)(2,"tr"),Ne(3,"th",2),E()(),x(4,"tbody",3),Y("selectedValueChange",function(a){return r._yearSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),E()()),i&2&&(M(4),ce("rows",r._years())("todayValue",r._todayYear())("startValue",r._selectedYear())("endValue",r._selectedYear())("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Zd],encapsulation:2,changeDetection:0})}return t})();function jO(t,n,e,i,r){let o=t.getYear(n),a=t.getYear(e),s=HO(t,i,r);return Math.floor((o-s)/kr)===Math.floor((a-s)/kr)}function Ff(t,n,e,i){let r=t.getYear(n);return fK(r-HO(t,e,i),kr)}function HO(t,n,e){let i=0;return e?i=t.getYear(e)-kr+1:n&&(i=t.getYear(n)),i}function fK(t,n){return(t%n+n)%n}var FO=(()=>{class t{_changeDetectorRef=m(Ge);_dateFormats=m(js,{optional:!0});_dateAdapter=m(Si,{optional:!0});_dir=m($t,{optional:!0});_rerenderSubscription=je.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof $r?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;selectedChange=new ae;monthSelected=new ae;activeDateChange=new ae;_matCalendarBody;_months=ze([]);_yearLabel=ze("");_todayMonth=ze(null);_selectedMonth=ze(null);constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(kt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth.set(this._getMonthInCurrentYear(this._dateAdapter.today())),this._yearLabel.set(this._dateAdapter.getYearName(this.activeDate));let e=this._dateAdapter.getMonthNames("short");this._months.set([[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r])))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new Pf(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,e,1);for(let o=r;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof $r?this._selectedMonth.set(this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end)):this._selectedMonth.set(this._getMonthInCurrentYear(e))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(i&1&&Xe(Zd,5),i&2){let o;ne(o=ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(x(0,"table",0)(1,"thead",1)(2,"tr"),Ne(3,"th",2),E()(),x(4,"tbody",3),Y("selectedValueChange",function(a){return r._monthSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),E()()),i&2&&(M(4),ce("label",r._yearLabel())("rows",r._months())("todayValue",r._todayMonth())("startValue",r._selectedMonth())("endValue",r._selectedMonth())("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Zd],encapsulation:2,changeDetection:0})}return t})(),zO=(()=>{class t{_intl=m(Jd);calendar=m(ID);_dateAdapter=m(Si,{optional:!0});_dateFormats=m(js,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){m(Ft).load(qr);let e=m(Ge);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),e.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.previousEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-kr))}nextClicked(){this.nextEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:kr))}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let e=this.calendar,i=this._intl,r=this._dateAdapter;e.currentView==="month"?(this._periodButtonText=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=i.switchToMultiYearViewLabel,this._prevButtonLabel=i.prevMonthLabel,this._nextButtonLabel=i.nextMonthLabel):e.currentView==="year"?(this._periodButtonText=r.getYearName(e.activeDate),this._periodButtonDescription=r.getYearName(e.activeDate),this._periodButtonLabel=i.switchToMonthViewLabel,this._prevButtonLabel=i.prevYearLabel,this._nextButtonLabel=i.nextYearLabel):(this._periodButtonText=i.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=i.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=i.switchToMonthViewLabel,this._prevButtonLabel=i.prevMultiYearLabel,this._nextButtonLabel=i.nextMultiYearLabel)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):jO(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-Ff(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+kr-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,a]}_periodButtonLabelId=m(Rt).getId("mat-calendar-period-label-");static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:JQ,decls:17,vars:13,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-previous-button",3,"click","disabled","matTooltip"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-next-button",3,"click","disabled","matTooltip"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,r){i&1&&(tt(),x(0,"div",0)(1,"div",1)(2,"span",2),A(3),E(),x(4,"button",3),Y("click",function(){return r.currentPeriodClicked()}),x(5,"span",4),A(6),E(),ui(),x(7,"svg",5),Ne(8,"polygon",6),E()(),nd(),Ne(9,"div",7),De(10),x(11,"button",8),Y("click",function(){return r.previousClicked()}),ui(),x(12,"svg",9),Ne(13,"path",10),E()(),nd(),x(14,"button",11),Y("click",function(){return r.nextClicked()}),ui(),x(15,"svg",9),Ne(16,"path",12),E()()()()),i&2&&(M(2),ce("id",r._periodButtonLabelId),M(),ht(r.periodButtonDescription),M(),Oe("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),M(2),ht(r.periodButtonText),M(),Ee("mat-calendar-invert",r.calendar.currentView!=="month"),M(4),ce("disabled",!r.previousEnabled())("matTooltip",r.prevButtonLabel),Oe("aria-label",r.prevButtonLabel),M(3),ce("disabled",!r.nextEnabled())("matTooltip",r.nextButtonLabel),Oe("aria-label",r.nextButtonLabel))},dependencies:[Vt,er,IO],encapsulation:2,changeDetection:0})}return t})(),ID=(()=>{class t{_dateAdapter=m(Si,{optional:!0});_dateFormats=m(js,{optional:!0});_changeDetectorRef=m(Ge);_elementRef=m(ue);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt=null;startView="month";get selected(){return this._selected}set selected(e){e instanceof $r?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;selectedChange=new ae;yearSelected=new ae;monthSelected=new ae;viewChanged=new ae(!0);_userSelection=new ae;_userDragDrop=new ae;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&(this.stateChanges.next(),this.viewChanged.emit(i))}_currentView;_activeDrag=null;stateChanges=new $;constructor(){this._intlChanges=m(Jd).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Ji(this.headerComponent||zO),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){let a=this._getCurrentViewComponent();a&&(this._elementRef.nativeElement.contains(Cr())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()?._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()?._init()}_dateSelected(e){let i=e.value;(this.selected instanceof $r||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(i&1&&Xe(OO,5)(FO,5)(NO,5),i&2){let o;ne(o=ie())&&(r.monthView=o.first),ne(o=ie())&&(r.yearView=o.first),ne(o=ie())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[We([BO]),lt],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,r){if(i&1&&(xt(0,eK,0,0,"ng-template",0),x(1,"div",1),be(2,tK,1,11,"mat-month-view",2)(3,nK,1,6,"mat-year-view",3)(4,iK,1,6,"mat-multi-year-view",3),E()),i&2){let o;ce("cdkPortalOutlet",r._calendarHeaderPortal),M(2),ye((o=r.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[Dr,Wx,OO,FO,NO],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus-visible .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})(),pK=new L("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Sr(t)}}),UO=(()=>{class t{_elementRef=m(ue);_animationsDisabled=_t();_changeDetectorRef=m(Ge);_globalModel=m(Lf);_dateAdapter=m(Si);_ngZone=m(he);_rangeSelectionStrategy=m(VO,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;_isAbove=!1;_animationDone=new $;_isAnimating=!1;_closeButtonText;_closeButtonFocused=!1;_actionsPortal=null;_dialogLabelId=null;constructor(){if(m(Ft).load(qr),this._closeButtonText=m(Jd).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,i=m(gt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"animationstart",this._handleAnimationEvent),i.listen(e,"animationend",this._handleAnimationEvent),i.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,r=e.value,o=i instanceof $r;if(o&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let i=this._elementRef.nativeElement;e.target!==i||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",i.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(i&1&&Xe(ID,5),i&2){let o;ne(o=ie())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(i,r){i&2&&(fn(r.color?"mat-"+r.color:""),Ee("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"mat-calendar",1),Y("yearSelected",function(a){return r.datepicker._selectYear(a)})("monthSelected",function(a){return r.datepicker._selectMonth(a)})("viewChanged",function(a){return r.datepicker._viewChanged(a)})("_userSelection",function(a){return r._handleUserSelection(a)})("_userDragDrop",function(a){return r._handleUserDragDrop(a)}),E(),xt(2,rK,0,0,"ng-template",2),x(3,"button",3),Y("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),A(4),E()()),i&2&&(Ee("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Oe("aria-modal",!0)("aria-labelledby",r._dialogLabelId??void 0),M(),fn(r.datepicker.panelClass),ce("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),M(),ce("cdkPortalOutlet",r._actionsPortal),M(),Ee("cdk-visually-hidden",!r._closeButtonFocused),ce("color",r.color||"primary"),M(),ht(r._closeButtonText))},dependencies:[tD,ID,Dr,Vt],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return t})(),PO=(()=>{class t{_injector=m(Ie);_viewContainerRef=m(rn);_dateAdapter=m(Si,{optional:!0});_dir=m($t,{optional:!0});_model=m(Lf);_animationsDisabled=_t();_scrollStrategy=m(pK);_inputStateChanges=je.EMPTY;_document=m(Re);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt=null;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new ae;monthSelected=new ae;viewChanged=new ae(!0);dateClass;openedStream=new ae;closedStream=new ae;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=BR(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=m(Rt).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef=null;_componentRef=null;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal=null;datepickerInput;stateChanges=new $;_changeDetectorRef=m(Ge);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof qd&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Cr(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:o}=this._componentRef;r._animationDone.pipe(Ct(1)).subscribe(()=>{let a=this._document.activeElement;e&&(!a||a===this._document.activeElement||o.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),r._startExitAnimation()}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,i=new Ji(UO,this._viewContainerRef),r=this._overlayRef=Vi(this._injector,new Bi({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?Vs(this._injector):this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`,disableAnimations:this._animationsDisabled}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{let a=o.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||At(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return sa(this._injector).centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=Do(this._injector,this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let i=this.xPosition==="end"?"end":"start",r=i==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",a=o==="top"?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:a}])}_getCloseStream(e){let i=["ctrlKey","shiftKey","metaKey"];return It(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ze(r=>r.keyCode===27&&!Bt(r)||this.datepickerInput&&Bt(r,"altKey")&&r.keyCode===38&&i.every(o=>!Bt(r,o)))))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",_e],disabled:[2,"disabled","disabled",_e],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",_e],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",_e]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[lt]})}return t})(),qO=(()=>{class t extends PO{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[We([BO,{provide:PO,useExisting:t}]),Le],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return t})(),Xd=class{target;targetElement;value=null;constructor(n,e){this.target=n,this.targetElement=e,this.value=this.target.value}},mK=(()=>{class t{_elementRef=m(ue);_dateAdapter=m(Si,{optional:!0});_dateFormats=m(js,{optional:!0});_isInitialized=!1;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e,!0)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let i=e,r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_disabled;dateChange=new ae;dateInput=new ae;stateChanges=new $;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=je.EMPTY;_localeSubscription=je.EMPTY;_pendingValue=null;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!i||this._matchesFilter(i)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMinDate();return!r||!i||this._dateAdapter.compareDate(r,i)<=0?null:{matDatepickerMin:{min:r,actual:i}}};_maxValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMaxDate();return!r||!i||this._dateAdapter.compareDate(r,i)>=0?null:{matDatepickerMax:{max:r,actual:i}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){let r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Xd(this,this._elementRef.nativeElement)),this.dateChange.emit(new Xd(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value,!0)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){gK(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e,e!==this.value)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let i=["ctrlKey","shiftKey","metaKey"];Bt(e,"altKey")&&e.keyCode===40&&i.every(o=>!Bt(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let i=e.target.value,r=this._lastValueValid,o=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let a=!this._dateAdapter.sameDate(o,this.value);!o||a?this._cvaOnChange(o):(i&&!this.value&&this._cvaOnChange(o),r!==this._lastValueValid&&this._validatorOnChange()),a&&(this._assignValue(o),this.dateInput.emit(new Xd(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Xd(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e,i){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),i&&this._formatValue(e)}_matchesFilter(e){let i=this._getDateFilter();return!i||i(e)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,inputs:{value:"value",disabled:[2,"disabled","disabled",_e]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[lt]})}return t})();function gK(t,n){let e=Object.keys(t);for(let i of e){let{previousValue:r,currentValue:o}=t[i];if(n.isDateInstance(r)&&n.isDateInstance(o)){if(!n.sameDate(r,o))return!0}else return!0}return!1}var vK={provide:ia,useExisting:Rn(()=>Sv),multi:!0},_K={provide:Rd,useExisting:Rn(()=>Sv),multi:!0},Sv=(()=>{class t extends mK{_formField=m($a,{optional:!0});_closedSubscription=je.EMPTY;_openedSubscription=je.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=ze(null);get min(){return this._min}set min(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}_min=null;get max(){return this._max}set max(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}_max=null;get dateFilter(){return this._dateFilter}set dateFilter(e){let i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}_dateFilter;_validator=null;constructor(){super(),this._validator=As.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){i&1&&Y("input",function(a){return r._onInput(a)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(a){return r._onKeydown(a)}),i&2&&(Zn("disabled",r.disabled),Oe("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[We([vK,_K,{provide:Dv,useExisting:t}]),Le]})}return t})(),bK=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matDatepickerToggleIcon",""]]})}return t})(),AD=(()=>{class t{_intl=m(Jd);_changeDetectorRef=m(Ge);_stateChanges=je.EMPTY;datepicker;tabIndex=null;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple=!1;_customIcon;_button;constructor(){let e=m(new Gi("tabindex"),{optional:!0}),i=Number(e);this.tabIndex=i||i===0?i:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:Be(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Be(),r=this.datepicker?It(this.datepicker.openedStream,this.datepicker.closedStream):Be();this._stateChanges.unsubscribe(),this._stateChanges=It(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,bK,5),i&2){let a;ne(a=ie())&&(r._customIcon=a.first)}},viewQuery:function(i,r){if(i&1&&Xe(oK,5),i&2){let o;ne(o=ie())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){i&1&&Y("click",function(a){return r._open(a)}),i&2&&(Oe("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Ee("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",_e],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[lt],ngContentSelectors:sK,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){i&1&&(tt(aK),x(0,"button",1,0),be(2,lK,2,0,":svg:svg",2),De(3),E()),i&2&&(ce("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled)("disableRipple",r.disableRipple),Oe("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("aria-expanded",r.datepicker?r.datepicker.opened:null),M(2),ye(r._customIcon?-1:2))},dependencies:[er],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return t})();var $O=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[Jd],imports:[Yd,ji,Cf,Er,UO,AD,zO,at,Qi]})}return t})();function yK(t,n){}var Hs=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var OD=(()=>{class t extends Bs{_elementRef=m(ue);_focusTrapFactory=m(Vd);_config;_interactivityChecker=m(Bd);_ngZone=m(he);_focusMonitor=m(ei);_renderer=m(gt);_changeDetectorRef=m(Ge);_injector=m(Ie);_platform=m(Je);_document=m(Re);_portalOutlet;_focusTrapped=new $;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=m(Hs,{optional:!0})||new Hs,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||At(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=Cr(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=Cr();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Cr()))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&Xe(Dr,7),i&2){let o;ne(o=ie())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Oe("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Le],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&xt(0,yK,0,0,"ng-template",0)},dependencies:[Dr],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),Bf=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new $;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,e){this.overlayRef=n,this.config=e,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Bt(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this._canClose(n)){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(n,e,this.componentInstance))}},wK=new L("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Vs(t)}}),CK=new L("DialogData"),xK=new L("DefaultDialogConfig");function DK(t){let n=ze(t),e=new ae;return{valueSignal:n,get value(){return n()},change:e,ngOnDestroy(){e.complete()}}}var ND=(()=>{class t{_injector=m(Ie);_defaultOptions=m(xK,{optional:!0});_parentDialog=m(t,{optional:!0,skipSelf:!0});_overlayContainer=m(mv);_idGenerator=m(Rt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new $;_afterOpenedAtThisLevel=new $;_ariaHiddenElements=new Map;_scrollStrategy=m(wK);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=mr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(kt(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new Hs;i=G(G({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=Vi(this._injector,o),s=new Bf(a,i),l=this._attachContainer(a,s,i);if(s.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Ct(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,s,l,i),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){RD(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){RD(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),RD(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new Bi({positionStrategy:e.positionStrategy||sa().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:Hs,useValue:r},{provide:Bf,useValue:i},{provide:Ud,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=OD;let l=new Ji(s,r.viewContainerRef,Ie.create({parent:o||this._injector,providers:a}));return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof Qt){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=G(G({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Ei(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new Ji(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:CK,useValue:e.data},{provide:Bf,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get($t,null,{optional:!0}))&&s.push({provide:$t,useValue:DK(e.direction)}),Ie.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RD(t,n){let e=t.length;for(;e--;)n(t[e])}var WO=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[ND],imports:[ji,Er,Cf,Er]})}return t})();function EK(t,n){}var Mv=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},FD="mdc-dialog--open",GO="mdc-dialog--opening",YO="mdc-dialog--closing",SK=150,kK=75,MK=(()=>{class t extends OD{_animationStateChanged=new ae;_animationsEnabled=!_t();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?KO(this._config.enterAnimationDuration)??SK:0;_exitAnimationDuration=this._animationsEnabled?KO(this._config.exitAnimationDuration)??kK:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(QO,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(GO,FD)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(FD),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(FD),this._animationsEnabled?(this._hostElement.style.setProperty(QO,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(YO)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(GO,YO)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Zn("id",r._config.id),Oe("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ee("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Le],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(x(0,"div",0)(1,"div",1),xt(2,EK,0,0,"ng-template",2),E()())},dependencies:[Dr],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),QO="--mat-dialog-transition-duration";function KO(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?fi(t.substring(0,t.length-2)):t.endsWith("s")?fi(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var kv=(function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t})(kv||{}),Mr=class{_ref;_config;_containerInstance;componentInstance;componentRef=null;disableClose;id;_afterOpened=new An(1);_beforeClosed=new An(1);_result;_closeFallbackTimeout;_state=kv.OPEN;_closeInteractionType;constructor(n,e,i){this._ref=n,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Ze(r=>r.state==="opened"),Ct(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ze(r=>r.state==="closed"),Ct(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),It(this.backdropClick(),this.keydownEvents().pipe(Ze(r=>r.keyCode===27&&!this.disableClose&&!Bt(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),XO(this,r.type==="keydown"?"keyboard":"mouse"))})}close(n){let e=this._config.closePredicate;e&&!e(n,this._config,this.componentInstance)||(this._result=n,this._containerInstance._animationStateChanged.pipe(Ze(i=>i.state==="closing"),Ct(1)).subscribe(i=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=kv.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=kv.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function XO(t,n,e){return t._closeInteractionType=n,t.close(e)}var PD=new L("MatMdcDialogData"),TK=new L("mat-mdc-dialog-default-options"),IK=new L("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Vs(t)}}),Wa=(()=>{class t{_defaultOptions=m(TK,{optional:!0});_scrollStrategy=m(IK);_parentDialog=m(t,{optional:!0,skipSelf:!0});_idGenerator=m(Rt);_injector=m(Ie);_dialog=m(ND);_animationsDisabled=_t();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new $;_afterOpenedAtThisLevel=new $;dialogConfigClass=Mv;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=mr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(kt(void 0)));constructor(){this._dialogRefConstructor=Mr,this._dialogContainerType=MK,this._dialogDataToken=PD}open(e,i){let r;i=G(G({},this._defaultOptions||new Mv),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,nt(G({},i),{positionStrategy:sa(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Hs,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tv=(()=>{class t{dialogRef=m(Mr,{optional:!0});_elementRef=m(ue);_dialog=m(Wa);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=JO(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){XO(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){i&1&&Y("click",function(a){return r._onButtonClick(a)}),i&2&&Oe("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[lt]})}return t})(),ZO=(()=>{class t{_dialogRef=m(Mr,{optional:!0});_elementRef=m(ue);_dialog=m(Wa);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=JO(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t})}return t})(),zs=(()=>{class t extends ZO{id=m(Rt).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){i&2&&Zn("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Le]})}return t})(),Us=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[wC([wr])]})}return t})(),qs=(()=>{class t extends ZO{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){i&2&&Ee("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},features:[Le]})}return t})();function JO(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(i=>i.id===e.id):null}var eN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[Wa],imports:[WO,ji,Er,at]})}return t})();var Vf=(()=>{class t{_listeners=[];notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tN=new L("CdkAccordion");var nN=(()=>{class t{accordion=m(tN,{optional:!0,skipSelf:!0});_changeDetectorRef=m(Ge);_expansionDispatcher=m(Vf);_openCloseAllSubscription=je.EMPTY;closed=new ae;opened=new ae;destroyed=new ae;expandedChange=new ae;id=m(Rt).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=ze(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",_e],disabled:[2,"disabled","disabled",_e]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[We([{provide:tN,useValue:void 0}])]})}return t})(),iN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})();var Iv=class{applyChanges(n,e,i,r,o){n.forEachOperation((a,s,l)=>{let c,u;if(a.previousIndex==null){let d=i(a,s,l);c=e.createEmbeddedView(d.templateRef,d.context,d.index),u=xo.INSERTED}else l==null?(e.remove(s),u=xo.REMOVED):(c=e.get(s),e.move(c,l),u=xo.MOVED);o&&o({context:c?.context,operation:u,record:a})})}detach(){}};var jf=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected=null;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new $;constructor(n=!1,e,i=!0,r){this._multiple=n,this._emitChanges=i,this.compareWith=r,e&&e.length&&(n?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);let e=this.selected,i=new Set(n.map(o=>this._getConcreteValue(o)));n.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();let e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){n.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(n,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(n,i))return i;return n}else return n}};var AK=["body"],RK=["bodyWrapper"],OK=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],NK=["mat-expansion-panel-header","*","mat-action-row"];function FK(t,n){}var PK=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],LK=["mat-panel-title","mat-panel-description","*"];function BK(t,n){t&1&&(qe(0,"span",1),ui(),qe(1,"svg",2),on(2,"path",3),$e()())}var rN=new L("MAT_ACCORDION"),oN=new L("MAT_EXPANSION_PANEL"),VK=(()=>{class t{_template=m(Qt);_expansionPanel=m(oN,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),aN=new L("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),LD=(()=>{class t extends nN{_viewContainerRef=m(rn);_animationsDisabled=_t();_document=m(Re);_ngZone=m(he);_elementRef=m(ue);_renderer=m(gt);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new ae;afterCollapse=new ae;_inputChanges=new $;accordion=m(rN,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=m(Rt).getId("mat-expansion-panel-header-");constructor(){super();let e=m(aN,{optional:!0});this._expansionDispatcher=m(Vf),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(kt(null),Ze(()=>this.expanded&&!this._portal),Ct(1)).subscribe(()=>{this._portal=new Ei(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:i})=>{e===this._bodyWrapper?.nativeElement&&i==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,VK,5),i&2){let a;ne(a=ie())&&(r._lazyContent=a.first)}},viewQuery:function(i,r){if(i&1&&Xe(AK,5)(RK,5),i&2){let o;ne(o=ie())&&(r._body=o.first),ne(o=ie())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,r){i&2&&Ee("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",_e],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[We([{provide:rN,useValue:void 0},{provide:oN,useExisting:t}]),Le,lt],ngContentSelectors:NK,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){i&1&&(tt(OK),De(0),x(1,"div",2,0)(3,"div",3,1)(5,"div",4),De(6,1),xt(7,FK,0,0,"ng-template",5),E(),De(8,2),E()()),i&2&&(M(),Oe("inert",r.expanded?null:""),M(2),ce("id",r.id),Oe("aria-labelledby",r._headerId),M(4),ce("cdkPortalOutlet",r._portal))},dependencies:[Dr],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}@media print{.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return t})(),sN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]})}return t})(),lN=(()=>{class t{panel=m(LD,{host:!0});_element=m(ue);_focusMonitor=m(ei);_changeDetectorRef=m(Ge);_parentChangeSubscription=je.EMPTY;constructor(){m(Ft).load(ti);let e=this.panel,i=m(aN,{optional:!0}),r=m(new Gi("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(Ze(a=>!!(a.hideToggle||a.togglePosition))):mn;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=It(e.opened,e.closed,o,e._inputChanges.pipe(Ze(a=>!!(a.hideToggle||a.disabled||a.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Ze(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Bt(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,r){i&1&&Y("click",function(){return r._toggle()})("keydown",function(a){return r._keydown(a)}),i&2&&(Oe("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Fn("height",r._getHeaderHeight()),Ee("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:xn(e)]},ngContentSelectors:LK,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){i&1&&(tt(PK),qe(0,"span",0),De(1),De(2,1),De(3,2),$e(),be(4,BK,3,0,"span",1)),i&2&&(Ee("mat-content-hide-toggle",!r._showToggle()),M(4),ye(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return t})();var cN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})();var dN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[iN,Er,at]})}return t})();var ic=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[Ld,kn,at]})}return t})();function uN(t){return Error(`Unable to find icon with the name "${t}"`)}function jK(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function hN(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function fN(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Ga=class{url;svgText;options;svgElement=null;constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}},mN=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Ga(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){let a=this._sanitizer.sanitize(Xn.HTML,r);if(!a)throw fN(r);let s=Zl(a);return this._addSvgIconConfig(e,i,new Ga("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Ga(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let o=this._sanitizer.sanitize(Xn.HTML,i);if(!o)throw fN(i);let a=Zl(o);return this._addSvgIconSetConfig(e,new Ga("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(Xn.RESOURCE_URL,e);if(!i)throw hN(e);let r=this._cachedIconsByUrl.get(i);return r?Be(Av(r)):this._loadSvgIconFromConfig(new Ga(e,null)).pipe(ri(o=>this._cachedIconsByUrl.set(i,o)),He(o=>Av(o)))}getNamedSvgIcon(e,i=""){let r=pN(i,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):ih(uN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Be(Av(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(He(i=>Av(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return Be(r);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(fl(s=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Xn.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),Be(null)})));return ul(o).pipe(He(()=>{let a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw uN(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ri(i=>e.svgText=i),He(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Be(null):this._fetchIcon(e).pipe(ri(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let s=this._svgElementFromString(Zl("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(Zl("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:a,value:s}=r[o];a!=="id"&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw jK();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(Xn.RESOURCE_URL,i);if(!a)throw hN(i);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(He(c=>Zl(c)),ms(()=>this._inProgressUrlFetches.delete(a)),oh());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(pN(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,e);if(o)return HK(o)?new Ga(o.url,null,o.options):new Ga(o,null)}}static \u0275fac=function(i){return new(i||t)(Pe(na,8),Pe(yf),Pe(Re,8),Pe(qi))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Av(t){return t.cloneNode(!0)}function pN(t,n){return t+":"+n}function HK(t){return!!(t.url&&t.options)}var zK=["*"],UK=new L("MAT_ICON_DEFAULT_OPTIONS"),qK=new L("mat-icon-location",{providedIn:"root",factory:()=>{let t=m(Re),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),gN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$K=gN.map(t=>`[${t}]`).join(", "),WK=/^url\(['"]?#(.*?)['"]?\)$/,ki=(()=>{class t{_elementRef=m(ue);_iconRegistry=m(mN);_location=m(qK);_errorHandler=m(qi);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName=null;_svgNamespace=null;_previousPath;_elementsWithExternalReferences;_currentIconFetch=je.EMPTY;constructor(){let e=m(new Gi("aria-hidden"),{optional:!0}),i=m(UK,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll($K),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)gN.forEach(a=>{let s=i[o],l=s.getAttribute(a),c=l?l.match(WK):null;if(c){let u=r.get(s);u||(u=[],r.set(s,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ct(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Oe("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),fn(r.color?"mat-"+r.color:""),Ee("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",_e],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:zK,decls:1,vars:0,template:function(i,r){i&1&&(tt(),De(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return t})(),vN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at]})}return t})();var GK=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return t})(),YK={passive:!0},_N=(()=>{class t{_platform=m(Je);_ngZone=m(he);_renderer=m(wn).createRenderer(null,null);_styleLoader=m(Ft);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return mn;this._styleLoader.load(GK);let i=Pi(e),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new $,a="cdk-text-field-autofilled",s=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(a)?(i.classList.add(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(i,"animationstart",s,YK)));return this._monitoredElements.set(i,{subject:o,unlisten:l}),o}stopMonitoring(e){let i=Pi(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({})}return t})();var QK=["button","checkbox","file","hidden","image","radio","range","reset","submit"],KK=new L("MAT_INPUT_CONFIG"),Gn=(()=>{class t{_elementRef=m(ue);_platform=m(Je);ngControl=m(Ur,{optional:!0,self:!0});_autofillMonitor=m(_N);_ngZone=m(he);_formField=m($a,{optional:!0});_renderer=m(gt);_uid=m(Rt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder=null;_errorStateTracker;_config=m(KK,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer=!1;_isNativeSelect=!1;_isTextarea=!1;_isInFormField=!1;focused=!1;stateChanges=new $;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Sn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(As.required)??!1}set required(e){this._required=Sn(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&aD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Sn(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>aD().has(e));constructor(){let e=m(Ki,{optional:!0}),i=m(Nd,{optional:!0}),r=m(xv),o=m(Dv,{optional:!0,self:!0}),a=this._elementRef.nativeElement,s=a.nodeName.toLowerCase();o?Ba(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=a,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Qd(r,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=s==="select",this._isTextarea=s==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=a.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Ra(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){QK.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&Y("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Zn("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Oe("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ee("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e]},exportAs:["matInput"],features:[We([{provide:Wd,useExisting:t}]),lt]})}return t})(),yN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[ic,ic,bN,at]})}return t})();var wN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at]})}return t})();var CN=["*"],xN=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus-visible>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,XK=["unscopedContent"],ZK=["text"],JK=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],eX=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var tX=new L("ListOption"),nX=(()=>{class t{_elementRef=m(ue);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return t})(),iX=(()=>{class t{_elementRef=m(ue);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return t})(),rX=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return t})(),DN=(()=>{class t{_listOption=m(tX,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,hostVars:4,hostBindings:function(i,r){i&2&&Ee("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return t})(),oX=(()=>{class t extends DN{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Le]})}return t})(),aX=(()=>{class t extends DN{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Le]})}return t})(),sX=new L("MAT_LIST_CONFIG"),Hf=(()=>{class t{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Sn(e)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(Sn(e))}_disabled=ze(!1);_defaultOptions=m(sX,{optional:!0});static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,hostVars:1,hostBindings:function(i,r){i&2&&Oe("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return t})(),lX=(()=>{class t{_elementRef=m(ue);_ngZone=m(he);_listBase=m(Hf,{optional:!0});_platform=m(Je);_hostElement;_isButtonElement;_noopAnimations=_t();_avatars;_icons;set lines(e){this._explicitLines=fi(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Sn(e)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(e){this._disabled.set(Sn(e))}_disabled=ze(!1);_subscriptions=new je;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){m(Ft).load(ti);let e=m(qa,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new ec(this,this._ngZone,this._hostElement,this._platform,m(Ie)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(It(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let o=this._titles.length===0&&i===1;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,contentQueries:function(i,r,o){if(i&1&&Kt(o,oX,4)(o,aX,4),i&2){let a;ne(a=ie())&&(r._avatars=a),ne(a=ie())&&(r._icons=a)}},hostVars:4,hostBindings:function(i,r){i&2&&(Oe("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),Ee("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return t})();var ca=(()=>{class t extends Hf{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[We([{provide:Hf,useExisting:t}]),Le],ngContentSelectors:CN,decls:1,vars:0,template:function(i,r){i&1&&(tt(),De(0))},styles:[xN],encapsulation:2,changeDetection:0})}return t})(),Wr=(()=>{class t extends lX{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=Sn(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(i&1&&Kt(o,iX,5)(o,nX,5)(o,rX,5),i&2){let a;ne(a=ie())&&(r._lines=a),ne(a=ie())&&(r._titles=a),ne(a=ie())&&(r._meta=a)}},viewQuery:function(i,r){if(i&1&&Xe(XK,5)(ZK,5),i&2){let o;ne(o=ie())&&(r._unscopedContent=o.first),ne(o=ie())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){i&2&&(Oe("aria-current",r._getAriaCurrent()),Ee("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Le],ngContentSelectors:eX,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,r){if(i&1){let o=Ke();tt(JK),De(0),x(1,"span",1),De(2,1),De(3,2),x(4,"span",2,0),Y("cdkObserveContent",function(){return ge(o),ve(r._updateItemLines(!0))}),De(6,3),E()(),De(7,4),De(8,5),Ne(9,"div",3)}},dependencies:[DR],encapsulation:2,changeDetection:0})}return t})();var EN=(()=>{class t extends Hf{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[We([{provide:Hf,useExisting:t}]),Le],ngContentSelectors:CN,decls:1,vars:0,template:function(i,r){i&1&&(tt(),De(0))},styles:[xN],encapsulation:2,changeDetection:0})}return t})();var SN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[Ld,la,_v,at,wN]})}return t})();var cX=["mat-menu-item",""],dX=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],uX=["mat-icon, [matMenuItemIcon]","*"];function hX(t,n){t&1&&(ui(),x(0,"svg",2),Ne(1,"polygon",3),E())}var fX=["*"];function pX(t,n){if(t&1){let e=Ke();qe(0,"div",0),gd("click",function(){ge(e);let r=Q();return ve(r.closed.emit("click"))})("animationstart",function(r){ge(e);let o=Q();return ve(o._onAnimationStart(r.animationName))})("animationend",function(r){ge(e);let o=Q();return ve(o._onAnimationDone(r.animationName))})("animationcancel",function(r){ge(e);let o=Q();return ve(o._onAnimationDone(r.animationName))}),qe(1,"div",1),De(2),$e()()}if(t&2){let e=Q();fn(e._classList),Ee("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating()),Zn("id",e.panelId),Oe("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var VD=new L("MAT_MENU_PANEL"),rc=(()=>{class t{_elementRef=m(ue);_document=m(Re);_focusMonitor=m(ei);_parentMenu=m(VD,{optional:!0});_changeDetectorRef=m(Ge);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new $;_focused=new $;_highlighted=!1;_triggersSubmenu=!1;constructor(){m(Ft).load(ti),this._parentMenu?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&Y("click",function(a){return r._checkDisabled(a)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(Oe("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Ee("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",_e],disableRipple:[2,"disableRipple","disableRipple",_e]},exportAs:["matMenuItem"],attrs:cX,ngContentSelectors:uX,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(tt(dX),De(0),x(1,"span",0),De(2,1),E(),Ne(3,"div",1),be(4,hX,2,0,":svg:svg",2)),i&2&&(M(3),ce("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),M(),ye(r._triggersSubmenu?4:-1))},dependencies:[tc],encapsulation:2,changeDetection:0})}return t})();var mX=new L("MatMenuContent");var gX=new L("mat-menu-default-options",{providedIn:"root",factory:()=>({overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"})}),BD="_mat-menu-enter",Rv="_mat-menu-exit",$s=(()=>{class t{_elementRef=m(ue);_changeDetectorRef=m(Ge);_injector=m(Ie);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=_t();_allItems;_directDescendantItems=new $i;_classList={};_panelAnimationState="void";_animationDone=new $;_isAnimating=ze(!1);parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger=!1;hasBackdrop;set panelClass(e){let i=this._previousPanelClass,r=G({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new ae;close=this.closed;panelId=m(Rt).getId("mat-menu-panel-");constructor(){let e=m(gX);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Ps(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(kt(this._directDescendantItems),en(e=>It(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(kt(this._directDescendantItems),en(i=>It(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let i=e.keyCode,r=this._keyManager;switch(i){case 27:Bt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=At(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList=nt(G({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let i=e===Rv;(i||e===BD)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating.set(!1))}_onAnimationStart(e){(e===BD||e===Rv)&&this._isAnimating.set(!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(Rv),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?BD:Rv)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(kt(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,mX,5)(o,rc,5)(o,rc,4),i&2){let a;ne(a=ie())&&(r.lazyContent=a.first),ne(a=ie())&&(r._allItems=a),ne(a=ie())&&(r.items=a)}},viewQuery:function(i,r){if(i&1&&Xe(Qt,5),i&2){let o;ne(o=ie())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&Oe("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",_e],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:_e(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[We([{provide:VD,useExisting:t}])],ngContentSelectors:fX,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(tt(),Fl(0,pX,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{border-top-color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return t})(),vX=new L("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Sr(t)}});var eu=new WeakMap,_X=(()=>{class t{_canHaveBackdrop;_element=m(ue);_viewContainerRef=m(rn);_menuItemInstance=m(rc,{optional:!0,self:!0});_dir=m($t,{optional:!0});_focusMonitor=m(ei);_ngZone=m(he);_injector=m(Ie);_scrollStrategy=m(vX);_changeDetectorRef=m(Ge);_animationsDisabled=_t();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=je.EMPTY;_menuCloseSubscription=je.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(e){e!==this._menuInternal&&(this._menuInternal=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal=null;constructor(e){this._canHaveBackdrop=e;let i=m(VD,{optional:!0});this._parentMaterialMenu=i instanceof $s?i:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&eu.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(e){if(this._triggerIsAriaDisabled())return;let i=this._menu;if(this._menuOpen||!i)return;this._pendingRemoval?.unsubscribe();let r=eu.get(i);eu.set(i,this),r&&r!==this&&r._closeMenu();let o=this._createOverlay(i),a=o.getConfig(),s=a.positionStrategy;this._setPosition(i,s),this._canHaveBackdrop?a.hasBackdrop=i.hasBackdrop==null?!this._triggersSubmenu():i.hasBackdrop:a.hasBackdrop=!1,o.hasAttached()||(o.attach(this._getPortal(i)),i.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),i.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,e&&i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),i instanceof $s&&(i._setIsOpen(!0),i._directDescendantItems.changes.pipe(Qe(i.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}_destroyMenu(e){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof $s&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Ct(1)).subscribe(()=>{i.detach(),eu.has(r)||r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&eu.delete(r),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=Vi(this._injector,i),this._overlayRef.keydownEvents().subscribe(r=>{this._menu instanceof $s&&this._menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new Bi({positionStrategy:Do(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",a=r.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(o,a)})})}_setPosition(e,i){let[r,o]=e.xPosition==="before"?["end","start"]:["start","end"],[a,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[a,s],[u,d]=[r,o],h=0;if(this._triggersSubmenu()){if(d=r=e.xPosition==="before"?"start":"end",o=u=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let f=this._parentMaterialMenu.items.first;this._parentInnerPadding=f?f._getHostElement().offsetTop:0}h=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=a==="top"?"bottom":"top",c=s==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:a,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:a,offsetY:h},{originX:r,originY:c,overlayX:u,overlayY:s,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:s,offsetY:-h}])}_menuClosingActions(){let e=this._getOutsideClickStream(this._overlayRef),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Be(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ze(a=>this._menuOpen&&a!==this._menuItemInstance)):Be();return It(e,r,o,i)}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Ei(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return eu.get(e)===this}_triggerIsAriaDisabled(){return _e(this._element.nativeElement.getAttribute("aria-disabled"))}static \u0275fac=function(i){md()};static \u0275dir=ee({type:t})}return t})(),Ov=(()=>{class t extends _X{_cleanupTouchstart;_hoverSubscription=je.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){this._menu=e}menuData;restoreFocus=!0;menuOpened=new ae;onMenuOpen=this.menuOpened;menuClosed=new ae;onMenuClose=this.menuClosed;constructor(){super(!0);let e=m(gt);this._cleanupTouchstart=e.listen(this._element.nativeElement,"touchstart",i=>{Xl(i)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(e){return e.backdropClick()}_handleMousedown(e){Kl(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let i=e.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&this._parentMaterialMenu?._panelAnimationState!=="void"&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&Y("click",function(a){return r._handleClick(a)})("mousedown",function(a){return r._handleMousedown(a)})("keydown",function(a){return r._handleKeydown(a)}),i&2&&Oe("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu==null?null:r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[Le]})}return t})();var kN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[la,ji,at,Qi]})}return t})();function bX(t,n){t&1&&on(0,"div",2)}var yX=new L("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Nv=(()=>{class t{_elementRef=m(ue);_ngZone=m(he);_changeDetectorRef=m(Ge);_renderer=m(gt);_cleanupTransitionEnd;constructor(){let e=sD(),i=m(yX,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),i&&(i.color&&(this.color=this._defaultColor=i.color),this.mode=i.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=MN(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=MN(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new ae;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){i&2&&(Oe("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),fn("mat-"+r.color),Ee("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",xn],bufferValue:[2,"bufferValue","bufferValue",xn],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){i&1&&(qe(0,"div",0),on(1,"div",1),be(2,bX,1,0,"div",2),$e(),qe(3,"div",3),on(4,"span",4),$e(),qe(5,"div",5),on(6,"span",4),$e()),i&2&&(M(),Fn("flex-basis",r._getBufferBarFlexBasis()),M(),ye(r.mode==="buffer"?2:-1),M(),Fn("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{background-image:radial-gradient(circle, var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant)) calc(var(--mat-progress-bar-track-height, 4px) / 2), transparent 0);background-repeat:repeat-x;background-size:calc(calc(var(--mat-progress-bar-track-height, 4px) / 2)*5);background-position:left;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return t})();function MN(t,n=0,e=100){return Math.max(n,Math.min(e,t))}var TN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at]})}return t})();var wX=["trigger"],CX=["panel"],xX=[[["mat-select-trigger"]],"*"],DX=["mat-select-trigger","*"];function EX(t,n){if(t&1&&(x(0,"span",4),A(1),E()),t&2){let e=Q();M(),ht(e.placeholder)}}function SX(t,n){t&1&&De(0)}function kX(t,n){if(t&1&&(x(0,"span",11),A(1),E()),t&2){let e=Q(2);M(),ht(e.triggerValue)}}function MX(t,n){if(t&1&&(x(0,"span",5),be(1,SX,1,0)(2,kX,2,1,"span",11),E()),t&2){let e=Q();M(),ye(e.customTrigger?1:2)}}function TX(t,n){if(t&1){let e=Ke();x(0,"div",12,1),Y("keydown",function(r){ge(e);let o=Q();return ve(o._handleKeydown(r))}),De(2,1),E()}if(t&2){let e=Q();fn(jr("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),Ee("mat-select-panel-animations-enabled",!e._animationsDisabled),ce("ngClass",e.panelClass),Oe("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var IX=new L("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Ie);return()=>Sr(t)}}),AX=new L("MAT_SELECT_CONFIG"),RX=new L("MatSelectTrigger"),jD=class{source;value;constructor(n,e){this.source=n,this.value=e}},Fv=(()=>{class t{_viewportRuler=m(Di);_changeDetectorRef=m(Ge);_elementRef=m(ue);_dir=m($t,{optional:!0});_idGenerator=m(Rt);_renderer=m(gt);_parentFormField=m($a,{optional:!0});ngControl=m(Ur,{self:!0,optional:!0});_liveAnnouncer=m(wf);_defaultOptions=m(AX,{optional:!0});_animationsDisabled=_t();_popoverLocation;_initialized=new $;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,o=lv(e,this.options,this.optionGroups),a=i._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=cv(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new jD(this,e)}_scrollStrategyFactory=m(IX);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new $;_errorStateTracker;stateChanges=new $;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=ze(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(As.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=mr(()=>{let e=this.options;return e?e.changes.pipe(kt(e),en(()=>It(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(en(()=>this.optionSelectionChanges))});openedChange=new ae;_openedStream=this.openedChange.pipe(Ze(e=>e),He(()=>{}));_closedStream=this.openedChange.pipe(Ze(e=>!e),He(()=>{}));selectionChange=new ae;valueChange=new ae;constructor(){let e=m(xv),i=m(Ki,{optional:!0}),r=m(Nd,{optional:!0}),o=m(new Gi("tabindex"),{optional:!0}),a=m(Rf,{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Qd(e,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this._popoverLocation=a?.usePopover===!1?null:"inline",this.id=this.id}ngOnInit(){this._selectionModel=new jf(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Qe(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Qe(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(kt(null),Qe(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Ct(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&Ls(this._trackedModal,"aria-owns",i),Hd(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Ls(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,a=this._keyManager;if(!a.isTyping()&&o&&!Bt(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;a.onKeydown(e);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,o=r===40||r===38,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&i.activeItem&&!Bt(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==s&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!Bt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof $d?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Jl(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=It(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Qe(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),It(...this.options.map(i=>i._stateChanges)).pipe(Qe(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(e){let i=Jn(e);i&&(i.tagName==="MAT-OPTION"||i.classList.contains("cdk-overlay-backdrop")||i.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,RX,5)(o,Zi,5)(o,Mf,5),i&2){let a;ne(a=ie())&&(r.customTrigger=a.first),ne(a=ie())&&(r.options=a),ne(a=ie())&&(r.optionGroups=a)}},viewQuery:function(i,r){if(i&1&&Xe(wX,5)(CX,5)(gv,5),i&2){let o;ne(o=ie())&&(r.trigger=o.first),ne(o=ie())&&(r.panel=o.first),ne(o=ie())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(i,r){i&1&&Y("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(Oe("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Ee("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",_e],disableRipple:[2,"disableRipple","disableRipple",_e],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:xn(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",_e],placeholder:"placeholder",required:[2,"required","required",_e],multiple:[2,"multiple","multiple",_e],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",_e],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",xn],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",_e]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[We([{provide:Wd,useExisting:t},{provide:kf,useExisting:t}]),lt],ngContentSelectors:DX,decls:11,vars:10,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayUsePopover"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let o=Ke();tt(xX),x(0,"div",2,0),Y("click",function(){return ge(o),ve(r.open())}),x(3,"div",3),be(4,EX,2,1,"span",4)(5,MX,3,1,"span",5),E(),x(6,"div",6)(7,"div",7),ui(),x(8,"svg",8),Ne(9,"path",9),E()()()(),xt(10,TX,3,10,"ng-template",10),Y("detach",function(){return ge(o),ve(r.close())})("backdropClick",function(){return ge(o),ve(r.close())})("overlayKeydown",function(s){return ge(o),ve(r._handleOverlayKeydown(s))})}if(i&2){let o=Cn(1);M(3),Oe("id",r._valueId),M(),ye(r.empty?4:5),M(6),ce("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayUsePopover",r._popoverLocation)}},dependencies:[$d,gv,ef],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return t})();var IN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[ji,Gd,at,Qi,ic,Gd]})}return t})();var Bv=["*"],OX=["content"],NX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],FX=["mat-drawer","mat-drawer-content","*"];function PX(t,n){if(t&1){let e=Ke();x(0,"div",1),Y("click",function(){ge(e);let r=Q();return ve(r._onBackdropClicked())}),E()}if(t&2){let e=Q();Ee("mat-drawer-shown",e._isShowingBackdrop())}}function LX(t,n){t&1&&(x(0,"mat-drawer-content"),De(1,2),E())}var BX=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],VX=["mat-sidenav","mat-sidenav-content","*"];function jX(t,n){if(t&1){let e=Ke();x(0,"div",1),Y("click",function(){ge(e);let r=Q();return ve(r._onBackdropClicked())}),E()}if(t&2){let e=Q();Ee("mat-drawer-shown",e._isShowingBackdrop())}}function HX(t,n){t&1&&(x(0,"mat-sidenav-content"),De(1,2),E())}var zX=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var UX=new L("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:()=>!1}),UD=new L("MAT_DRAWER_CONTAINER"),Pv=(()=>{class t extends wr{_platform=m(Je);_changeDetectorRef=m(Ge);_container=m(zD);constructor(){let e=m(ue),i=m(zr),r=m(he);super(e,i,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,r){i&2&&(Fn("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),Ee("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[We([{provide:wr,useExisting:t}]),Le],ngContentSelectors:Bv,decls:1,vars:0,template:function(i,r){i&1&&(tt(),De(0))},encapsulation:2,changeDetection:0})}return t})(),HD=(()=>{class t{_elementRef=m(ue);_focusTrapFactory=m(Vd);_focusMonitor=m(ei);_platform=m(Je);_ngZone=m(he);_renderer=m(gt);_interactivityChecker=m(Bd);_doc=m(Re);_container=m(UD,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached=!1;_anchor=null;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Sn(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Sn(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(Sn(e))}_opened=ze(!1);_openedVia=null;_animationStarted=new $;_animationEnd=new $;openedChange=new ae(!0);_openedStream=this.openedChange.pipe(Ze(e=>e),He(()=>{}));openedStart=this._animationStarted.pipe(Ze(()=>this.opened),$c(void 0));_closedStream=this.openedChange.pipe(Ze(e=>!e),He(()=>{}));closedStart=this._animationStarted.pipe(Ze(()=>!this.opened),$c(void 0));_destroyed=new $;onPositionChanged=new ae;_content;_modeChanged=new $;_injector=m(Ie);_changeDetectorRef=m(Ge);constructor(){this.openedChange.pipe(Qe(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._eventCleanups=this._ngZone.runOutsideAngular(()=>{let e=this._renderer,i=this._elementRef.nativeElement;return[e.listen(i,"keydown",r=>{r.keyCode===27&&!this.disableClose&&!Bt(r)&&this._ngZone.run(()=>{this.close(),r.stopPropagation(),r.preventDefault()})}),e.listen(i,"transitionrun",this._handleTransitionEvent),e.listen(i,"transitionend",this._handleTransitionEvent),e.listen(i,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":At(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ct(1)).subscribe(a=>o(a?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&!!this._container?._isShowingBackdrop())}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,r=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(i&1&&Xe(OX,5),i&2){let o;ne(o=ie())&&(r._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){i&2&&(Oe("align",null)("tabIndex",r.mode!=="side"?"-1":null),Fn("visibility",!r._container&&!r.opened?"hidden":null),Ee("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Bv,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(tt(),x(0,"div",1,0),De(2),E())},dependencies:[wr],encapsulation:2,changeDetection:0})}return t})(),zD=(()=>{class t{_dir=m($t,{optional:!0});_element=m(ue);_ngZone=m(he);_changeDetectorRef=m(Ge);_animationDisabled=_t();_transitionsEnabled=!1;_allDrawers;_drawers=new $i;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Sn(e)}_autosize=m(UX);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Sn(e)}_backdropOverride=null;backdropClick=new ae;_start=null;_end=null;_left=null;_right=null;_destroyed=new $;_doCheckSubject=new $;_contentMargins={left:null,right:null};_contentMarginChanges=new $;get scrollable(){return this._userContent||this._content}_injector=m(Ie);constructor(){let e=m(Je),i=m(Di);this._dir?.change.pipe(Qe(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(Qe(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(kt(this._allDrawers),Qe(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(kt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(oo(10),Qe(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,i-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();i+=r,e-=r}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Qe(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Qe(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(Qe(this._drawers.changes)).subscribe(()=>{At({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(Qe(It(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,Pv,5)(o,HD,5),i&2){let a;ne(a=ie())&&(r._content=a.first),ne(a=ie())&&(r._allDrawers=a)}},viewQuery:function(i,r){if(i&1&&Xe(Pv,5),i&2){let o;ne(o=ie())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[We([{provide:UD,useExisting:t}])],ngContentSelectors:FX,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(tt(NX),be(0,PX,1,2,"div",0),De(1),De(2,1),be(3,LX,2,0,"mat-drawer-content")),i&2&&(ye(r.hasBackdrop?0:-1),M(3),ye(r._content?-1:3))},dependencies:[Pv],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return t})(),Lv=(()=>{class t extends Pv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[We([{provide:wr,useExisting:t}]),Le],ngContentSelectors:Bv,decls:1,vars:0,template:function(i,r){i&1&&(tt(),De(0))},encapsulation:2,changeDetection:0})}return t})(),qD=(()=>{class t extends HD{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Sn(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=fi(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=fi(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(i,r){i&2&&(Oe("tabIndex",r.mode!=="side"?"-1":null)("align",null),Fn("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Ee("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[We([{provide:HD,useExisting:t}]),Le],ngContentSelectors:Bv,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(tt(),x(0,"div",1,0),De(2),E())},dependencies:[wr],encapsulation:2,changeDetection:0})}return t})(),AN=(()=>{class t extends zD{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,Lv,5)(o,qD,5),i&2){let a;ne(a=ie())&&(r._content=a.first),ne(a=ie())&&(r._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[We([{provide:UD,useExisting:t},{provide:zD,useExisting:t}]),Le],ngContentSelectors:VX,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(tt(BX),be(0,jX,1,2,"div",0),De(1),De(2,1),be(3,HX,2,0,"mat-sidenav-content")),i&2&&(ye(r.hasBackdrop?0:-1),M(3),ye(r._content?-1:3))},dependencies:[Lv],styles:[zX],encapsulation:2,changeDetection:0})}return t})(),RN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[Qi,at,Qi]})}return t})();var qX=["knob"],$X=["valueIndicatorContainer"];function WX(t,n){if(t&1&&(x(0,"div",2,1)(2,"div",5)(3,"span",6),A(4),E()()()),t&2){let e=Q();M(4),ht(e.valueIndicatorText)}}var GX=["trackActive"],YX=["*"];function QX(t,n){if(t&1&&Ne(0,"div"),t&2){let e=n.$implicit,i=n.$index,r=Q(3);fn(e===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Fn("transform",r._calcTickMarkTransform(i))}}function KX(t,n){if(t&1&&Ut(0,QX,1,4,"div",8,kC),t&2){let e=Q(2);qt(e._tickMarks)}}function XX(t,n){if(t&1&&(x(0,"div",6,1),be(2,KX,2,0),E()),t&2){let e=Q();M(2),ye(e._cachedWidth?2:-1)}}function ZX(t,n){if(t&1&&Ne(0,"mat-slider-visual-thumb",7),t&2){let e=Q();ce("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var ft=(function(t){return t[t.START=1]="START",t[t.END=2]="END",t})(ft||{}),tu=(function(t){return t[t.ACTIVE=0]="ACTIVE",t[t.INACTIVE=1]="INACTIVE",t})(tu||{}),$D=new L("_MatSlider"),ON=new L("_MatSliderThumb"),JX=new L("_MatSliderRangeThumb"),NN=new L("_MatSliderVisualThumb");var eZ=(()=>{class t{_cdr=m(Ge);_ngZone=m(he);_slider=m($D);_renderer=m(gt);_listenerCleanups;discrete=!1;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=m(ue).nativeElement;_platform=m(Je);constructor(){}ngAfterViewInit(){let e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let i=this._sliderInputEl,r=this._renderer;this._listenerCleanups=[r.listen(i,"pointermove",this._onPointerMove),r.listen(i,"pointerdown",this._onDragStart),r.listen(i,"pointerup",this._onDragEnd),r.listen(i,"pointerleave",this._onMouseLeave),r.listen(i,"focus",this._onFocus),r.listen(i,"blur",this._onBlur)]}))}ngOnDestroy(){this._listenerCleanups?.forEach(e=>e())}_onPointerMove=e=>{if(this._sliderInput._isFocused)return;let i=this._hostElement.getBoundingClientRect(),r=this._slider._isCursorOnSliderThumb(e,i);this._isHovered=r,r?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=e=>{e.button===0&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===Li.FADING_IN||e?.state===Li.VISIBLE}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===ft.START?ft.END:ft.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!i)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===ft.START?ft.END:ft.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(i&1&&Xe(tc,5)(qX,5)($X,5),i&2){let o;ne(o=ie())&&(r._ripple=o.first),ne(o=ie())&&(r._knob=o.first),ne(o=ie())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[We([{provide:NN,useExisting:t}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){i&1&&(be(0,WX,5,1,"div",2),Ne(1,"div",3,0)(3,"div",4)),i&2&&(ye(r.discrete?0:-1),M(3),ce("matRippleDisabled",!0))},dependencies:[tc],styles:[`.mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}
`],encapsulation:2,changeDetection:0})}return t})(),FN=(()=>{class t{_ngZone=m(he);_cdr=m(Ge);_elementRef=m(ue);_dir=m($t,{optional:!0});_globalRippleOptions=m(qa,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(e){this._disabled=e;let i=this._getInput(ft.END),r=this._getInput(ft.START);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}_discrete=!1;get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=e,this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI())}_showTickMarks=!1;get min(){return this._min}set min(e){let i=e==null||isNaN(e)?this._min:e;this._min!==i&&this._updateMin(i)}_min=0;color;disableRipple=!1;_updateMin(e){let i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){let i=this._getInput(ft.END),r=this._getInput(ft.START),o=i.value,a=r.value;r.min=e.new,i.min=Math.max(e.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),a!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){let i=this._getInput(ft.END);if(i){let r=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){let i=e==null||isNaN(e)?this._max:e;this._max!==i&&this._updateMax(i)}_max=100;_updateMax(e){let i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){let i=this._getInput(ft.END),r=this._getInput(ft.START),o=i.value,a=r.value;i.max=e.new,r.max=Math.min(e.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),a!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){let i=this._getInput(ft.END);if(i){let r=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){let i=isNaN(e)?this._step:e;this._step!==i&&this._updateStep(i)}_step=1;_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let e=this._getInput(ft.END),i=this._getInput(ft.START),r=e.value,o=i.value,a=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<a?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),r!==e.value&&this._onValueChange(e),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){let e=this._getInput(ft.END);if(e){let i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}displayWith=e=>`${e}`;_tickMarks;_noopAnimations=_t();_dirChangeSubscription;_resizeObserver=null;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=m(Je);constructor(){m(Ft).load(ti),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl")}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let e=this._getInput(ft.END),i=this._getInput(ft.START);this._isRange=!!e&&!!i,this._cdr.detectChanges();let r=this._getThumb(ft.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription?.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir?.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let e=this._getInput(ft.END),i=this._getInput(ft.START);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(ft.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(ft.START)._isActive||this._getThumb(ft.END)._isActive}_getValue(e=ft.END){let i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!!(this._getInput(ft.START)?._skipUIUpdate||this._getInput(ft.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){let i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){let i=e*(this._tickMarkTrackWidth/(this._tickMarks.length-1));return`translateX(${this._isRtl?this._cachedWidth-6-i:i}px)`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let e=this._getInput(ft.END),i=this._getInput(ft.START);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{let e=this._getInput(ft.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){let e=this._getInput(ft.START),i=this._getInput(ft.END);return!e||!i?!1:i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){let i=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){if(this._skipUpdate())return;let i=this._getThumb(e.thumbPosition===ft.END?ft.END:ft.START);i._hostElement.style.transform=`translateX(${e.translateX}px)`}_updateValueIndicatorUI(e){if(this._skipUpdate())return;let i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(i):e._hostElement.setAttribute("aria-valuetext",i),this.discrete){e.thumbPosition===ft.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;let r=this._getThumb(e.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let e=this._getInput(ft.END),i=this._getInput(ft.START);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=(this._cachedWidth-6)*r}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){let i=e.getSibling();if(!i||!this._cachedWidth)return;let r=Math.abs(i.translateX-e.translateX)/this._cachedWidth;e._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-i.translateX}px`,transformOrigin:"right",transform:`scaleX(${r})`}):this._setTrackActiveStyles({left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e)}_updateTickMarkUINonRange(e){let i=this._getValue(),r=Math.max(Math.round((i-this.min)/e),0)+1,o=Math.max(Math.round((this.max-i)/e),0)-1;this._isRtl?r++:o++,this._tickMarks=Array(r).fill(tu.ACTIVE).concat(Array(o).fill(tu.INACTIVE))}_updateTickMarkUIRange(e){let i=this._getValue(),r=this._getValue(ft.START),o=Math.max(Math.round((r-this.min)/e),0),a=Math.max(Math.round((i-r)/e)+1,0),s=Math.max(Math.round((this.max-i)/e),0);this._tickMarks=Array(o).fill(tu.INACTIVE).concat(Array(a).fill(tu.ACTIVE),Array(s).fill(tu.INACTIVE))}_getInput(e){if(e===ft.END&&this._input)return this._input;if(this._inputs?.length)return e===ft.START?this._inputs.first:this._inputs.last}_getThumb(e){return e===ft.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,i){let r=i.width/2,o=i.x+r,a=i.y+r,s=e.clientX-o,l=e.clientY-a;return Math.pow(s,2)+Math.pow(l,2)<Math.pow(r,2)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,ON,5)(o,JX,4),i&2){let a;ne(a=ie())&&(r._input=a.first),ne(a=ie())&&(r._inputs=a)}},viewQuery:function(i,r){if(i&1&&Xe(GX,5)(NN,5),i&2){let o;ne(o=ie())&&(r._trackActive=o.first),ne(o=ie())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,r){i&2&&(fn("mat-"+(r.color||"primary")),Ee("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",_e],discrete:[2,"discrete","discrete",_e],showTickMarks:[2,"showTickMarks","showTickMarks",_e],min:[2,"min","min",xn],color:"color",disableRipple:[2,"disableRipple","disableRipple",_e],max:[2,"max","max",xn],step:[2,"step","step",xn],displayWith:"displayWith"},exportAs:["matSlider"],features:[We([{provide:$D,useExisting:t}])],ngContentSelectors:YX,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,r){i&1&&(tt(),De(0),x(1,"div",2),Ne(2,"div",3),x(3,"div",4),Ne(4,"div",5,0),E(),be(6,XX,3,1,"div",6),E(),be(7,ZX,1,3,"mat-slider-visual-thumb",7),Ne(8,"mat-slider-visual-thumb",7)),i&2&&(M(6),ye(r.showTickMarks?6:-1),M(),ye(r._isRange?7:-1),M(),ce("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[eZ],styles:[`.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mat-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mat-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mat-slider-active-track-height, 4px);top:calc((var(--mat-slider-inactive-track-height, 4px) - var(--mat-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mat-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mat-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mat-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mat-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mat-slider-inactive-track-height, 4px);border-radius:var(--mat-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mat-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;transform:scale(0);transform-origin:var(--mat-slider-value-indicator-transform-origin, 0 28px);transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mat-slider-label-container-color, var(--mat-sys-primary));color:var(--mat-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mat-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mat-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mat-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mat-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mat-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mat-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mat-slider-handle-width, 20px);height:var(--mat-slider-handle-height, 20px);border-width:calc(var(--mat-slider-handle-height, 20px)/2) calc(var(--mat-slider-handle-width, 20px)/2);box-shadow:var(--mat-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mat-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mat-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mat-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mat-slider-with-tick-marks-container-size, 2px);height:var(--mat-slider-with-tick-marks-container-size, 2px);border-radius:var(--mat-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mat-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__input{cursor:auto}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();var tZ={provide:ia,useExisting:Rn(()=>WD),multi:!0};var WD=(()=>{class t{_ngZone=m(he);_elementRef=m(ue);_cdr=m(Ge);_slider=m($D);_platform=m(Je);_listenerCleanups;get value(){return xn(this._hostElement.value,0)}set value(e){e===null&&(e=this._getDefaultValue()),e=isNaN(e)?0:e;let i=e+"";if(!this._hasSetInitialValue){this._initialValue=i;return}this._isActive||this._setValue(i)}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}valueChange=new ae;dragStart=new ae;dragEnd=new ae;get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}_translateX;thumbPosition=ft.END;get min(){return xn(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return xn(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return xn(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return _e(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_hostElement=this._elementRef.nativeElement;_valuetext=ze("");_knobRadius=8;_tickMarkOffset=3;_isActive=!1;_isFocused=!1;_setIsFocused(e){this._isFocused=e}_hasSetInitialValue=!1;_initialValue;_formControl;_destroyed=new $;_skipUIUpdate=!1;_onChangeFn;_onTouchedFn=()=>{};_isControlInitialized=!1;constructor(){let e=m(gt);this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[e.listen(this._hostElement,"pointerdown",this._onPointerDown.bind(this)),e.listen(this._hostElement,"pointermove",this._onPointerMove.bind(this)),e.listen(this._hostElement,"pointerup",this._onPointerUp.bind(this))]})}ngOnDestroy(){this._listenerCleanups.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!(this.disabled||e.button!==0)){if(this._platform.IOS){let i=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=i,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){let i=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=this._slider.step===0?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/o),s=this._slider._isRtl?1-i/r:i/r,c=Math.round(s*a)/a*(this._slider.max-this._slider.min)+this._slider.min,u=Math.round(c/o)*o,d=this.value;if(u===d){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation});return}this.value=u,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){let i=this._tickMarkOffset,r=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(e,r),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||e!==null)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){i&1&&Y("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),i&2&&Oe("aria-valuetext",r._valuetext())},inputs:{value:[2,"value","value",xn]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[We([tZ,{provide:ON,useExisting:t}])]})}return t})();var PN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[la,at]})}return t})();function nZ(t,n){if(t&1){let e=Ke();x(0,"div",1)(1,"button",2),Y("click",function(){ge(e);let r=Q();return ve(r.action())}),A(2),E()()}if(t&2){let e=Q();M(2),vt(" ",e.data.action," ")}}var iZ=["label"];function rZ(t,n){}var oZ=Math.pow(2,31)-1,zf=class{_overlayRef;instance;containerInstance;_afterDismissed=new $;_afterOpened=new $;_onAction=new $;_durationTimeoutId;_dismissedByAction=!1;constructor(n,e){this._overlayRef=e,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,oZ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},LN=new L("MatSnackBarData"),nu=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},aZ=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),sZ=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),lZ=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),BN=(()=>{class t{snackBarRef=m(zf);data=m(LN);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(x(0,"div",0),A(1),E(),be(2,nZ,3,1,"div",1)),i&2&&(M(),vt(" ",r.data.message,`
`),M(),ye(r.hasAction?2:-1))},dependencies:[Vt,aZ,sZ,lZ],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return t})(),GD="_mat-snack-bar-enter",YD="_mat-snack-bar-exit",cZ=(()=>{class t extends Bs{_ngZone=m(he);_elementRef=m(ue);_changeDetectorRef=m(Ge);_platform=m(Je);_animationsDisabled=_t();snackBarConfig=m(nu);_document=m(Re);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=m(Ie);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new $;_onExit=new $;_onEnter=new $;_animationState="void";_live;_label;_role;_liveElementId=m(Rt).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===YD?this._completeExit():e===GD&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?At(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(GD)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(GD)},200)))}exit(){return this._destroyed?Be(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?At(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(YD)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(YD),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>e.classList.add(a)):e.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&Xe(Dr,7)(iZ,7),i&2){let o;ne(o=ie())&&(r._portalOutlet=o.first),ne(o=ie())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&Y("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),i&2&&Ee("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Le],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(x(0,"div",1)(1,"div",2,0)(3,"div",3),xt(4,rZ,0,0,"ng-template",4),E(),Ne(5,"div"),E()()),i&2&&(M(5),Oe("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Dr],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return t})(),dZ=new L("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new nu}),Ya=(()=>{class t{_live=m(wf);_injector=m(Ie);_breakpointObserver=m(wo);_parentSnackBar=m(t,{optional:!0,skipSelf:!0});_defaultConfig=m(dZ);_animationsDisabled=_t();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=BN;snackBarContainerComponent=cZ;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){let o=G(G({},this._defaultConfig),r);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=Ie.create({parent:r||this._injector,providers:[{provide:nu,useValue:i}]}),a=new Ji(this.snackBarContainerComponent,i.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=i,s.instance}_attach(e,i){let r=G(G(G({},new nu),this._defaultConfig),i),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new zf(a,o);if(e instanceof Qt){let l=new Ei(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(r,s),c=new Ji(e,void 0,l),u=a.attachComponentPortal(c);s.instance=u.instance}return this._breakpointObserver.observe(Ts.HandsetPortrait).pipe(Qe(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let i=new Bi;i.direction=e.direction;let r=sa(this._injector),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,Vi(this._injector,i)}_createInjector(e,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Ie.create({parent:r||this._injector,providers:[{provide:zf,useValue:i},{provide:LN,useValue:e.data}]})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var VN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[Ya],imports:[ji,Er,Yd,BN,at]})}return t})();var uZ=["mat-sort-header",""],hZ=["*",[["","matSortHeaderIcon",""]]],fZ=["*","[matSortHeaderIcon]"];function pZ(t,n){t&1&&(ui(),qe(0,"svg",3),on(1,"path",4),$e())}function mZ(t,n){t&1&&(qe(0,"div",2),De(1,1,null,pZ,2,0),$e())}var jN=new L("MAT_SORT_DEFAULT_OPTIONS"),oc=(()=>{class t{_defaultOptions;_initializedStream=new An(1);sortables=new Map;_stateChanges=new $;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new ae;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let i=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=gZ(e.start||this.start,i),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(i){return new(i||t)(wt(jN,8))};static \u0275dir=ee({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",_e],disabled:[2,"matSortDisabled","disabled",_e]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[lt]})}return t})();function gZ(t,n){let e=["asc","desc"];return t=="desc"&&e.reverse(),n||e.push(""),e}var vZ=(()=>{class t{changes=new $;static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vv=(()=>{class t{_intl=m(vZ);_sort=m(oc,{optional:!0});_columnDef=m("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=m(Ge);_focusMonitor=m(ei);_elementRef=m(ue);_ariaDescriber=m(sv,{optional:!0});_renderChanges;_animationsDisabled=_t();_recentlyCleared=ze(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){m(Ft).load(ti);let e=m(jN,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=It(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>{Promise.resolve().then(()=>this._recentlyCleared.set(null))})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),i=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?i:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,r){i&1&&Y("click",function(){return r._toggleOnInteraction()})("keydown",function(a){return r._handleKeydown(a)})("mouseleave",function(){return r._recentlyCleared.set(null)}),i&2&&(Oe("aria-sort",r._getAriaSortAttribute()),Ee("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",_e],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",_e]},exportAs:["matSortHeader"],attrs:uZ,ngContentSelectors:fZ,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(i,r){i&1&&(tt(hZ),qe(0,"div",0)(1,"div",1),De(2),$e(),be(3,mZ,3,0,"div",2),$e()),i&2&&(Ee("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before",r.arrowPosition==="before")("mat-sort-header-descending",r._sort.direction==="desc")("mat-sort-header-ascending",r._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",r._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",r._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",r._animationsDisabled),Oe("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),M(3),ye(r._renderArrow()?3:-1))},styles:[`.mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow>svg,.mat-sort-header-arrow [matSortHeaderIcon]{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}
`],encapsulation:2,changeDetection:0})}return t})(),HN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at]})}return t})();var _Z=[[["caption"]],[["colgroup"],["col"]],"*"],bZ=["caption","colgroup, col","*"];function yZ(t,n){t&1&&De(0,2)}function wZ(t,n){t&1&&(x(0,"thead",0),xi(1,1),E(),x(2,"tbody",0),xi(3,2)(4,3),E(),x(5,"tfoot",0),xi(6,4),E())}function CZ(t,n){t&1&&xi(0,1)(1,2)(2,3)(3,4)}var Eo=new L("CDK_TABLE");var zv=(()=>{class t{template=m(Qt);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkCellDef",""]]})}return t})(),Uv=(()=>{class t{template=m(Qt);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkHeaderCellDef",""]]})}return t})(),qN=(()=>{class t{template=m(Qt);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkFooterCellDef",""]]})}return t})(),iu=(()=>{class t{_table=m(Eo,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,o){if(i&1&&Kt(o,zv,5)(o,Uv,5)(o,qN,5),i&2){let a;ne(a=ie())&&(r.cell=a.first),ne(a=ie())&&(r.headerCell=a.first),ne(a=ie())&&(r.footerCell=a.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",_e],stickyEnd:[2,"stickyEnd","stickyEnd",_e]},features:[We([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}])]})}return t})(),Hv=class{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}},$N=(()=>{class t extends Hv{constructor(){super(m(iu),m(ue))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Le]})}return t})();var WN=(()=>{class t extends Hv{constructor(){let e=m(iu),i=m(ue);super(e,i);let r=e._table?._getCellRole();r&&i.nativeElement.setAttribute("role",r)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Le]})}return t})();var KD=(()=>{class t{template=m(Qt);_differs=m(ta);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof qf?e.headerCell.template:this instanceof XD?e.footerCell.template:e.cell.template}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,features:[lt]})}return t})(),qf=(()=>{class t extends KD{_table=m(Eo,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(m(Qt),m(ta))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",_e]},features:[Le,lt]})}return t})(),XD=(()=>{class t extends KD{_table=m(Eo,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(m(Qt),m(ta))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",_e]},features:[Le,lt]})}return t})(),qv=(()=>{class t extends KD{_table=m(Eo,{optional:!0});when;constructor(){super(m(Qt),m(ta))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[Le]})}return t})(),ac=(()=>{class t{_viewContainer=m(rn);cells;context;static mostRecentCellOutlet=null;constructor(){t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","cdkCellOutlet",""]]})}return t})(),ZD=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&xi(0,0)},dependencies:[ac],encapsulation:2})}return t})();var JD=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&xi(0,0)},dependencies:[ac],encapsulation:2})}return t})(),GN=(()=>{class t{templateRef=m(Qt);_contentClassNames=["cdk-no-data-row","cdk-row"];_cellClassNames=["cdk-cell","cdk-no-data-cell"];_cellSelector="td, cdk-cell, [cdk-cell], .cdk-cell";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["ng-template","cdkNoDataRow",""]]})}return t})(),zN=["top","bottom","left","right"],QD=class{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(n=>this._updateCachedSizes(n)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(n,e,i=!0,r=!0,o,a,s){this._isNativeHtmlTable=n,this._stickCellCss=e,this._isBrowser=i,this._needsPositionStickyOnElement=r,this.direction=o,this._positionListener=a,this._tableInjector=s,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(n);let i=[];for(let r of n)r.nodeType===r.ELEMENT_NODE&&i.push(r,...Array.from(r.children));At({write:()=>{for(let r of i)this._removeStickyStyle(r,e)}},{injector:this._tableInjector})}updateStickyColumns(n,e,i,r=!0,o=!0){if(!n.length||!this._isBrowser||!(e.some(v=>v)||i.some(v=>v))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let a=n[0],s=a.children.length,l=this.direction==="rtl",c=l?"right":"left",u=l?"left":"right",d=e.lastIndexOf(!0),h=i.indexOf(!0),f,p,g;o&&this._updateStickyColumnReplayQueue({rows:[...n],stickyStartStates:[...e],stickyEndStates:[...i]}),At({earlyRead:()=>{f=this._getCellWidths(a,r),p=this._getStickyStartColumnPositions(f,e),g=this._getStickyEndColumnPositions(f,i)},write:()=>{for(let v of n)for(let _=0;_<s;_++){let y=v.children[_];e[_]&&this._addStickyStyle(y,c,p[_],_===d),i[_]&&this._addStickyStyle(y,u,g[_],_===h)}this._positionListener&&f.some(v=>!!v)&&(this._positionListener.stickyColumnsUpdated({sizes:d===-1?[]:f.slice(0,d+1).map((v,_)=>e[_]?v:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:h===-1?[]:f.slice(h).map((v,_)=>i[_+h]?v:null).reverse()}))}},{injector:this._tableInjector})}stickRows(n,e,i){if(!this._isBrowser)return;let r=i==="bottom"?n.slice().reverse():n,o=i==="bottom"?e.slice().reverse():e,a=[],s=[],l=[];At({earlyRead:()=>{for(let c=0,u=0;c<r.length;c++){if(!o[c])continue;a[c]=u;let d=r[c];l[c]=this._isNativeHtmlTable?Array.from(d.children):[d];let h=this._retrieveElementSize(d).height;u+=h,s[c]=h}},write:()=>{let c=o.lastIndexOf(!0);for(let u=0;u<r.length;u++){if(!o[u])continue;let d=a[u],h=u===c;for(let f of l[u])this._addStickyStyle(f,i,d,h)}i==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:a,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:a,elements:l})}},{injector:this._tableInjector})}updateStickyFooterContainer(n,e){this._isNativeHtmlTable&&At({write:()=>{let i=n.querySelector("tfoot");i&&(e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(n,e){if(!n.classList.contains(this._stickCellCss))return;for(let r of e)n.style[r]="",n.classList.remove(this._borderCellCss[r]);zN.some(r=>e.indexOf(r)===-1&&n.style[r])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,i,r){n.classList.add(this._stickCellCss),r&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${i}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){let e={top:100,bottom:10,left:1,right:1},i=0;for(let r of zN)n.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let i=[],r=n.children;for(let o=0;o<r.length;o++){let a=r[o];i.push(this._retrieveElementSize(a).width)}return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(n,e){let i=[],r=0;for(let o=0;o<n.length;o++)e[o]&&(i[o]=r,r+=n[o]);return i}_getStickyEndColumnPositions(n,e){let i=[],r=0;for(let o=n.length;o>0;o--)e[o]&&(i[o]=r,r+=n[o]);return i}_retrieveElementSize(n){let e=this._elemSizeCache.get(n);if(e)return e;let i=n.getBoundingClientRect(),r={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(n,r),this._resizeObserver.observe(n,{box:"border-box"})),r}_updateStickyColumnReplayQueue(n){this._removeFromStickyColumnReplayQueue(n.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(n)}_removeFromStickyColumnReplayQueue(n){let e=new Set(n);for(let i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(n){let e=!1;for(let i of n){let r=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};r.width!==this._elemSizeCache.get(i.target)?.width&&xZ(i.target)&&(e=!0),this._elemSizeCache.set(i.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}};function xZ(t){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(n=>t.classList.contains(n))}var Uf=new L("STICKY_POSITIONING_LISTENER");var eE=(()=>{class t{viewContainer=m(rn);elementRef=m(ue);constructor(){let e=m(Eo);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","rowOutlet",""]]})}return t})(),tE=(()=>{class t{viewContainer=m(rn);elementRef=m(ue);constructor(){let e=m(Eo);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","headerRowOutlet",""]]})}return t})(),nE=(()=>{class t{viewContainer=m(rn);elementRef=m(ue);constructor(){let e=m(Eo);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","footerRowOutlet",""]]})}return t})(),iE=(()=>{class t{viewContainer=m(rn);elementRef=m(ue);constructor(){let e=m(Eo);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","noDataRowOutlet",""]]})}return t})(),rE=(()=>{class t{_differs=m(ta);_changeDetectorRef=m(Ge);_elementRef=m(ue);_dir=m($t,{optional:!0});_platform=m(Je);_viewRepeater;_viewportRuler=m(Di);_injector=m(Ie);_virtualScrollViewport=m(Eg,{optional:!0,host:!0});_positionListener=m(Uf,{optional:!0})||m(Uf,{optional:!0,skipSelf:!0});_document=m(Re);_data;_renderedRange;_onDestroy=new $;_renderRows;_renderChangeSubscription=null;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef=null;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow=null;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_headerRowStickyUpdates=new $;_footerRowStickyUpdates=new $;_disableVirtualScrolling=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&(this._switchDataSource(e),this._changeDetectorRef.markForCheck())}_dataSource;_dataSourceChanges=new $;_dataStream=new $;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._virtualScrollEnabled()?!0:this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;recycleRows=!1;contentChanged=new ae;viewChange=new Wt({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;constructor(){m(new Gi("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((i,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(Qe(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._viewRepeater=this.recycleRows||this._virtualScrollEnabled()?new Sd:new Iv,this._virtualScrollEnabled()&&this._setupVirtualScrolling(this._virtualScrollViewport),this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._headerRowStickyUpdates.complete(),this._footerRowStickyUpdates.complete(),this._onDestroy.next(),this._onDestroy.complete(),Wl(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{r.operation===xo.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);o.context.$implicit=r.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=UN(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let i=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=UN(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let i=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this.fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{let a=[];for(let s=0;s<i.length;s++)this._renderRows[s].rowDef===o&&a.push(i[s]);this._addStickyColumnStyles(a,o)}),r.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}stickyColumnsUpdated(e){this._positionListener?.stickyColumnsUpdated(e)}stickyEndColumnsUpdated(e){this._positionListener?.stickyEndColumnsUpdated(e)}stickyHeaderRowsUpdated(e){this._headerRowStickyUpdates.next(e),this._positionListener?.stickyHeaderRowsUpdated(e)}stickyFooterRowsUpdated(e){this._footerRowStickyUpdates.next(e),this._positionListener?.stickyFooterRowsUpdated(e)}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){if(!Array.isArray(this._data)||!this._renderedRange)return[];let e=[],i=Math.min(this._data.length,this._renderedRange.end),r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=this._renderedRange.start;o<i;o++){let a=this._data[o],s=this._getRenderRowsForData(a,o,r.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let l=0;l<s.length;l++){let c=s[l],u=this._cachedRenderRowsMap.get(c.data);u.has(c.rowDef)?u.get(c.rowDef).push(c):u.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{let s=r&&r.has(a)?r.get(a):[];if(s.length){let l=s.shift();return l.dataIndex=i,l}else return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),jv(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=jv(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=jv(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=jv(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(a,s)=>{let l=!!s.getColumnsDiff();return a||l},i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],Wl(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Wl(this.dataSource)?e=this.dataSource.connect(this):qo(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Be(this.dataSource)),this._renderChangeSubscription=pr([e,this.viewChange]).pipe(Qe(this._onDestroy)).subscribe(([i,r])=>{this._data=i||[],this._renderedRange=r,this._dataStream.next(i),this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){let r=Array.from(i?.columns||[]).map(s=>{let l=this._columnDefsByName.get(s);return l}),o=r.map(s=>s.sticky),a=r.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this.fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let i=[];for(let r=0;r<e.viewContainer.length;r++){let o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(this._rowDefs.length===1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r.length,r}_getEmbeddedViewArgs(e,i){let r=e.rowDef,o={$implicit:e.data};return{templateRef:r.template,context:o,index:i}}_renderRow(e,i,r,o={}){let a=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))ac.mostRecentCellOutlet&&ac.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){let a=e.get(i).context;a.count=r,a.first=i===0,a.last=i===r-1,a.even=i%2===0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,i=>{let r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr",i=this._injector;this._stickyStyler=new QD(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,e,this,i),(this._dir?this._dir.change:Be()).pipe(Qe(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_setupVirtualScrolling(e){let i=typeof requestAnimationFrame<"u"?nh:th;this.viewChange.next({start:0,end:0}),e.renderedRangeStream.pipe(hl(0,i),Qe(this._onDestroy)).subscribe(this.viewChange),e.attach({dataStream:this._dataStream,measureRangeSize:(r,o)=>this._measureRangeSize(r,o)}),pr([e.renderedContentOffset,this._headerRowStickyUpdates]).pipe(Qe(this._onDestroy)).subscribe(([r,o])=>{if(!(!o.sizes||!o.offsets||!o.elements))for(let a=0;a<o.elements.length;a++){let s=o.elements[a];if(s){let l=o.offsets[a],c=r!==0?Math.max(r-l,l):-l;for(let u of s)u.style.top=`${-c}px`}}}),pr([e.renderedContentOffset,this._footerRowStickyUpdates]).pipe(Qe(this._onDestroy)).subscribe(([r,o])=>{if(!(!o.sizes||!o.offsets||!o.elements))for(let a=0;a<o.elements.length;a++){let s=o.elements[a];if(s)for(let l of s)l.style.bottom=`${r+o.offsets[a]}px`}})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(i){let o=r.createEmbeddedView(e.templateRef),a=o.rootNodes[0];if(o.rootNodes.length===1&&a?.nodeType===this._document.ELEMENT_NODE){a.setAttribute("role","row"),a.classList.add(...e._contentClassNames);let s=a.querySelectorAll(e._cellSelector);for(let l=0;l<s.length;l++)s[l].classList.add(...e._cellClassNames)}}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}_measureRangeSize(e,i){if(e.start>=e.end||i!=="vertical")return 0;let r=this.viewChange.value,o=this._rowOutlet.viewContainer;e.start<r.start||e.end>r.end;let a=e.start-r.start,s=e.end-e.start,l,c;for(let h=0;h<s;h++){let f=o.get(h+a);if(f&&f.rootNodes.length){l=c=f.rootNodes[0];break}}for(let h=s-1;h>-1;h--){let f=o.get(h+a);if(f&&f.rootNodes.length){c=f.rootNodes[f.rootNodes.length-1];break}}let u=l?.getBoundingClientRect?.(),d=c?.getBoundingClientRect?.();return u&&d?d.bottom-u.top:0}_virtualScrollEnabled(){return!this._disableVirtualScrolling&&this._virtualScrollViewport!=null}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,o){if(i&1&&Kt(o,GN,5)(o,iu,5)(o,qv,5)(o,qf,5)(o,XD,5),i&2){let a;ne(a=ie())&&(r._noDataRow=a.first),ne(a=ie())&&(r._contentColumnDefs=a),ne(a=ie())&&(r._contentRowDefs=a),ne(a=ie())&&(r._contentHeaderRowDefs=a),ne(a=ie())&&(r._contentFooterRowDefs=a)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",_e],fixedLayout:[2,"fixedLayout","fixedLayout",_e],recycleRows:[2,"recycleRows","recycleRows",_e]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[We([{provide:Eo,useExisting:t},{provide:Uf,useValue:null}])],ngContentSelectors:bZ,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(tt(_Z),De(0),De(1,1),be(2,yZ,1,0),be(3,wZ,7,0)(4,CZ,4,0)),i&2&&(M(2),ye(r._isServer?2:-1),M(),ye(r._isNativeHtmlTable?3:4))},dependencies:[tE,eE,iE,nE],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return t})();function jv(t,n){return t.concat(Array.from(n))}function UN(t,n){let e=n.toUpperCase(),i=t.viewContainer.element.nativeElement;for(;i;){let r=i.nodeType===1?i.nodeName:null;if(r===e)return i;if(r==="TABLE")break;i=i.parentNode}return null}var YN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[Gl]})}return t})();var DZ=[[["caption"]],[["colgroup"],["col"]],"*"],EZ=["caption","colgroup, col","*"];function SZ(t,n){t&1&&De(0,2)}function kZ(t,n){t&1&&(x(0,"thead",0),xi(1,1),E(),x(2,"tbody",2),xi(3,3)(4,4),E(),x(5,"tfoot",0),xi(6,5),E())}function MZ(t,n){t&1&&xi(0,1)(1,3)(2,4)(3,5)}var $v=(()=>{class t extends rE{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){i&2&&Ee("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[We([{provide:rE,useExisting:t},{provide:Eo,useExisting:t},{provide:Uf,useValue:null}]),Le],ngContentSelectors:EZ,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(tt(DZ),De(0),De(1,1),be(2,SZ,1,0),be(3,kZ,7,0)(4,MZ,4,0)),i&2&&(M(2),ye(r._isServer?2:-1),M(),ye(r._isNativeHtmlTable?3:4))},dependencies:[tE,eE,iE,nE],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mat-table-fixed-layout{table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:start;text-overflow:ellipsis}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:start}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return t})(),Wv=(()=>{class t extends zv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matCellDef",""]],features:[We([{provide:zv,useExisting:t}]),Le]})}return t})(),Gv=(()=>{class t extends Uv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matHeaderCellDef",""]],features:[We([{provide:Uv,useExisting:t}]),Le]})}return t})();var Yv=(()=>{class t extends iu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[We([{provide:iu,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Le]})}return t})(),Qv=(()=>{class t extends $N{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Le]})}return t})();var Kv=(()=>{class t extends WN{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Le]})}return t})();var Xv=(()=>{class t extends qf{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",_e]},features:[We([{provide:qf,useExisting:t}]),Le]})}return t})();var Zv=(()=>{class t extends qv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[We([{provide:qv,useExisting:t}]),Le]})}return t})(),Jv=(()=>{class t extends ZD{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[We([{provide:ZD,useExisting:t}]),Le],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&xi(0,0)},dependencies:[ac],encapsulation:2})}return t})();var e_=(()=>{class t extends JD{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[We([{provide:JD,useExisting:t}]),Le],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&xi(0,0)},dependencies:[ac],encapsulation:2})}return t})();var QN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[YN,at]})}return t})(),TZ=9007199254740991,ru=class extends $l{_data;_renderData=new Wt([]);_filter=new Wt("");_internalPageChanges=new $;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(n,e)=>{let i=n[e];if(yg(i)){let r=Number(i);return r<TZ?r:i}return i};sortData=(n,e)=>{let i=e.active,r=e.direction;return!i||r==""?n:n.sort((o,a)=>{let s=this.sortingDataAccessor(o,i),l=this.sortingDataAccessor(a,i),c=typeof s,u=typeof l;c!==u&&(c==="number"&&(s+=""),u==="number"&&(l+=""));let d=0;return s!=null&&l!=null?s>l?d=1:s<l&&(d=-1):s!=null?d=1:l!=null&&(d=-1),d*(r=="asc"?1:-1)})};filterPredicate=(n,e)=>{let i=e.trim().toLowerCase();return Object.values(n).some(r=>`${r}`.toLowerCase().includes(i))};constructor(n=[]){super(),this._data=new Wt(n),this._updateChangeSubscription()}_updateChangeSubscription(){let n=this._sort?It(this._sort.sortChange,this._sort.initialized):Be(null),e=this._paginator?It(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Be(null),i=this._data,r=pr([i,this._filter]).pipe(He(([s])=>this._filterData(s))),o=pr([r,n]).pipe(He(([s])=>this._orderData(s))),a=pr([o,e]).pipe(He(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(s=>this._renderData.next(s))}_filterData(n){return this.filteredData=this.filter==null||this.filter===""?n:n.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;let e=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(e,e+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=n,e.pageIndex>0)){let i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var IZ=["*",[["mat-toolbar-row"]]],AZ=["*","mat-toolbar-row"],RZ=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),KN=(()=>{class t{_elementRef=m(ue);_platform=m(Je);_document=m(Re);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,RZ,5),i&2){let a;ne(a=ie())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){i&2&&(fn(r.color?"mat-"+r.color:""),Ee("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:AZ,decls:2,vars:0,template:function(i,r){i&1&&(tt(IZ),De(0),De(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return t})();var XN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[at]})}return t})();var Dt=(function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t})(Dt||{}),So="*";function ZN(t,n=null){return{type:Dt.Sequence,steps:t,options:n}}function oE(t){return{type:Dt.Style,styles:t,offset:null}}var Qa=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,e=0){this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ou=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let n=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},$f="!";function JN(t){return new se(3e3,!1)}function OZ(){return new se(3100,!1)}function NZ(){return new se(3101,!1)}function FZ(t){return new se(3001,!1)}function PZ(t){return new se(3003,!1)}function LZ(t){return new se(3004,!1)}function tF(t,n){return new se(3005,!1)}function nF(){return new se(3006,!1)}function iF(){return new se(3007,!1)}function rF(t,n){return new se(3008,!1)}function oF(t){return new se(3002,!1)}function aF(t,n,e,i,r){return new se(3010,!1)}function sF(){return new se(3011,!1)}function lF(){return new se(3012,!1)}function cF(){return new se(3200,!1)}function dF(){return new se(3202,!1)}function uF(){return new se(3013,!1)}function hF(t){return new se(3014,!1)}function fF(t){return new se(3015,!1)}function pF(t){return new se(3016,!1)}function mF(t,n){return new se(3404,!1)}function BZ(t){return new se(3502,!1)}function gF(t){return new se(3503,!1)}function vF(){return new se(3300,!1)}function _F(t){return new se(3504,!1)}function bF(t){return new se(3301,!1)}function yF(t,n){return new se(3302,!1)}function wF(t){return new se(3303,!1)}function CF(t,n){return new se(3400,!1)}function xF(t){return new se(3401,!1)}function DF(t){return new se(3402,!1)}function EF(t,n){return new se(3505,!1)}function Ka(t){switch(t.length){case 0:return new Qa;case 1:return t[0];default:return new ou(t)}}function cE(t,n,e=new Map,i=new Map){let r=[],o=[],a=-1,s=null;if(n.forEach(l=>{let c=l.get("offset"),u=c==a,d=u&&s||new Map;l.forEach((h,f)=>{let p=f,g=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,r),g){case $f:g=e.get(f);break;case So:g=i.get(f);break;default:g=t.normalizeStyleValue(f,p,g,r);break}d.set(p,g)}),u||o.push(d),s=d,a=c}),r.length)throw BZ(r);return o}function t_(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&aE(e,"start",t)));break;case"done":t.onDone(()=>i(e&&aE(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&aE(e,"destroy",t)));break}}function aE(t,n,e){let i=e.totalTime,r=!!e.disabled,o=n_(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function n_(t,n,e,i,r="",o=0,a){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function tr(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function dE(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var VZ=typeof document>"u"?null:document.documentElement;function i_(t){let n=t.parentNode||t.host||null;return n===VZ?null:n}function jZ(t){return t.substring(1,6)=="ebkit"}var sc=null,eF=!1;function SF(t){sc||(sc=HZ()||{},eF=sc.style?"WebkitAppearance"in sc.style:!1);let n=!0;return sc.style&&!jZ(t)&&(n=t in sc.style,!n&&eF&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in sc.style)),n}function HZ(){return typeof document<"u"?document.body:null}function uE(t,n){for(;n;){if(n===t)return!0;n=i_(n)}return!1}function hE(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var zZ=1e3,fE="{{",UZ="}}",pE="ng-enter",r_="ng-leave",Wf="ng-trigger",Gf=".ng-trigger",mE="ng-animating",o_=".ng-animating";function da(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:sE(parseFloat(n[1]),n[2])}function sE(t,n){return n==="s"?t*zZ:t}function Yf(t,n,e){return t.hasOwnProperty("duration")?t:$Z(t,n,e)}var qZ=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function $Z(t,n,e){let i,r=0,o="";if(typeof t=="string"){let a=t.match(qZ);if(a===null)return n.push(JN(t)),{duration:0,delay:0,easing:""};i=sE(parseFloat(a[1]),a[2]);let s=a[3];s!=null&&(r=sE(parseFloat(s),a[4]));let l=a[5];l&&(o=l)}else i=t;if(!e){let a=!1,s=n.length;i<0&&(n.push(OZ()),a=!0),r<0&&(n.push(NZ()),a=!0),a&&n.splice(s,0,JN(t))}return{duration:i,delay:r,easing:o}}function kF(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function ko(t,n,e){n.forEach((i,r)=>{let o=a_(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function Ws(t,n){n.forEach((e,i)=>{let r=a_(i);t.style[r]=""})}function au(t){return Array.isArray(t)?t.length==1?t[0]:ZN(t):t}function MF(t,n,e){let i=n.params||{},r=gE(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(FZ(o))})}var lE=new RegExp(`${fE}\\s*(.+?)\\s*${UZ}`,"g");function gE(t){let n=[];if(typeof t=="string"){let e;for(;e=lE.exec(t);)n.push(e[1]);lE.lastIndex=0}return n}function su(t,n,e){let i=`${t}`,r=i.replace(lE,(o,a)=>{let s=n[a];return s==null&&(e.push(PZ(a)),s=""),s.toString()});return r==i?t:r}var WZ=/-+([a-z0-9])/g;function a_(t){return t.replace(WZ,(...n)=>n[1].toUpperCase())}function TF(t,n){return t===0||n===0}function IF(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<n.length;o++){let a=n[o];r.forEach(s=>a.set(s,s_(t,s)))}}return n}function nr(t,n,e){switch(n.type){case Dt.Trigger:return t.visitTrigger(n,e);case Dt.State:return t.visitState(n,e);case Dt.Transition:return t.visitTransition(n,e);case Dt.Sequence:return t.visitSequence(n,e);case Dt.Group:return t.visitGroup(n,e);case Dt.Animate:return t.visitAnimate(n,e);case Dt.Keyframes:return t.visitKeyframes(n,e);case Dt.Style:return t.visitStyle(n,e);case Dt.Reference:return t.visitReference(n,e);case Dt.AnimateChild:return t.visitAnimateChild(n,e);case Dt.AnimateRef:return t.visitAnimateRef(n,e);case Dt.Query:return t.visitQuery(n,e);case Dt.Stagger:return t.visitStagger(n,e);default:throw LZ(n.type)}}function s_(t,n){return window.getComputedStyle(t)[n]}var OE=(()=>{class t{validateStyleProperty(e){return SF(e)}containsElement(e,i){return uE(e,i)}getParentElement(e){return i_(e)}query(e,i,r){return hE(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new Qa(r,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),cc=class{static NOOP=new OE},dc=class{};var GZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),h_=class extends dc{normalizePropertyName(n,e){return a_(n)}normalizeStyleValue(n,e,i,r){let o="",a=i.toString().trim();if(GZ.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(tF(n,i))}return a+o}};var f_="*";function YZ(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>QZ(i,e,n)):e.push(t),e}function QZ(t,n,e){if(t[0]==":"){let l=KZ(t,e);if(typeof l=="function"){n.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(fF(t)),n;let r=i[1],o=i[2],a=i[3];n.push(AF(r,a));let s=r==f_&&a==f_;o[0]=="<"&&!s&&n.push(AF(a,r))}function KZ(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(pF(t)),"* => *"}}var l_=new Set(["true","1"]),c_=new Set(["false","0"]);function AF(t,n){let e=l_.has(t)||c_.has(t),i=l_.has(n)||c_.has(n);return(r,o)=>{let a=t==f_||t==r,s=n==f_||n==o;return!a&&e&&typeof r=="boolean"&&(a=r?l_.has(t):c_.has(t)),!s&&i&&typeof o=="boolean"&&(s=o?l_.has(n):c_.has(n)),a&&s}}var HF=":self",XZ=new RegExp(`s*${HF}s*,?`,"g");function zF(t,n,e,i){return new CE(t).build(n,e,i)}var RF="",CE=class{_driver;constructor(n){this._driver=n}build(n,e,i){let r=new xE(e);return this._resetContextStyleTimingState(r),nr(this,au(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=RF,n.collectedStyles=new Map,n.collectedStyles.set(RF,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return n.name.charAt(0)=="@"&&e.errors.push(nF()),n.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==Dt.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==Dt.Transition){let l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(iF())}),{type:Dt.Trigger,name:n.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{gE(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(rF(n.name,[...o.values()]))}return{type:Dt.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=nr(this,au(n.animation),e),r=YZ(n.expr,e.errors);return{type:Dt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:lc(n.options)}}visitSequence(n,e){return{type:Dt.Sequence,steps:n.steps.map(i=>nr(this,i,e)),options:lc(n.options)}}visitGroup(n,e){let i=e.currentTime,r=0,o=n.steps.map(a=>{e.currentTime=i;let s=nr(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:Dt.Group,steps:o,options:lc(n.options)}}visitAnimate(n,e){let i=tJ(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:oE({});if(o.type==Dt.Keyframes)r=this.visitKeyframes(o,e);else{let a=n.styles,s=!1;if(!a){s=!0;let c={};i.easing&&(c.easing=i.easing),a=oE(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:Dt.Animate,timings:i,style:r,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let s of r)typeof s=="string"?s===So?i.push(s):e.errors.push(oF(s)):i.push(new Map(Object.entries(s)));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(fE)>=0){o=!0;break}}}),{type:Dt.Style,styles:i,easing:a,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(aF(l,u.startTime,u.endTime,o,r)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),e.options&&MF(s,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:Dt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(sF()),i;let r=1,o=0,a=[],s=!1,l=!1,c=0,u=n.steps.map(_=>{let y=this._makeStyleAst(_,e),D=y.offset!=null?y.offset:eJ(y.styles),b=0;return D!=null&&(o++,b=y.offset=D),l=l||b<0||b>1,s=s||b<c,c=b,a.push(b),y});l&&e.errors.push(lF()),s&&e.errors.push(cF());let d=n.steps.length,h=0;o>0&&o<d?e.errors.push(dF()):o==0&&(h=r/(d-1));let f=d-1,p=e.currentTime,g=e.currentAnimateTimings,v=g.duration;return u.forEach((_,y)=>{let D=h>0?y==f?1:h*y:a[y],b=D*v;e.currentTime=p+g.delay+b,g.duration=b,this._validateStyleAst(_,e),_.offset=D,i.styles.push(_)}),i}visitReference(n,e){return{type:Dt.Reference,animation:nr(this,au(n.animation),e),options:lc(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Dt.AnimateChild,options:lc(n.options)}}visitAnimateRef(n,e){return{type:Dt.AnimateRef,animation:this.visitReference(n.animation,e),options:lc(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;let[o,a]=ZZ(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,tr(e.collectedStyles,e.currentQuerySelector,new Map);let s=nr(this,au(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Dt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:n.selector,options:lc(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(uF());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:Yf(n.timings,e.errors,!0);return{type:Dt.Stagger,animation:nr(this,au(n.animation),e),timings:i,options:null}}};function ZZ(t){let n=!!t.split(/\s*,\s*/).find(e=>e==HF);return n&&(t=t.replace(XZ,"")),t=t.replace(/@\*/g,Gf).replace(/@\w+/g,e=>Gf+"-"+e.slice(1)).replace(/:animating/g,o_),[t,n]}function JZ(t){return t?G({},t):null}var xE=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(n){this.errors=n}};function eJ(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function tJ(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Yf(t,n).duration;return vE(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=vE(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Yf(e,n);return vE(r.duration,r.delay,r.easing)}function lc(t){return t?(t=G({},t),t.params&&(t.params=JZ(t.params))):t={},t}function vE(t,n,e){return{duration:t,delay:n,easing:e}}function NE(t,n,e,i,r,o,a=null,s=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var Kf=class{_map=new Map;get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},nJ=1,iJ=":enter",rJ=new RegExp(iJ,"g"),oJ=":leave",aJ=new RegExp(oJ,"g");function UF(t,n,e,i,r,o=new Map,a=new Map,s,l,c=[]){return new DE().buildKeyframes(t,n,e,i,r,o,a,s,l,c)}var DE=class{buildKeyframes(n,e,i,r,o,a,s,l,c,u=[]){c=c||new Kf;let d=new EE(n,e,c,r,o,u,[]);d.options=l;let h=l.delay?da(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,l),nr(this,i,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&s.size){let p;for(let g=f.length-1;g>=0;g--){let v=f[g];if(v.element===e){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([s],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[NE(e,[],[],[],0,h,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let r of n){let o=r?.delay;if(o){let a=typeof o=="number"?o:da(su(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime,a=i.duration!=null?da(i.duration):null,s=i.delay!=null?da(i.delay):null;return a!==0&&n.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),nr(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,r=e,o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Dt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=p_);let a=da(o.delay);r.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>nr(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],r=e.currentTimeline.currentTime,o=n.options&&n.options.delay?da(n.options.delay):0;n.steps.forEach(a=>{let s=e.createSubContext(n.options);o&&s.delayNextStep(o),nr(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,r=e.params?su(i,e.params,e.errors):i;return Yf(r,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=n.style;o.type==Dt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,n.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?da(r.delay):0;o&&(e.previousNode.type===Dt.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=p_);let a=i,s=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(n.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),nr(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;a=Math.max(a,h)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,r=e.currentTimeline,o=n.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;nr(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},p_={},EE=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=p_;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(n,e,i,r,o,a,s,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new m_(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,r=this.options;i.duration!=null&&(r.duration=da(i.duration)),i.delay!=null&&(r.delay=da(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=su(o[s],a,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=p_,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new SE(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,a){let s=[];if(r&&s.push(this.element),n.length>0){n=n.replace(rJ,"."+this._enterClassName),n=n.replace(aJ,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,n,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&s.length==0&&a.push(hF(e)),s}},m_=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=nJ,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||So),this._currentKeyframe.set(e,So);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=sJ(n,this._globalTimelineStyles);for(let[s,l]of a){let c=su(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??So),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((u,d)=>{u===$f?n.add(d):u===So&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...n.values()],a=[...e.values()];if(i){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return NE(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},SE=class extends m_{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(n,e,i,r,o,a,s=!1){super(n,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=i+e,s=e/a,l=new Map(n[0]);l.set("offset",0),o.push(l);let c=new Map(n[0]);c.set("offset",OF(s)),o.push(c);let u=n.length-1;for(let d=1;d<=u;d++){let h=new Map(n[d]),f=h.get("offset"),p=e+f*i;h.set("offset",OF(p/a)),o.push(h)}i=a,e=0,r="",n=o}return NE(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function OF(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function sJ(t,n){let e=new Map,i;return t.forEach(r=>{if(r==="*"){i??=n.keys();for(let o of i)e.set(o,So)}else for(let[o,a]of r)e.set(o,a)}),e}function NF(t,n,e,i,r,o,a,s,l,c,u,d,h){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var _E={},g_=class{_triggerName;ast;_stateStyles;constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return lJ(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,a,s,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||_E,f=s&&s.params||_E,p=this.buildStyles(i,f,d),g=l&&l.params||_E,v=this.buildStyles(r,g,d),_=new Set,y=new Map,D=new Map,b=r==="void",C={params:qF(g,h),delay:this.ast.options?.delay},k=u?[]:UF(n,e,this.ast.animation,o,a,p,v,C,c,d),O=0;return k.forEach(H=>{O=Math.max(H.duration+H.delay,O)}),d.length?NF(e,this._triggerName,i,r,b,p,v,[],[],y,D,O,d):(k.forEach(H=>{let F=H.element,U=tr(y,F,new Set);H.preStyleProps.forEach(X=>U.add(X));let de=tr(D,F,new Set);H.postStyleProps.forEach(X=>de.add(X)),F!==e&&_.add(F)}),NF(e,this._triggerName,i,r,b,p,v,k,[..._.values()],y,D,O))}};function lJ(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}function qF(t,n){let e=G({},n);return Object.entries(t).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var kE=class{styles;defaultParams;normalizer;constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,r=qF(n,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=su(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}};function cJ(t,n,e){return new ME(t,n,e)}var ME=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new kE(r.style,o,i))}),FF(this.states,"true","1"),FF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new g_(n,r,this.states))}),this.fallbackTransition=dJ(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(a=>a.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function dJ(t,n,e){let i=[(a,s)=>!0],r={type:Dt.Sequence,steps:[],options:null},o={type:Dt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new g_(t,o,n)}function FF(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var uJ=new Kf,TE=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i}register(n,e){let i=[],r=[],o=zF(this._driver,e,i,r);if(i.length)throw gF(i);this._animations.set(n,o)}_buildPlayer(n,e,i){let r=n.element,o=cE(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let r=[],o=this._animations.get(n),a,s=new Map;if(o?(a=UF(this._driver,e,o,pE,r_,new Map,new Map,i,uJ,r),a.forEach(u=>{let d=tr(s,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(vF()),a=[]),r.length)throw _F(r);s.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,So))})});let l=a.map(u=>{let d=s.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ka(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw bF(n);return e}listen(n,e,i,r){let o=n_(e,"","","");return t_(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if(i=="register"){this.register(n,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(n,e,a);return}let o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},PF="ng-animate-queued",hJ=".ng-animate-queued",bE="ng-animate-disabled",fJ=".ng-animate-disabled",pJ="ng-star-inserted",mJ=".ng-star-inserted",gJ=[],$F={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mo="__ng_removed",Xf=class{namespaceId;value;options;get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),r=i?n.value:n;if(this.value=bJ(r),i){let o=n,{value:a}=o,s=hy(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Qf="void",yE=new Xf(Qf),IE=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+n,Gr(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw yF(i,e);if(i==null||i.length==0)throw wF(e);if(!yJ(i))throw CF(i,e);let o=tr(this._elementListeners,n,[]),a={name:e,phase:i,callback:r};o.push(a);let s=tr(this._engine.statesByElement,n,new Map);return s.has(e)||(Gr(n,Wf),Gr(n,Wf+"-"+e),s.set(e,yE)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw xF(n);return e}trigger(n,e,i,r=!0){let o=this._getTrigger(e),a=new Zf(this.id,e,n),s=this._engine.statesByElement.get(n);s||(Gr(n,Wf),Gr(n,Wf+"-"+e),this._engine.statesByElement.set(n,s=new Map));let l=s.get(e),c=new Xf(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=yE),!(c.value===Qf)&&l.value===c.value){if(!xJ(l.params,c.params)){let g=[],v=o.matchStyles(l.value,l.params,g),_=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Ws(n,v),ko(n,_)})}return}let h=tr(this._engine.playersByElement,n,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==e&&g.queued&&g.destroy()});let f=o.matchTransition(l.value,c.value,n,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:f,fromState:l,toState:c,player:a,isFallbackTransition:p}),p||(Gr(n,PF),a.onStart(()=>{lu(n,PF)})),a.onDone(()=>{let g=this.players.indexOf(a);g>=0&&this.players.splice(g,1);let v=this._engine.playersByElement.get(n);if(v){let _=v.indexOf(a);_>=0&&v.splice(_,1)}}),this.players.push(a),h.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,Gf,!0);i.forEach(r=>{if(r[Mo])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){let o=this._engine.statesByElement.get(n),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let u=this.trigger(n,c,Qf,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,a),i&&Ka(s).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=i.get(a)||yE,u=new Xf(Qf),d=new Zf(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let a=n;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{let o=n[Mo];(!o||o===$F)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Gr(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){let l=n_(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,t_(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},AE=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(n,e)=>{};_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new IE(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=i.indexOf(l);i.splice(c+1,0,n),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(n,e,i,r){if(d_(e)){let o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!d_(e))return;let o=e[Mo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){let a=this._fetchNamespace(n);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Gr(n,bE)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),lu(n,bE))}removeNode(n,e,i){if(d_(e)){let r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Mo]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return d_(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,Gf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,o_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ka(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[Mo];if(e&&e.setForRemoval){if(n[Mo]=$F,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(bE)&&this.markElementAsDisabled(n,!1),this.driver.query(n,fJ,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Gr(r,pJ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ka(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw DF(n)}_flushAnimations(n,e){let i=new Kf,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(oe=>{u.add(oe);let w=this.driver.query(oe,hJ,!0);for(let T=0;T<w.length;T++)u.add(w[T])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=VF(h,this.collectedEnterElements),p=new Map,g=0;f.forEach((oe,w)=>{let T=pE+g++;p.set(w,T),oe.forEach(R=>Gr(R,T))});let v=[],_=new Set,y=new Set;for(let oe=0;oe<this.collectedLeaveElements.length;oe++){let w=this.collectedLeaveElements[oe],T=w[Mo];T&&T.setForRemoval&&(v.push(w),_.add(w),T.hasAnimation?this.driver.query(w,mJ,!0).forEach(R=>_.add(R)):y.add(w))}let D=new Map,b=VF(h,Array.from(_));b.forEach((oe,w)=>{let T=r_+g++;D.set(w,T),oe.forEach(R=>Gr(R,T))}),n.push(()=>{f.forEach((oe,w)=>{let T=p.get(w);oe.forEach(R=>lu(R,T))}),b.forEach((oe,w)=>{let T=D.get(w);oe.forEach(R=>lu(R,T))}),v.forEach(oe=>{this.processLeaveNode(oe)})});let C=[],k=[];for(let oe=this._namespaceList.length-1;oe>=0;oe--)this._namespaceList[oe].drainQueuedTransitions(e).forEach(T=>{let R=T.player,N=T.element;if(C.push(R),this.collectedEnterElements.length){let jt=N[Mo];if(jt&&jt.setForMove){if(jt.previousTriggersValues&&jt.previousTriggersValues.has(T.triggerName)){let sn=jt.previousTriggersValues.get(T.triggerName),St=this.statesByElement.get(T.element);if(St&&St.has(T.triggerName)){let ke=St.get(T.triggerName);ke.value=sn,St.set(T.triggerName,ke)}}R.destroy();return}}let J=!d||!this.driver.containsElement(d,N),Ve=D.get(N),Te=p.get(N),Ae=this._buildInstruction(T,i,Te,Ve,J);if(Ae.errors&&Ae.errors.length){k.push(Ae);return}if(J){R.onStart(()=>Ws(N,Ae.fromStyles)),R.onDestroy(()=>ko(N,Ae.toStyles)),r.push(R);return}if(T.isFallbackTransition){R.onStart(()=>Ws(N,Ae.fromStyles)),R.onDestroy(()=>ko(N,Ae.toStyles)),r.push(R);return}let yi=[];Ae.timelines.forEach(jt=>{jt.stretchStartingKeyframe=!0,this.disabledNodes.has(jt.element)||yi.push(jt)}),Ae.timelines=yi,i.append(N,Ae.timelines);let Ii={instruction:Ae,player:R,element:N};a.push(Ii),Ae.queriedElements.forEach(jt=>tr(s,jt,[]).push(R)),Ae.preStyleProps.forEach((jt,sn)=>{if(jt.size){let St=l.get(sn);St||l.set(sn,St=new Set),jt.forEach((ke,Ht)=>St.add(Ht))}}),Ae.postStyleProps.forEach((jt,sn)=>{let St=c.get(sn);St||c.set(sn,St=new Set),jt.forEach((ke,Ht)=>St.add(Ht))})});if(k.length){let oe=[];k.forEach(w=>{oe.push(EF(w.triggerName,w.errors))}),C.forEach(w=>w.destroy()),this.reportError(oe)}let O=new Map,H=new Map;a.forEach(oe=>{let w=oe.element;i.has(w)&&(H.set(w,w),this._beforeAnimationBuild(oe.player.namespaceId,oe.instruction,O))}),r.forEach(oe=>{let w=oe.element;this._getPreviousPlayers(w,!1,oe.namespaceId,oe.triggerName,null).forEach(R=>{tr(O,w,[]).push(R),R.destroy()})});let F=v.filter(oe=>jF(oe,l,c)),U=new Map;BF(U,this.driver,y,c,So).forEach(oe=>{jF(oe,l,c)&&F.push(oe)});let X=new Map;f.forEach((oe,w)=>{BF(X,this.driver,new Set(oe),l,$f)}),F.forEach(oe=>{let w=U.get(oe),T=X.get(oe);U.set(oe,new Map([...w?.entries()??[],...T?.entries()??[]]))});let Z=[],me=[],we={};a.forEach(oe=>{let{element:w,player:T,instruction:R}=oe;if(i.has(w)){if(u.has(w)){T.onDestroy(()=>ko(w,R.toStyles)),T.disabled=!0,T.overrideTotalTime(R.totalTime),r.push(T);return}let N=we;if(H.size>1){let Ve=w,Te=[];for(;Ve=Ve.parentNode;){let Ae=H.get(Ve);if(Ae){N=Ae;break}Te.push(Ve)}Te.forEach(Ae=>H.set(Ae,N))}let J=this._buildAnimation(T.namespaceId,R,O,o,X,U);if(T.setRealPlayer(J),N===we)Z.push(T);else{let Ve=this.playersByElement.get(N);Ve&&Ve.length&&(T.parentPlayer=Ka(Ve)),r.push(T)}}else Ws(w,R.fromStyles),T.onDestroy(()=>ko(w,R.toStyles)),me.push(T),u.has(w)&&r.push(T)}),me.forEach(oe=>{let w=o.get(oe.element);if(w&&w.length){let T=Ka(w);oe.setRealPlayer(T)}}),r.forEach(oe=>{oe.parentPlayer?oe.syncPlayerEvents(oe.parentPlayer):oe.destroy()});for(let oe=0;oe<v.length;oe++){let w=v[oe],T=w[Mo];if(lu(w,r_),T&&T.hasAnimation)continue;let R=[];if(s.size){let J=s.get(w);J&&J.length&&R.push(...J);let Ve=this.driver.query(w,o_,!0);for(let Te=0;Te<Ve.length;Te++){let Ae=s.get(Ve[Te]);Ae&&Ae.length&&R.push(...Ae)}}let N=R.filter(J=>!J.destroyed);N.length?wJ(this,w,N):this.processLeaveNode(w)}return v.length=0,Z.forEach(oe=>{this.players.push(oe),oe.onDone(()=>{oe.destroy();let w=this.players.indexOf(oe);this.players.splice(w,1)}),oe.play()}),Z}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(n);s&&(a=s)}else{let s=this.playersByElement.get(n);if(s){let l=!o||o==Qf;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(n,e,i){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:n,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==o,d=tr(i,c,[]);this._getPreviousPlayers(c,u,a,s,e.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ws(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,a){let s=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{let g=p.element;u.add(g);let v=g[Mo];if(v&&v.removedBeforeQueried)return new Qa(p.duration,p.delay);let _=g!==l,y=CJ((i.get(g)||gJ).map(O=>O.getRealPlayer())).filter(O=>{let H=O;return H.element?H.element===g:!1}),D=o.get(g),b=a.get(g),C=cE(this._normalizer,p.keyframes,D,b),k=this._buildPlayer(p,C,y);if(p.subTimeline&&r&&d.add(g),_){let O=new Zf(n,s,g);O.setRealPlayer(k),c.push(O)}return k});c.forEach(p=>{tr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>_J(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Gr(p,mE));let f=Ka(h);return f.onDestroy(()=>{u.forEach(p=>lu(p,mE)),ko(l,e.toStyles)}),d.forEach(p=>{tr(r,p,[]).push(f)}),f}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Qa(n.duration,n.delay)}},Zf=class{namespaceId;triggerName;element;_player=new Qa;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>t_(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){tr(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function _J(t,n,e){let i=t.get(n);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&t.delete(n)}return i}function bJ(t){return t??null}function d_(t){return t&&t.nodeType===1}function yJ(t){return t=="start"||t=="done"}function LF(t,n){let e=t.style.display;return t.style.display=n??"none",e}function BF(t,n,e,i,r){let o=[];e.forEach(l=>o.push(LF(l)));let a=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=n.computeStyle(c,d,r);u.set(d,h),(!h||h.length==0)&&(c[Mo]=vJ,a.push(c))}),t.set(c,u)});let s=0;return e.forEach(l=>LF(l,o[s++])),a}function VF(t,n){let e=new Map;if(t.forEach(s=>e.set(s,[])),n.length==0)return e;let i=1,r=new Set(n),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=a(c),o.set(s,l),l}return n.forEach(s=>{let l=a(s);l!==i&&e.get(l).push(s)}),e}function Gr(t,n){t.classList?.add(n)}function lu(t,n){t.classList?.remove(n)}function wJ(t,n,e){Ka(e).onDone(()=>t.processLeaveNode(n))}function CJ(t){let n=[];return WF(t,n),n}function WF(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof ou?WF(i.players,n):n.push(i)}}function xJ(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}function jF(t,n,e){let i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}var cu=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(n,e)=>{};constructor(n,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new AE(n.body,e,i),this._timelineEngine=new TE(n.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,e,i,r,o){let a=n+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],u=zF(this._driver,o,l,c);if(l.length)throw mF(r,l);s=cJ(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if(i.charAt(0)=="@"){let[o,a]=dE(i),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if(i.charAt(0)=="@"){let[a,s]=dE(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function DJ(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=wE(n[0]),n.length>1&&(i=wE(n[n.length-1]))):n instanceof Map&&(e=wE(n)),e||i?new EJ(t,e,i):null}var EJ=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ko(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ko(this._element,this._initialStyles),this._endStyles&&(ko(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ws(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ws(this._element,this._endStyles),this._endStyles=null),ko(this._element,this._initialStyles),this._state=3)}}return t})();function wE(t){let n=null;return t.forEach((e,i)=>{SJ(i)&&(n=n||new Map,n.set(i,e))}),n}function SJ(t){return t==="display"||t==="position"}var v_=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let n=this.keyframes,e=this._triggerWebAnimation(this.element,n,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=n.length?n[n.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){let r=this._convertKeyframesToObject(e);try{return n.animate(r,i)}catch(o){return null}}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){let n=this._buildPlayer();n&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),n.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=n*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&n.set(r,this._finished?i:s_(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},__=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,e){return uE(n,e)}getParentElement(n){return i_(n)}query(n,e,i){return hE(n,e,i)}computeStyle(n,e,i){return s_(n,e)}animate(n,e,i,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:i,delay:r,fill:s};o&&(l.easing=o);let c=new Map,u=a.filter(f=>f instanceof v_);TF(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=kF(e).map(f=>new Map(f));d=IF(n,d,c);let h=DJ(n,d);return new v_(n,d,l,h)}};var u_="@",GF="@.disabled",b_=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i,r){if(r){this.delegate.removeChild(n,e,i,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==u_&&e==GF?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i,r){return this.delegate.listen(n,e,i,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},RE=class extends b_{factory;constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==u_?e.charAt(1)=="."&&e==GF?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i,r){if(e.charAt(0)==u_){let o=kJ(n),a=e.slice(1),s="";return a.charAt(0)!=u_&&([a,s]=MJ(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(n,e,i,r)}};function kJ(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function MJ(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var y_=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(n,e){let r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new b_("",r,this.engine,d),c.set(r,u)}return u}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,n,c.name,c)};return e.data.animation.forEach(s),new RE(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(n){this.engine.flush(),this.delegate.componentReplaced?.(n)}};var IJ=(()=>{class t extends cu{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(Pe(Re),Pe(cc),Pe(dc))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function AJ(){return new h_}function RJ(){return new y_(m(vf),m(cu),m(he))}var QF=[{provide:dc,useFactory:AJ},{provide:cu,useClass:IJ},{provide:wn,useFactory:RJ}],OJ=[{provide:cc,useClass:OE},{provide:Ds,useValue:"NoopAnimations"},...QF],YF=[{provide:cc,useFactory:()=>new __},{provide:Ds,useFactory:()=>"BrowserAnimations"},...QF],KF=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?OJ:YF}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:YF,imports:[bf]})}return t})();var pt="primary",dp=Symbol("RouteTitle"),VE=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function fc(t){return new VE(t)}function FE(t,n,e){for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(r[0]===":")e[r.substring(1)]=o;else if(r!==o.path)return!1}return!0}function aP(t,n,e){let i=e.path.split("/"),r=i.indexOf("**");if(r===-1){if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let l={},c=t.slice(0,i.length);return FE(i,c,l)?{consumed:c,posParams:l}:null}if(r!==i.lastIndexOf("**"))return null;let o=i.slice(0,r),a=i.slice(r+1);if(o.length+a.length>t.length||e.pathMatch==="full"&&n.hasChildren()&&e.path!=="**")return null;let s={};return!FE(o,t.slice(0,o.length),s)||!FE(a,t.slice(t.length-a.length),s)?null:{consumed:t,posParams:s}}function S_(t){return new Promise((n,e)=>{t.pipe(xa()).subscribe({next:i=>n(i),error:i=>e(i)})})}function NJ(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!ua(t[e],n[e]))return!1;return!0}function ua(t,n){let e=t?jE(t):void 0,i=n?jE(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!sP(t[r],n[r]))return!1;return!0}function jE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sP(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function FJ(t){return t.length>0?t[t.length-1]:null}function gc(t){return qo(t)?t:Pl(t)?_n(Promise.resolve(t)):Be(t)}function lP(t){return qo(t)?S_(t):Promise.resolve(t)}var PJ={exact:dP,subset:uP},cP={exact:LJ,subset:BJ,ignored:()=>!0};function XF(t,n,e){return PJ[e.paths](t.root,n.root,e.matrixParams)&&cP[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function LJ(t,n){return ua(t,n)}function dP(t,n,e){if(!uc(t.segments,n.segments)||!x_(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!dP(t.children[i],n.children[i],e))return!1;return!0}function BJ(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>sP(t[e],n[e]))}function uP(t,n,e){return hP(t,n,n.segments,e)}function hP(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!uc(r,e)||n.hasChildren()||!x_(r,e,i))}else if(t.segments.length===e.length){if(!uc(t.segments,e)||!x_(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!uP(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!uc(t.segments,r)||!x_(t.segments,r,i)||!t.children[pt]?!1:hP(t.children[pt],n,o,i)}}function x_(t,n,e){return n.every((i,r)=>cP[e](t[r].parameters,i.parameters))}var Io=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Xt([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=fc(this.queryParams),this._queryParamMap}toString(){return HJ.serialize(this)}},Xt=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return D_(this)}},Gs=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=fc(this.parameters),this._parameterMap}toString(){return pP(this)}};function VJ(t,n){return uc(t,n)&&t.every((e,i)=>ua(e.parameters,n[i].parameters))}function uc(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function jJ(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===pt&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==pt&&(e=e.concat(n(r,i)))}),e}var up=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>new Ys,providedIn:"root"})}return t})(),Ys=class{parse(n){let e=new zE(n);return new Io(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Jf(n.root,!0)}`,i=qJ(n.queryParams),r=typeof n.fragment=="string"?`#${zJ(n.fragment)}`:"";return`${e}${i}${r}`}},HJ=new Ys;function D_(t){return t.segments.map(n=>pP(n)).join("/")}function Jf(t,n){if(!t.hasChildren())return D_(t);if(n){let e=t.children[pt]?Jf(t.children[pt],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==pt&&i.push(`${r}:${Jf(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=jJ(t,(i,r)=>r===pt?[Jf(t.children[pt],!1)]:[`${r}:${Jf(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[pt]!=null?`${D_(t)}/${e[0]}`:`${D_(t)}/(${e.join("//")})`}}function fP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function w_(t){return fP(t).replace(/%3B/gi,";")}function zJ(t){return encodeURI(t)}function HE(t){return fP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function E_(t){return decodeURIComponent(t)}function ZF(t){return E_(t.replace(/\+/g,"%20"))}function pP(t){return`${HE(t.path)}${UJ(t.parameters)}`}function UJ(t){return Object.entries(t).map(([n,e])=>`;${HE(n)}=${HE(e)}`).join("")}function qJ(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${w_(e)}=${w_(r)}`).join("&"):`${w_(e)}=${w_(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var $J=/^[^\/()?;#]+/;function PE(t){let n=t.match($J);return n?n[0]:""}var WJ=/^[^\/()?;=#]+/;function GJ(t){let n=t.match(WJ);return n?n[0]:""}var YJ=/^[^=?&#]+/;function QJ(t){let n=t.match(YJ);return n?n[0]:""}var KJ=/^[^&#]+/;function XJ(t){let n=t.match(KJ);return n?n[0]:""}var zE=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(n=0){if(n>50)throw new se(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0,n));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1,n)),(e.length>0||Object.keys(i).length>0)&&(r[pt]=new Xt(e,i)),r}parseSegment(){let n=PE(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(n),new Gs(E_(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=GJ(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=PE(this.remaining);r&&(i=r,this.capture(i))}n[E_(e)]=E_(i)}parseQueryParam(n){let e=QJ(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=XJ(this.remaining);a&&(i=a,this.capture(i))}let r=ZF(e),o=ZF(i);if(n.hasOwnProperty(r)){let a=n[r];Array.isArray(a)||(a=[a],n[r]=a),a.push(o)}else n[r]=o}parseParens(n,e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=PE(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new se(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=pt);let s=this.parseChildren(e+1);i[a??pt]=Object.keys(s).length===1&&s[pt]?s[pt]:new Xt([],s),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new se(4011,!1)}};function mP(t){return t.segments.length>0?new Xt([],{[pt]:t}):t}function gP(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=gP(r);if(i===pt&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))n[a]=s;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new Xt(t.segments,n);return ZJ(e)}function ZJ(t){if(t.numberOfChildren===1&&t.children[pt]){let n=t.children[pt];return new Xt(t.segments.concat(n.segments),n.children)}return t}function Qs(t){return t instanceof Io}function vP(t,n,e=null,i=null,r=new Ys){let o=_P(t);return bP(o,n,e,i,r)}function _P(t){let n;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new Xt(o.url,a);return o===t&&(n=s),s}let i=e(t.root),r=mP(i);return n??r}function bP(t,n,e,i,r){let o=t;for(;o.parent;)o=o.parent;if(n.length===0)return LE(o,o,o,e,i,r);let a=JJ(n);if(a.toRoot())return LE(o,o,new Xt([],{}),e,i,r);let s=eee(a,o,t),l=s.processChildren?tp(s.segmentGroup,s.index,a.commands):wP(s.segmentGroup,s.index,a.commands);return LE(o,s.segmentGroup,l,e,i,r)}function k_(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function rp(t){return typeof t=="object"&&t!=null&&t.outlets}function JF(t,n,e){t||="\u0275";let i=new Io;return i.queryParams={[t]:n},e.parse(e.serialize(i)).queryParams[t]}function LE(t,n,e,i,r,o){let a={};for(let[c,u]of Object.entries(i??{}))a[c]=Array.isArray(u)?u.map(d=>JF(c,d,o)):JF(c,u,o);let s;t===n?s=e:s=yP(t,n,e);let l=mP(gP(s));return new Io(l,a,r)}function yP(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=yP(o,n,e)}),new Xt(t.segments,i)}var M_=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&k_(i[0]))throw new se(4003,!1);let r=i.find(rp);if(r&&r!==FJ(i))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JJ(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new M_(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?n++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new M_(e,n,i)}var uu=class{segmentGroup;processChildren;index;constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function eee(t,n,e){if(t.isAbsolute)return new uu(n,!0,0);if(!e)return new uu(n,!1,NaN);if(e.parent===null)return new uu(e,!0,0);let i=k_(t.commands[0])?0:1,r=e.segments.length-1+i;return tee(e,r,t.numberOfDoubleDots)}function tee(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new se(4005,!1);r=i.segments.length}return new uu(i,!1,r-o)}function nee(t){return rp(t[0])?t[0].outlets:{[pt]:t}}function wP(t,n,e){if(t??=new Xt([],{}),t.segments.length===0&&t.hasChildren())return tp(t,n,e);let i=iee(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Xt(t.segments.slice(0,i.pathIndex),{});return o.children[pt]=new Xt(t.segments.slice(i.pathIndex),t.children),tp(o,0,r)}else return i.match&&r.length===0?new Xt(t.segments,{}):i.match&&!t.hasChildren()?UE(t,n,e):i.match?tp(t,0,r):UE(t,n,e)}function tp(t,n,e){if(e.length===0)return new Xt(t.segments,{});{let i=nee(e),r={};if(Object.keys(i).some(o=>o!==pt)&&t.children[pt]&&t.numberOfChildren===1&&t.children[pt].segments.length===0){let o=tp(t.children[pt],n,e);return new Xt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=wP(t.children[o],n,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Xt(t.segments,r)}}function iee(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let a=t.segments[r],s=e[i];if(rp(s))break;let l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!tP(l,c,a))return o;i+=2}else{if(!tP(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function UE(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(rp(o)){let l=ree(o.outlets);return new Xt(i,l)}if(r===0&&k_(e[0])){let l=t.segments[n];i.push(new Gs(l.path,eP(e[0]))),r++;continue}let a=rp(o)?o.outlets[pt]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&k_(s)?(i.push(new Gs(a,eP(s))),r+=2):(i.push(new Gs(a,{})),r++)}return new Xt(i,{})}function ree(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=UE(new Xt([],{}),0,i))}),n}function eP(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function tP(t,n,e){return t==e.path&&ua(n,e.parameters)}var np="imperative",li=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(li||{}),Ir=class{id;url;constructor(n,e){this.id=n,this.url=e}},pc=class extends Ir{type=li.NavigationStart;navigationTrigger;restoredState;constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ha=class extends Ir{urlAfterRedirects;type=li.NavigationEnd;constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mi=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Mi||{}),op=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(op||{}),Yr=class extends Ir{reason;code;type=li.NavigationCancel;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function CP(t){return t instanceof Yr&&(t.code===Mi.Redirect||t.code===Mi.SupersededByNewNavigation)}var Za=class extends Ir{reason;code;type=li.NavigationSkipped;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}},mc=class extends Ir{error;target;type=li.NavigationError;constructor(n,e,i,r){super(n,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fu=class extends Ir{urlAfterRedirects;state;type=li.RoutesRecognized;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T_=class extends Ir{urlAfterRedirects;state;type=li.GuardsCheckStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},I_=class extends Ir{urlAfterRedirects;state;shouldActivate;type=li.GuardsCheckEnd;constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},A_=class extends Ir{urlAfterRedirects;state;type=li.ResolveStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},R_=class extends Ir{urlAfterRedirects;state;type=li.ResolveEnd;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},O_=class{route;type=li.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},N_=class{route;type=li.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},F_=class{snapshot;type=li.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P_=class{snapshot;type=li.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},L_=class{snapshot;type=li.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},B_=class{snapshot;type=li.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pu=class{},mu=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function oee(t){return!(t instanceof pu)&&!(t instanceof mu)}var V_=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new _u(this.rootInjector)}},_u=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new V_(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||t)(Pe(Yt))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),j_=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=qE(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=qE(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=$E(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return $E(n,this._root).map(e=>e.value)}};function qE(t,n){if(t===n.value)return n;for(let e of n.children){let i=qE(t,e);if(i)return i}return null}function $E(t,n){if(t===n.value)return[n];for(let e of n.children){let i=$E(t,e);if(i.length)return i.unshift(n),i}return[]}var Tr=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function du(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var ap=class extends j_{snapshot;constructor(n,e){super(n),this.snapshot=e,JE(this,n)}toString(){return this.snapshot.toString()}};function xP(t,n){let e=aee(t,n),i=new Wt([new Gs("",{})]),r=new Wt({}),o=new Wt({}),a=new Wt({}),s=new Wt(""),l=new Zt(i,r,a,s,o,pt,t,e.root);return l.snapshot=e.root,new ap(new Tr(l,[]),e)}function aee(t,n){let e={},i={},r={},a=new hc([],e,r,"",i,pt,t,null,{},n);return new sp("",new Tr(a,[]))}var Zt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,i,r,o,a,s,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(He(c=>c[dp]))??Be(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(He(n=>fc(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(He(n=>fc(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function H_(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:G(G({},n.params),t.params),data:G(G({},n.data),t.data),resolve:G(G(G(G({},t.data),n.data),r?.data),t._resolvedData)}:i={params:G({},t.params),data:G({},t.data),resolve:G(G({},t.data),t._resolvedData??{})},r&&EP(r)&&(i.resolve[dp]=r.title),i}var hc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[dp]}constructor(n,e,i,r,o,a,s,l,c,u){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c,this._environmentInjector=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fc(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},sp=class extends j_{url;constructor(n,e){super(e),this.url=n,JE(this,e)}toString(){return DP(this._root)}};function JE(t,n){n.value._routerState=t,n.children.forEach(e=>JE(t,e))}function DP(t){let n=t.children.length>0?` { ${t.children.map(DP).join(", ")} } `:"";return`${t.value}${n}`}function BE(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ua(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),ua(n.params,e.params)||t.paramsSubject.next(e.params),NJ(n.url,e.url)||t.urlSubject.next(e.url),ua(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function WE(t,n){let e=ua(t.params,n.params)&&VJ(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||WE(t.parent,n.parent))}function EP(t){return typeof t.title=="string"||t.title===null}var SP=new L(""),hp=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pt;activateEvents=new ae;deactivateEvents=new ae;attachEvents=new ae;detachEvents=new ae;routerOutletData=_A();parentContexts=m(_u);location=m(rn);changeDetector=m(Ge);inputBinder=m($_,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new GE(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[lt]})}return t})(),GE=class{route;childContexts;parent;outletData;constructor(n,e,i,r){this.route=n,this.childContexts=e,this.parent=i,this.outletData=r}get(n,e){return n===Zt?this.route:n===_u?this.childContexts:n===SP?this.outletData:this.parent.get(n,e)}},$_=new L("");var eS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Ne(0,"router-outlet")},dependencies:[hp],encapsulation:2})}return t})();function tS(t){let n=t.children&&t.children.map(tS),e=n?nt(G({},t),{children:n}):G({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=eS),e}function see(t,n,e){let i=lp(t,n._root,e?e._root:void 0);return new ap(i,n)}function lp(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=lee(t,n,e);return new Tr(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(s=>lp(t,s)),a}}let i=cee(n.value),r=n.children.map(o=>lp(t,o));return new Tr(i,r)}}function lee(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return lp(t,i,r);return lp(t,i)})}function cee(t){return new Zt(new Wt(t.url),new Wt(t.params),new Wt(t.queryParams),new Wt(t.fragment),new Wt(t.data),t.outlet,t.component,t)}var gu=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},kP="ngNavigationCancelingError";function z_(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Qs(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=MP(!1,Mi.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function MP(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[kP]=!0,e.cancellationCode=n,e}function dee(t){return TP(t)&&Qs(t.url)}function TP(t){return!!t&&t[kP]}var YE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),BE(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=du(e);n.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=du(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:s})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=du(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=du(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new B_(o.value.snapshot))}),n.children.length&&this.forwardEvent(new P_(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(BE(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),BE(s.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,i)}},U_=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},hu=class{component;route;constructor(n,e){this.component=n,this.route=e}};function uee(t,n,e){let i=t._root,r=n?n._root:null;return ep(i,r,e,[i.value])}function hee(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function bu(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!s1(t)?t:n.get(t):i}function ep(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=du(n);return t.children.forEach(a=>{fee(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>ip(s,e.getContext(a),r)),r}function fee(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=n?n.value:null,s=e?e.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=pee(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new U_(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?ep(t,n,s?s.children:null,i,r):ep(t,n,e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new hu(s.outlet.component,a))}else a&&ip(n,s,r),r.canActivateChecks.push(new U_(i)),o.component?ep(t,null,s?s.children:null,i,r):ep(t,null,e,i,r);return r}function pee(t,n,e){if(typeof e=="function")return oi(n._environmentInjector,()=>e(t,n));switch(e){case"pathParamsChange":return!uc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!uc(t.url,n.url)||!ua(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WE(t,n)||!ua(t.queryParams,n.queryParams);default:return!WE(t,n)}}function ip(t,n,e){let i=du(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?n?ip(a,n.children.getContext(o),e):ip(a,null,e):ip(a,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new hu(n.outlet.component,r)):e.canDeactivateChecks.push(new hu(null,r)):e.canDeactivateChecks.push(new hu(null,r))}function fp(t){return typeof t=="function"}function mee(t){return typeof t=="boolean"}function gee(t){return t&&fp(t.canLoad)}function vee(t){return t&&fp(t.canActivate)}function _ee(t){return t&&fp(t.canActivateChild)}function bee(t){return t&&fp(t.canDeactivate)}function yee(t){return t&&fp(t.canMatch)}function IP(t){return t instanceof dl||t?.name==="EmptyError"}var C_=Symbol("INITIAL_VALUE");function vu(){return en(t=>pr(t.map(n=>n.pipe(Ct(1),kt(C_)))).pipe(He(n=>{for(let e of n)if(e!==!0){if(e===C_)return C_;if(e===!1||wee(e))return e}return!0}),Ze(n=>n!==C_),Ct(1)))}function wee(t){return Qs(t)||t instanceof gu}function AP(t){return t.aborted?Be(void 0).pipe(Ct(1)):new Ye(n=>{let e=()=>{n.next(),n.complete()};return t.addEventListener("abort",e),()=>t.removeEventListener("abort",e)})}function RP(t){return Qe(AP(t))}function Cee(t){return di(n=>{let{targetSnapshot:e,currentSnapshot:i,guards:{canActivateChecks:r,canDeactivateChecks:o}}=n;return o.length===0&&r.length===0?Be(nt(G({},n),{guardsResult:!0})):xee(o,e,i).pipe(di(a=>a&&mee(a)?Dee(e,r,t):Be(a)),He(a=>nt(G({},n),{guardsResult:a})))})}function xee(t,n,e){return _n(t).pipe(di(i=>Tee(i.component,i.route,e,n)),xa(i=>i!==!0,!0))}function Dee(t,n,e){return _n(n).pipe(qc(i=>$o(See(i.route.parent,e),Eee(i.route,e),Mee(t,i.path),kee(t,i.route))),xa(i=>i!==!0,!0))}function Eee(t,n){return t!==null&&n&&n(new L_(t)),Be(!0)}function See(t,n){return t!==null&&n&&n(new F_(t)),Be(!0)}function kee(t,n){let e=n.routeConfig?n.routeConfig.canActivate:null;if(!e||e.length===0)return Be(!0);let i=e.map(r=>mr(()=>{let o=n._environmentInjector,a=bu(r,o),s=vee(a)?a.canActivate(n,t):oi(o,()=>a(n,t));return gc(s).pipe(xa())}));return Be(i).pipe(vu())}function Mee(t,n){let e=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(o=>hee(o)).filter(o=>o!==null).map(o=>mr(()=>{let a=o.guards.map(s=>{let l=o.node._environmentInjector,c=bu(s,l),u=_ee(c)?c.canActivateChild(e,t):oi(l,()=>c(e,t));return gc(u).pipe(xa())});return Be(a).pipe(vu())}));return Be(r).pipe(vu())}function Tee(t,n,e,i){let r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!r||r.length===0)return Be(!0);let o=r.map(a=>{let s=n._environmentInjector,l=bu(a,s),c=bee(l)?l.canDeactivate(t,n,e,i):oi(s,()=>l(t,n,e,i));return gc(c).pipe(xa())});return Be(o).pipe(vu())}function Iee(t,n,e,i,r){let o=n.canLoad;if(o===void 0||o.length===0)return Be(!0);let a=o.map(s=>{let l=bu(s,t),c=gee(l)?l.canLoad(n,e):oi(t,()=>l(n,e)),u=gc(c);return r?u.pipe(RP(r)):u});return Be(a).pipe(vu(),OP(i))}function OP(t){return Oy(ri(n=>{if(typeof n!="boolean")throw z_(t,n)}),He(n=>n===!0))}function Aee(t,n,e,i,r){let o=n.canMatch;if(!o||o.length===0)return Be(!0);let a=o.map(s=>{let l=bu(s,t),c=yee(l)?l.canMatch(n,e):oi(t,()=>l(n,e));return gc(c).pipe(RP(r))});return Be(a).pipe(vu(),OP(i))}var Xa=class t extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,t.prototype)}},cp=class t extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,t.prototype)}};function Ree(t){throw new se(4e3,!1)}function Oee(t){throw MP(!1,Mi.GuardRejected)}var QE=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){return te(this,null,function*(){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[pt])throw Ree(`${n.redirectTo}`);r=r.children[pt]}})}applyRedirectCommands(n,e,i,r,o){return te(this,null,function*(){let a=yield Nee(e,r,o);if(a instanceof Io)throw new cp(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),n,i);if(a[0]==="/")throw new cp(s);return s})}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new Io(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(n,l,i,r)}),new Xt(o,a)}createSegments(n,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new se(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}};function Nee(t,n,e){if(typeof t=="string")return Promise.resolve(t);let i=t,{queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,params:c,data:u,title:d,paramMap:h,queryParamMap:f}=n;return S_(gc(oi(e,()=>i({params:c,data:u,queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,title:d,paramMap:h,queryParamMap:f}))))}function Fee(t,n){return t.providers&&!t._injector&&(t._injector=jh(t.providers,n,`Route: ${t.path}`)),t._injector??n}function To(t){return t.outlet||pt}function Pee(t,n){let e=t.filter(i=>To(i)===n);return e.push(...t.filter(i=>To(i)!==n)),e}var KE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lee(t,n,e,i,r,o){let a=NP(t,n,e);return a.matched?(i=Fee(n,i),Aee(i,n,e,r,o).pipe(He(s=>s===!0?a:G({},KE)))):Be(a)}function NP(t,n,e){if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?G({},KE):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||aP)(e,t,n);if(!r)return G({},KE);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?G(G({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function nP(t,n,e,i){return e.length>0&&jee(t,e,i)?{segmentGroup:new Xt(n,Vee(i,new Xt(e,t.children))),slicedSegments:[]}:e.length===0&&Hee(t,e,i)?{segmentGroup:new Xt(t.segments,Bee(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Xt(t.segments,t.children),slicedSegments:e}}function Bee(t,n,e,i){let r={};for(let o of e)if(W_(t,n,o)&&!i[To(o)]){let a=new Xt([],{});r[To(o)]=a}return G(G({},i),r)}function Vee(t,n){let e={};e[pt]=n;for(let i of t)if(i.path===""&&To(i)!==pt){let r=new Xt([],{});e[To(i)]=r}return e}function jee(t,n,e){return e.some(i=>W_(t,n,i)&&To(i)!==pt)}function Hee(t,n,e){return e.some(i=>W_(t,n,i))}function W_(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function zee(t,n,e){return n.length===0&&!t.children[e]}var XE=class{};function Uee(t,n,e,i,r,o,a="emptyOnly",s){return te(this,null,function*(){return new ZE(t,n,e,i,r,a,o,s).recognize()})}var qee=31,ZE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,i,r,o,a,s,l){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=l,this.applyRedirects=new QE(this.urlSerializer,this.urlTree)}noMatchError(n){return new se(4002,`'${n.segmentGroup}'`)}recognize(){return te(this,null,function*(){let n=nP(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=yield this.match(n),r=new Tr(i,e),o=new sp("",r),a=vP(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}})}match(n){return te(this,null,function*(){let e=new hc([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pt,this.rootComponentType,null,{},this.injector);try{return{children:yield this.processSegmentGroup(this.injector,this.config,n,pt,e),rootSnapshot:e}}catch(i){if(i instanceof cp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Xa?this.noMatchError(i):i}})}processSegmentGroup(n,e,i,r,o){return te(this,null,function*(){if(i.segments.length===0&&i.hasChildren())return this.processChildren(n,e,i,o);let a=yield this.processSegment(n,e,i,i.segments,r,!0,o);return a instanceof Tr?[a]:[]})}processChildren(n,e,i,r){return te(this,null,function*(){let o=[];for(let l of Object.keys(i.children))l==="primary"?o.unshift(l):o.push(l);let a=[];for(let l of o){let c=i.children[l],u=Pee(e,l),d=yield this.processSegmentGroup(n,u,c,l,r);a.push(...d)}let s=FP(a);return $ee(s),s})}processSegment(n,e,i,r,o,a,s){return te(this,null,function*(){for(let l of e)try{return yield this.processSegmentAgainstRoute(l._injector??n,e,l,i,r,o,a,s)}catch(c){if(c instanceof Xa||IP(c))continue;throw c}if(zee(i,r,o))return new XE;throw new Xa(i)})}processSegmentAgainstRoute(n,e,i,r,o,a,s,l){return te(this,null,function*(){if(To(i)!==a&&(a===pt||!W_(r,o,i)))throw new Xa(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,r,i,o,a,l);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,a,l);throw new Xa(r)})}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,a,s){return te(this,null,function*(){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=NP(e,r,o);if(!l)throw new Xa(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qee&&(this.allowRedirects=!1));let f=new hc(o,c,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,iP(r),To(r),r.component??r._loadedComponent??null,r,rP(r),n),p=H_(f,s,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=yield this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,n),v=yield this.applyRedirects.lineralizeSegments(r,g);return this.processSegment(n,i,e,v.concat(h),a,!1,s)})}matchSegmentAgainstRoute(n,e,i,r,o,a){return te(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=yield S_(Lee(e,i,r,n,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!s?.matched)throw new Xa(e);n=i._injector??n;let{routes:l}=yield this.getChildConfig(n,i,r),c=i._loadedInjector??n,{parameters:u,consumedSegments:d,remainingSegments:h}=s,f=new hc(d,u,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,iP(i),To(i),i.component??i._loadedComponent??null,i,rP(i),n),p=H_(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=nP(e,d,h,l);if(v.length===0&&g.hasChildren()){let D=yield this.processChildren(c,l,g,f);return new Tr(f,D)}if(l.length===0&&v.length===0)return new Tr(f,[]);let _=To(i)===o,y=yield this.processSegment(c,l,g,v,_?pt:o,!0,f);return new Tr(f,y instanceof Tr?[y]:[])})}getChildConfig(n,e,i){return te(this,null,function*(){if(e.children)return{routes:e.children,injector:n};if(e.loadChildren){if(e._loadedRoutes!==void 0){let o=e._loadedNgModuleFactory;return o&&!e._loadedInjector&&(e._loadedInjector=o.create(n).injector),{routes:e._loadedRoutes,injector:e._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield S_(Iee(n,e,i,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(n,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,e._loadedNgModuleFactory=o.factory,o}throw Oee(e)}return{routes:[],injector:n}})}};function $ee(t){t.sort((n,e)=>n.value.outlet===pt?-1:e.value.outlet===pt?1:n.value.outlet.localeCompare(e.value.outlet))}function Wee(t){let n=t.value.routeConfig;return n&&n.path===""}function FP(t){let n=[],e=new Set;for(let i of t){if(!Wee(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=FP(i.children);n.push(new Tr(i.value,r))}return n.filter(i=>!e.has(i))}function iP(t){return t.data||{}}function rP(t){return t.resolve||{}}function Gee(t,n,e,i,r,o,a){return di(s=>te(null,null,function*(){let{state:l,tree:c}=yield Uee(t,n,e,i,s.extractedUrl,r,o,a);return nt(G({},s),{targetSnapshot:l,urlAfterRedirects:c})}))}function Yee(t){return di(n=>{let{targetSnapshot:e,guards:{canActivateChecks:i}}=n;if(!i.length)return Be(n);let r=new Set(i.map(s=>s.route)),o=new Set;for(let s of r)if(!o.has(s))for(let l of PP(s))o.add(l);let a=0;return _n(o).pipe(qc(s=>r.has(s)?Qee(s,e,t):(s.data=H_(s,s.parent,t).resolve,Be(void 0))),ri(()=>a++),Cm(1),di(s=>a===o.size?Be(n):mn))})}function PP(t){let n=t.children.map(e=>PP(e)).flat();return[t,...n]}function Qee(t,n,e){let i=t.routeConfig,r=t._resolve;return i?.title!==void 0&&!EP(i)&&(r[dp]=i.title),mr(()=>(t.data=H_(t,t.parent,e).resolve,Kee(r,t,n).pipe(He(o=>(t._resolvedData=o,t.data=G(G({},t.data),o),null)))))}function Kee(t,n,e){let i=jE(t);if(i.length===0)return Be({});let r={};return _n(i).pipe(di(o=>Xee(t[o],n,e).pipe(xa(),ri(a=>{if(a instanceof gu)throw z_(new Ys,a);r[o]=a}))),Cm(1),He(()=>r),fl(o=>IP(o)?mn:ih(o)))}function Xee(t,n,e){let i=n._environmentInjector,r=bu(t,i),o=r.resolve?r.resolve(n,e):oi(i,()=>r(n,e));return gc(o)}function oP(t){return en(n=>{let e=t(n);return e?_n(e).pipe(He(()=>n)):Be(n)})}var nS=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===pt);return i}getResolvedTitleForRoute(e){return e.data[dp]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>m(LP),providedIn:"root"})}return t})(),LP=(()=>{class t extends nS{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(Pe(yR))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yu=new L("",{factory:()=>({})}),pp=new L(""),BP=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(TC);loadComponent(e,i){return te(this,null,function*(){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=te(this,null,function*(){try{let o=yield lP(oi(e,()=>i.loadComponent())),a=yield HP(jP(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a,a}finally{this.componentLoaders.delete(i)}});return this.componentLoaders.set(i,r),r})}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=te(this,null,function*(){try{let o=yield VP(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,i._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(i)}});return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VP(t,n,e,i){return te(this,null,function*(){let r=yield lP(oi(e,()=>t.loadChildren())),o=yield HP(jP(r)),a;o instanceof F0||Array.isArray(o)?a=o:a=yield n.compileModuleAsync(o),i&&i(t);let s,l,c=!1,u;return Array.isArray(a)?(l=a,c=!0):(s=a.create(e).injector,u=a,l=s.get(pp,[],{optional:!0,self:!0}).flat()),{routes:l.map(tS),injector:s,factory:u}})}function Zee(t){return t&&typeof t=="object"&&"default"in t}function jP(t){return Zee(t)?t.default:t}function HP(t){return te(this,null,function*(){return t})}var G_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>m(Jee),providedIn:"root"})}return t})(),Jee=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zP=new L("");var ete=()=>{},UP=new L(""),qP=(()=>{class t{currentNavigation=ze(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ze(null);events=new $;transitionAbortWithErrorSubject=new $;configLoader=m(BP);environmentInjector=m(Yt);destroyRef=m(Fi);urlSerializer=m(up);rootContexts=m(_u);location=m(Ms);inputBindingEnabled=m($_,{optional:!0})!==null;titleStrategy=m(nS);options=m(yu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(G_);createViewTransition=m(zP,{optional:!0});navigationErrorHandler=m(UP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Be(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new O_(r)),i=r=>this.events.next(new N_(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Nn(()=>{this.transitions?.next(nt(G({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new Wt(null),this.transitions.pipe(Ze(i=>i!==null),en(i=>{let r=!1,o=new AbortController,a=()=>!r&&this.currentTransition?.id===i.id;return Be(i).pipe(en(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Mi.SupersededByNewNavigation),mn;this.currentTransition=i;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:l?nt(G({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new Za(s.id,this.urlSerializer.serialize(s.rawUrl),"",op.IgnoredSameUrlNavigation)),s.resolve(!1),mn;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Be(s).pipe(en(d=>(this.events.next(new pc(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?mn:Promise.resolve(d))),Gee(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ri(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=d.urlAfterRedirects,f));let h=new fu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=s,v=new pc(d,this.urlSerializer.serialize(h),f,p);this.events.next(v);let _=xP(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=i=nt(G({},s),{targetSnapshot:_,urlAfterRedirects:h,extras:nt(G({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=h,y)),Be(i)}else return this.events.next(new Za(s.id,this.urlSerializer.serialize(s.extractedUrl),"",op.IgnoredByUrlHandlingStrategy)),s.resolve(!1),mn}),He(s=>{let l=new T_(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);return this.events.next(l),this.currentTransition=i=nt(G({},s),{guards:uee(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i}),Cee(s=>this.events.next(s)),en(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw z_(this.urlSerializer,s.guardsResult);let l=new I_(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);if(this.events.next(l),!a())return mn;if(!s.guardsResult)return this.cancelNavigationTransition(s,"",Mi.GuardRejected),mn;if(s.guards.canActivateChecks.length===0)return Be(s);let c=new A_(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);if(this.events.next(c),!a())return mn;let u=!1;return Be(s).pipe(Yee(this.paramsInheritanceStrategy),ri({next:()=>{u=!0;let d=new R_(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(d)},complete:()=>{u||this.cancelNavigationTransition(s,"",Mi.NoDataFromResolver)}}))}),oP(s=>{let l=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let h=u._environmentInjector;d.push(this.configLoader.loadComponent(h,u.routeConfig).then(f=>{u.component=f}))}for(let h of u.children)d.push(...l(h));return d},c=l(s.targetSnapshot.root);return c.length===0?Be(s):_n(Promise.all(c).then(()=>s))}),oP(()=>this.afterPreactivation()),en(()=>{let{currentSnapshot:s,targetSnapshot:l}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return c?_n(c).pipe(He(()=>i)):Be(i)}),Ct(1),He(s=>{let l=see(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);this.currentTransition=i=s=nt(G({},s),{targetRouterState:l}),this.currentNavigation.update(c=>(c.targetRouterState=l,c)),this.events.next(new pu),a()&&(new YE(e.routeReuseStrategy,i.targetRouterState,i.currentRouterState,c=>this.events.next(c),this.inputBindingEnabled).activate(this.rootContexts),a()&&(r=!0,this.currentNavigation.update(c=>(c.abort=ete,c)),this.lastSuccessfulNavigation.set(Nn(this.currentNavigation)),this.events.next(new ha(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)))}),Qe(AP(o.signal).pipe(Ze(()=>!r&&!i.targetRouterState),ri(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",Mi.Aborted)}))),ri({complete:()=>{r=!0}}),Qe(this.transitionAbortWithErrorSubject.pipe(ri(s=>{throw s}))),ms(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",Mi.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),fl(s=>{if(r=!0,this.destroyed)return i.resolve(!1),mn;if(TP(s))this.events.next(new Yr(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),dee(s)?this.events.next(new mu(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let l=new mc(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let c=oi(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof gu){let{message:u,cancellationCode:d}=z_(this.urlSerializer,c);this.events.next(new Yr(i.id,this.urlSerializer.serialize(i.extractedUrl),u,d)),this.events.next(new mu(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return mn}))}))}cancelNavigationTransition(e,i,r){let o=new Yr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Nn(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tte(t){return t!==np}var $P=new L("");var Y_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>m(nte),providedIn:"root"})}return t})(),q_=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}shouldDestroyInjector(n){return!0}},nte=(()=>{class t extends q_{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iS=(()=>{class t{urlSerializer=m(up);options=m(yu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(Ms);urlHandlingStrategy=m(G_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Io;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof Io?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=xP(null,m(Yt));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>m(ite),providedIn:"root"})}return t})(),ite=(()=>{class t extends iS{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof pc?this.updateStateMemento():e instanceof Za?this.commitTransition(i):e instanceof fu?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof pu?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Yr&&!CP(e)?this.restoreHistory(i):e instanceof mc?this.restoreHistory(i,!0):e instanceof ha&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,l=G(G({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",l)}else{let s=G(G({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rS(t,n){t.events.pipe(Ze(e=>e instanceof ha||e instanceof Yr||e instanceof mc||e instanceof Za),He(e=>e instanceof ha||e instanceof Za?0:(e instanceof Yr?e.code===Mi.Redirect||e.code===Mi.SupersededByNewNavigation:!1)?2:1),Ze(e=>e!==2),Ct(1)).subscribe(()=>{n()})}var WP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(P0);stateManager=m(iS);options=m(yu,{optional:!0})||{};pendingTasks=m(Xo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(qP);urlSerializer=m(up);location=m(Ms);urlHandlingStrategy=m(G_);injector=m(Yt);_events=new $;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(Y_);injectorCleanup=m($P,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(pp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m($_,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Nn(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Yr&&i.code!==Mi.Redirect&&i.code!==Mi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ha)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(i instanceof mu){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=G({scroll:r.extras.scroll,browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tte(r.source)},a);this.scheduleNavigation(s,np,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}oee(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),np,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=G({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o).catch(l=>{this.disposed||this.injector.get(Br)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(tS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=G(G({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=_P(h)}catch(h){(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return bP(d,e,u,c??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Qs(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,np,null,i)}navigate(e,i={skipLocationChange:!1}){return rte(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch(i){return this.console.warn(Sa(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=G({},WP):i===!1?r=G({},GP):r=i,Qs(e))return XF(this.currentUrlTree,e,r);let o=this.parseUrl(e);return XF(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,h)=>{s=d,l=h});let u=this.pendingTasks.add();return rS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(Promise.reject.bind(Promise))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rte(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new se(4008,!1)}var ir=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ze(null);get href(){return Nn(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new $;applicationErrorHandler=m(Br);options=m(yu,{optional:!0});constructor(e,i,r,o,a,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(m(new Gi("href"),{optional:!0}));let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof ha&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qs(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Qs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(wt(gn),wt(Zt),Oh("tabindex"),wt(gt),wt(ue),wt(xd))};static \u0275dir=ee({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&Y("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Oe("href",r.reactiveHref(),Kw)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_e],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_e],replaceUrl:[2,"replaceUrl","replaceUrl",_e],routerLink:"routerLink"},features:[lt]})}return t})();var ste=new L("");function oS(t,...n){return lo([{provide:pp,multi:!0,useValue:t},[],{provide:Zt,useFactory:lte},{provide:j0,multi:!0,useFactory:cte},n.map(e=>e.\u0275providers)])}function lte(){return m(gn).routerState.root}function cte(){let t=m(Ie);return n=>{let e=t.get(Un);if(n!==e.components[0])return;let i=t.get(gn),r=t.get(dte);t.get(ute)===1&&i.initialNavigation(),t.get(hte,null,{optional:!0})?.setUpPreloading(),t.get(ste,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var dte=new L("",{factory:()=>new $}),ute=new L("",{factory:()=>1});var hte=new L("");var aS="Service workers are disabled or not supported by this browser",wu=class{serviceWorker;worker;registration;events;constructor(n,e){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new Ye(i=>i.error(new se(5601,!1)));else{let i=null,r=new $;this.worker=new Ye(c=>(i!==null&&c.next(i),r.subscribe(u=>c.next(u))));let o=()=>{let{controller:c}=n;c!==null&&(i=c,r.next(i))};n.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(en(()=>n.getRegistration().then(c=>{if(!c)throw new se(5601,!1);return c})));let a=new $;this.events=a.asObservable();let s=c=>{let{data:u}=c;u?.type&&a.next(u)};n.addEventListener("message",s),e?.get(Un,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",o),n.removeEventListener("message",s)})}}postMessage(n,e){return new Promise(i=>{this.worker.pipe(Ct(1)).subscribe(r=>{r.postMessage(G({action:n},e)),i()})})}postMessageWithOperation(n,e,i){let r=this.waitForOperationCompleted(i),o=this.postMessage(n,e);return Promise.all([o,r]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let e;return typeof n=="string"?e=i=>i.type===n:e=i=>n.includes(i.type),this.events.pipe(Ze(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(Ct(1))}waitForOperationCompleted(n){return new Promise((e,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Ze(r=>r.nonce===n),Ct(1),He(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:e,error:i})})}get isEnabled(){return!!this.serviceWorker}},QP=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new $;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Ca,this.notificationClicks=Ca,this.notificationCloses=Ca,this.pushSubscriptionChanges=Ca,this.subscription=Ca;return}this.messages=this.sw.eventsOfType("PUSH").pipe(He(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(He(r=>r.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(He(r=>r.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(He(r=>r.data)),this.pushManager=this.sw.registration.pipe(He(r=>r.pushManager));let i=this.pushManager.pipe(en(r=>r.getSubscription()));this.subscription=new Ye(r=>{let o=i.subscribe(r),a=this.subscriptionChanges.subscribe(r);return()=>{o.unsubscribe(),a.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(aS));let i={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return i.applicationServerKey=o,new Promise((a,s)=>{this.pushManager.pipe(en(l=>l.subscribe(i)),Ct(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),a(l)},error:s})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(aS));let e=i=>{if(i===null)throw new se(5602,!1);return i.unsubscribe().then(r=>{if(!r)throw new se(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,r)=>{this.subscription.pipe(Ct(1),en(e)).subscribe({next:i,error:r})})}decodeBase64(e){return atob(e)}static \u0275fac=function(i){return new(i||t)(Pe(wu))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),KP=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Ca,this.unrecoverable=Ca;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(aS));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new se(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(i){return new(i||t)(Pe(wu))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),XP=new L("");function fte(){let t=m(mp);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let n=m(XP),e=m(he),i=m(Un);e.runOutsideAngular(()=>{let r=navigator.serviceWorker,o=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",o),i.onDestroy(()=>{r.removeEventListener("controllerchange",o)})}),e.runOutsideAngular(()=>{let r,{registrationStrategy:o}=t;if(typeof o=="function")r=new Promise(a=>o().subscribe(()=>a()));else{let[a,...s]=(o||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=YP(+s[0]||0);break;case"registerWhenStable":r=Promise.race([i.whenStable(),YP(+s[0])]);break;default:throw new se(5600,!1)}}r.then(()=>{i.destroyed||navigator.serviceWorker.register(n,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(a=>console.error(Sa(5604,!1)))})})}function YP(t){return new Promise(n=>setTimeout(n,t))}function pte(){let t=m(mp),n=m(Ie),e=!0;return new wu(e&&t.enabled!==!1?navigator.serviceWorker:void 0,n)}var mp=class{enabled;updateViaCache;type;scope;registrationStrategy};function mte(t,n={}){return lo([QP,KP,{provide:XP,useValue:t},{provide:mp,useValue:n},{provide:wu,useFactory:pte},V0(fte)])}var ZP=(()=>{class t{static register(e,i={}){return{ngModule:t,providers:[mte(e,i)]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({providers:[QP,KP]})}return t})();var gte="https://accounts.google.com/gsi/client",Q_=(()=>{class t{gsiLoadedSource=new An(1);constructor(){let e=document.createElement("script");e.src=gte,e.type="text/javascript",e.onload=()=>{this.gsiLoadedSource.next(!0),this.gsiLoadedSource.complete()},document.getElementsByTagName("head")[0].appendChild(e)}onLoad(){return this.gsiLoadedSource}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var sS=new L("gsi.config"),vte="https://apis.google.com/js/api.js",Cu=(()=>{class t{gsiLoader=m(Q_);client;clientLoaded=new An(1);gapiLoaded=new An(1);constructor(){let e=m(sS);this.loadGapi(),ul([this.onLoad(),this.gsiLoader.onLoad()]).subscribe(([i,r])=>{this.client=google.accounts.oauth2.initTokenClient({client_id:e.client_id,scope:e.scope,callback:()=>{},prompt:e.prompt||""}),this.clientLoaded.next(this.client),this.clientLoaded.complete()})}onClientLoaded(){return this.clientLoaded}onLoad(){return this.gapiLoaded}loadGapi(){let e=document.createElement("script");e.src=vte,e.type="text/javascript",e.onload=()=>{gapi.load("client",()=>{gapi.client.init({}).then(()=>{this.gapiLoaded.next(!0),this.gapiLoaded.complete()})})},document.getElementsByTagName("head")[0].appendChild(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var K_="accessToken",lS="accessTokenRefresh",cS="preferredAccount",xu=(()=>{class t{googleApiLoader=m(Cu);accessToken;tokenClient;accessTokenSource=new An(1);constructor(){this.googleApiLoader.onClientLoaded().subscribe(e=>this.checkStoredAccessToken(e))}checkStoredAccessToken(e){this.tokenClient=e;let i=localStorage.getItem(K_);i&&(this.isTokenValid()?(console.log("reusing stored access token"),this.accessToken||(this.accessToken=i,gapi.client.setToken({access_token:this.accessToken}),this.accessTokenSource.next(this.accessToken))):this.fetchAccessToken())}isTokenValid(){let e=localStorage.getItem(K_),i=parseInt(localStorage.getItem(lS)),r=new Date().getTime();return e&&r<i}fetchAccessToken(){return te(this,null,function*(){return new Promise(e=>{this.isTokenValid()?e(this.accessToken):this.googleApiLoader.onClientLoaded().subscribe(i=>{this.tokenClient=i,i.callback=r=>{e(this.handleAccessToken(r))},i.requestAccessToken({login_hint:localStorage.getItem(cS)})})})})}handleAccessToken(e){this.accessToken=e.access_token;let i=e.expires_in*800;return localStorage.setItem(K_,this.accessToken),localStorage.setItem(lS,(new Date().getTime()+i).toString()),localStorage.getItem(cS)||fetch("https://oauth2.googleapis.com/tokeninfo?access_token="+this.accessToken).then(o=>o.json()).then(o=>{o.email&&localStorage.setItem(cS,o.email)}),this.accessTokenSource.next(this.accessToken),this.accessToken}invalidate(){this.accessToken&&this.tokenClient&&(localStorage.removeItem(K_),localStorage.removeItem(lS),this.accessToken="",this.accessTokenSource.next(this.accessToken))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var rr=(()=>{class t{accessTokenService=m(xu);signedIn;signInPending;get authState(){return this.accessTokenService.accessTokenSource}constructor(){this.authState.subscribe(e=>{this.signedIn=!!e,this.signInPending=!1})}signIn(){this.signInPending=!0,this.accessTokenService.fetchAccessToken()}refresh(){return this.accessTokenService.fetchAccessToken()}signOut(){this.accessTokenService.invalidate()}isSignedIn(){return this.signedIn}isSignInPending(){return this.signInPending}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var JP=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[e,xu,Cu,rr,Q_]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=Ce({imports:[tf]})}return t})();var e4=no(Ll());var X_=class{boundary;mimeType;parts;body;constructor(){this.boundary=Math.random().toString(36).slice(2),this.mimeType='multipart/related; boundary="'+this.boundary+'"',this.parts=[]}append(n,e){if(this.body!==void 0)throw new Error("Builder has already been finalized.");return this.parts.push(`\r
--`,this.boundary,`\r
`,"Content-Type: ",n,`\r
\r
`,e),this}finish(){if(this.parts.length===0)throw new Error("No parts have been added.");return this.body===void 0&&(this.parts.push(`\r
--`,this.boundary,"--"),this.body=this.parts.join("")),{type:this.mimeType,body:this.body}}};var vc="Tune Browser",or=(()=>{class t{googleApiLoader=m(Cu);googleAuth=m(rr);driveApiLoaded=new An(1);log=(0,e4.getLogger)("GoogleDriveService");signedIn;constructor(){this.googleAuth.authState.subscribe(e=>{this.signedIn=!!e}),this.googleApiLoader.onClientLoaded().subscribe(e=>{gapi.client.load("drive","v3").then(()=>{this.log.info("Google Drive client initialized"),this.driveApiLoaded.next(!0),this.driveApiLoaded.complete()})})}isSignedIn(){return te(this,null,function*(){return!this.signedIn&&!this.googleAuth.isSignInPending()?!1:this.googleAuth.refresh().then(()=>!0)})}createTextFile(e,i){return te(this,null,function*(){if(yield this.isSignedIn())try{let r=yield this.findOrCreateFolder(vc),o={name:e,mimeType:"text/plain",parents:[r]},a=new X_().append("application/json",JSON.stringify(o)).append("text/plain",i).finish(),s=yield gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":a.type},body:a.body});return this.log.info("Created file with id = {}",s.result.id),s.result.id}catch(r){return this.log.error("Error creating file",r),null}})}updateTextFile(e,i){return te(this,null,function*(){if(yield this.isSignedIn()){try{let r=yield gapi.client.request({path:"/upload/drive/v3/files/"+e,method:"PATCH",params:{uploadType:"media"},headers:{"Content-Type":"text/plain"},body:i});if(r.status===200)return this.log.info("Updated file with id = {}",r.result.id),r.result.id}catch(r){this.log.error("Error updating file",r)}return null}})}getTextFile(e){return te(this,null,function*(){return(yield gapi.client.drive.files.get({fileId:e,alt:"media"})).body})}listTextFiles(e){return te(this,null,function*(){return(yield this.isSignedIn())?(yield gapi.client.drive.files.list({q:`'${e}' in parents`,pageSize:100})).result.files.map(r=>this.toRef(r)):[]})}toRef(e){return{id:e.id,name:e.name}}createFolder(e){return te(this,null,function*(){let i=yield gapi.client.drive.files.create({resource:{name:e,mimeType:"application/vnd.google-apps.folder"}});return this.log.info(`Created folder ${e} with id = ${i.result.id}`),i.result.id})}findOrCreateFolder(e){return te(this,null,function*(){if(!(yield this.isSignedIn()))return;let r=(yield gapi.client.drive.files.list({q:`name = "${e}" and "root" in parents`})).result.files;return r.length===1?r[0].id:this.createFolder(e)})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var $B=no(as());function jB(t,n){let e=t.find(i=>i.id===n.id);return e===void 0?(t.push(n),n):(n.tunes&&(e.tunes===void 0?e.tunes=n.tunes:Yce(e.tunes,n.tunes)),e)}function Yce(t,n){n.forEach(e=>{let i=t.find(r=>r.id===e.id);i===void 0?t.push(e):Qce(i,e)})}function Qce(t,n){if(t.key===void 0&&(t.key=n.key),t.rhythm===void 0&&(t.rhythm=n.rhythm),t.tags===void 0)t.tags=n.tags;else if(n.tags){let e=new Set(t.tags);n.tags.forEach(i=>e.add(i)),t.tags=Array.from(e.keys())}}var ss=class{tuneBook;descriptor;abc;constructor(n,e,i){this.tuneBook=n,this.descriptor=e,this.abc=i}};var zB=no(as());var HB="tunebook-collection.json",zb=(()=>{class t{googleDrive=m(or);collectionFileId;loadTuneBook(e){return te(this,null,function*(){let i=yield this.googleDrive.getTextFile(e.uri),r=new zB.TuneBook(i);return new ss(r,e,i)})}loadTuneBookCollection(){return te(this,null,function*(){let e=yield this.googleDrive.findOrCreateFolder(vc);if(!e)return{books:[]};let r=(yield this.googleDrive.listTextFiles(e)).find(a=>a.name===HB),o;return r===void 0?(o='{"books": []}',this.collectionFileId=yield this.googleDrive.createTextFile(HB,o)):(this.collectionFileId=r.id,o=yield this.googleDrive.getTextFile(r.id)),JSON.parse(o)})}updateTuneBookCollection(e){return te(this,null,function*(){return this.googleDrive.updateTextFile(this.collectionFileId,JSON.stringify(e))})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var UB=no(Ll());var Ub=class{id;pos;book;title;titleNormalized;rhythm;key;tags;constructor(n,e,i,r,o,a,s,l){this.id=n,this.pos=e,this.book=i,this.title=r,this.titleNormalized=o,this.rhythm=a,this.key=s,this.tags=l}hasTag(n){return this.tags&&this.tags.indexOf(n)>=0}};var pn=(()=>{class t{logger=(0,UB.getLogger)("TuneBookIndex");idToBookMap=new Map;entries=[];tuneBookReadySource=new $;allReadySource=new Wt(!1);tuneBookReady=this.tuneBookReadySource.asObservable();allReady=this.allReadySource.asObservable();defaultBook="learner";isReady(){return this.entries.length>0}fireAllReady(){this.allReadySource.next(!0)}addTuneBook(e){this.idToBookMap.set(e.descriptor.id,e),e.tuneBook.tunes.forEach((i,r)=>{this.entries.push(this.createEntry(i,r,e))}),this.tuneBookReadySource.next(e.descriptor.id)}updateTuneBook(e){this.deleteTuneBook(e),this.addTuneBook(e)}deleteTuneBook(e){this.idToBookMap.delete(e.descriptor.id),this.entries=this.entries.filter(i=>i.book!==e.descriptor.id)}createEntry(e,i,r){let o=this.findTuneDescriptor(e.id,r.descriptor),a=o&&o.tags,s=o&&o.rhythm,l=o&&o.key;return new Ub(e.id,i,r.descriptor.id,e.title,this.normalize(e.title),s,l,a)}findTuneDescriptor(e,i){if(i.tunes!==void 0)return i.tunes.find(r=>r.id===e)}normalize(e){return e&&e.trim().toLocaleLowerCase()}findTunes(e){let i=e.title&&e.title.trim();if(this.startsWithDigit(i))return Array.from(this.idToBookMap.values()).filter(o=>e.matchesRef(o)).map(o=>this.findEntryById(o,i)).filter(o=>o!==void 0);{let r=this.normalize(i);return this.entries.filter(o=>this.matchesEntry(e,r,o))}}findEntryById(e,i){return this.entries.find(r=>r.book===e.descriptor.id&&r.id===i)}findEntryByTuneReference(e){return this.entries.find(i=>i.book===e.bookId&&i.id===e.tuneId)}setTagsForTune(e,i,r){let o=this.getBookById(i),a=this.findEntryById(o,e);if(!o||!a){this.logger.error(`Index entry not found for ${i}/${e}`);return}a.tags=r}matchesEntry(e,i,r){return!e.matchesName(r.book)||e.rhythm&&r.rhythm!==e.rhythm||e.key&&r.key!==e.key||e.tags&&!e.tags.find(o=>r.hasTag(o))?!1:!e.title||r.titleNormalized.includes(i)}getAbc(e){return this.idToBookMap.get(e.book).tuneBook.getTuneById(e.id).abc}findAllTunesInBook(e){return this.idToBookMap.get(e)?.tuneBook.tunes}getBooks(){return Array.from(this.idToBookMap.values())}getBook(e){return this.idToBookMap.get(e.book)}getBookById(e){return this.idToBookMap.get(e)}startsWithDigit(e){if(!e)return!1;let i=e.charAt(0);return"0"<=i&&i<="9"}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var qB=no(as());var qb=(()=>{class t{httpClient=m(na);loadTuneBook(e){return te(this,null,function*(){let i=yield this.httpClient.get(`assets/${e.uri}`,{responseType:"text"}).toPromise(),r=new qB.TuneBook(i);return new ss(r,e,i)})}loadTuneBookCollection(){return te(this,null,function*(){return this.httpClient.get("assets/tunebook-collection.json").toPromise()})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var to=(()=>{class t{websiteLoader=m(qb);driveLoader=m(zb);index=m(pn);loaders;collection={books:[]};loadedBookIds=[];collectionLoadedSource=new An(1);collectionLoaded;constructor(){this.loaders=[this.websiteLoader,this.driveLoader],this.collectionLoaded=this.collectionLoadedSource.asObservable()}loadCollections(){this.collection.books=[],this.loaders.forEach(e=>this.loadCollection(e))}getBooks(){return this.collection.books.map(e=>new ss(null,e,""))}addBook(e){return te(this,null,function*(){this.collection.books.push(e);let i=new ss(new $B.TuneBook(""),e,"");this.index.addTuneBook(i);let r=yield this.driveLoader.updateTuneBookCollection(this.extractUserCollection(this.collection));return this.collectionLoadedSource.next(""),r})}removeBook(e){return te(this,null,function*(){this.collection.books.forEach((r,o)=>{r.id===e&&this.collection.books.splice(o,1)});let i=yield this.driveLoader.updateTuneBookCollection(this.extractUserCollection(this.collection));return this.collectionLoadedSource.next(""),i})}setTagsForTune(e,i,r){return te(this,null,function*(){let o=this.collection.books.find(l=>l.id===i);o.tunes===void 0&&(o.tunes=[]);let a=o.tunes.find(l=>l.id===e);a===void 0?o.tunes.push({id:e,tags:r}):a.tags=r,this.index.setTagsForTune(e,i,r);let s=yield this.driveLoader.updateTuneBookCollection(this.extractUserCollection(this.collection));return this.collectionLoadedSource.next(""),s})}extractUserCollection(e){let i={books:[]};for(let r of e.books)if(r.storage==="googledrive")i.books.push(r);else{let o=this.extractTaggedTunes(r);i.books.push(o)}return i}extractTaggedTunes(e){let i={id:e.id,storage:e.storage,uri:e.uri,name:e.name,description:e.description,tunes:[]};for(let r of e.tunes)if(r.tags){let o={id:r.id,tags:r.tags};i.tunes.push(o)}return i}loadCollection(e){return te(this,null,function*(){let i=yield e.loadTuneBookCollection();this.loadAndMergeCollections(this.collection,i),this.collectionLoadedSource.next("")})}loadAndMergeCollections(e,i){i.books.forEach(r=>{let o=jB(e.books,r);this.loadBook(o)})}addTagsToIndex(){for(let e of this.collection.books)if(e.tunes)for(let i of e.tunes)i.tags&&this.index.setTagsForTune(i.id,e.id,i.tags);this.index.fireAllReady()}loadBook(e){return te(this,null,function*(){if(this.loadedBookIds.indexOf(e.id)>=0)return;let r=yield this.selectLoader(e).loadTuneBook(e);return this.loadedBookIds.push(e.id),this.index.addTuneBook(r),this.loadedBookIds.length===this.collection.books.length&&this.addTagsToIndex(),r})}selectLoader(e){return e.storage==="googledrive"?this.driveLoader:this.websiteLoader}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var Kce=["snav"];function Xce(t,n){if(t&1){let e=Ke();x(0,"button",18),Y("click",function(){ge(e),Q(2);let r=Cn(3);return ve(r.toggle())}),x(1,"mat-icon"),A(2,"menu"),E()()}}function Zce(t,n){if(t&1&&(x(0,"mat-toolbar",1),be(1,Xce,3,0,"button",16),x(2,"h1",17),A(3,"Tune Browser"),E()()),t&2){let e=Q();M(),ye(e.isHandset?1:-1)}}function Jce(t,n){if(t&1){let e=Ke();x(0,"a",19),Y("click",function(){ge(e);let r=Q();return ve(r.onClick())}),x(1,"mat-icon"),A(2,"music_note"),E(),x(3,"span",5),A(4,"Practice"),E()()}}function ede(t,n){if(t&1){let e=Ke();x(0,"a",20),Y("click",function(){ge(e);let r=Q();return ve(r.onClick())}),x(1,"mat-icon"),A(2,"work"),E(),x(3,"span",5),A(4,"Repertoire"),E()()}}function tde(t,n){if(t&1){let e=Ke();x(0,"a",21),Y("click",function(){ge(e);let r=Q();return ve(r.onClick())}),x(1,"mat-icon"),A(2,"queue_music"),E(),x(3,"span",5),A(4,"Sets"),E()()}}function nde(t,n){if(t&1){let e=Ke();x(0,"a",22),Y("click",function(){ge(e);let r=Q();return ve(r.onClick())}),x(1,"mat-icon"),A(2,"exit_to_app"),E(),x(3,"span",5),A(4,"Log in"),E()()}}function ide(t,n){if(t&1){let e=Ke();x(0,"a",23),Y("click",function(){ge(e);let r=Q();return ve(r.onClick())}),x(1,"mat-icon"),A(2,"cancel"),E(),x(3,"span",5),A(4,"Log out"),E()()}}var WB=(()=>{class t{breakpointObserver=m(wo);collectionService=m(to);accessTokenService=m(xu);googleDriveService=m(or);zone=m(he);scroll=m(zr);sidenav;signedIn;isHandset=!1;toolbarVisible=!0;lastOffset;constructor(){this.breakpointObserver.observe([Ts.Handset]).subscribe(e=>{this.isHandset=e.matches}),this.scroll.scrolled().subscribe(e=>{this.zone.run(()=>this.onWindowScroll(e))}),this.googleDriveService.driveApiLoaded.subscribe(e=>{this.accessTokenService.accessTokenSource.subscribe(i=>{this.zone.run(()=>{this.signedIn=!!i,this.collectionService.loadCollections()})})})}sidenavMode(){return this.isHandset?"over":"side"}onClick(){this.isHandset&&this.sidenav.close()}ngOnInit(){return te(this,null,function*(){this.collectionService.loadCollections()})}onWindowScroll(e){let i=e.getElementRef().nativeElement.scrollTop||0,r=this.toolbarVisible;this.lastOffset>i+10||i<10?r=!0:i>50&&(r=!1),this.lastOffset=i,this.toolbarVisible=!this.isHandset||r}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-root"]],viewQuery:function(i,r){if(i&1&&Xe(Kce,5),i&2){let o;ne(o=ie())&&(r.sidenav=o.first)}},decls:34,vars:8,consts:[["snav",""],["color","primary"],[1,"full-height"],[3,"mode","opened"],["mat-list-item","","routerLink","/search",3,"click"],[1,"nav-caption"],["mat-list-item","","routerLink","/record",3,"click"],["mat-list-item","","routerLink","/books",3,"click"],["mat-list-item","","routerLink","/practice"],["mat-list-item","","routerLink","/repertoire"],["mat-list-item","","routerLink","/sets"],["mat-list-item","","routerLink","/login"],["mat-list-item","","routerLink","/logout"],["mat-list-item","","routerLink","/about",3,"click"],["cdkScrollable",""],[1,"main-content"],["mat-icon-button",""],[1,"irish"],["mat-icon-button","",3,"click"],["mat-list-item","","routerLink","/practice",3,"click"],["mat-list-item","","routerLink","/repertoire",3,"click"],["mat-list-item","","routerLink","/sets",3,"click"],["mat-list-item","","routerLink","/login",3,"click"],["mat-list-item","","routerLink","/logout",3,"click"]],template:function(i,r){if(i&1){let o=Ke();be(0,Zce,4,1,"mat-toolbar",1),x(1,"mat-sidenav-container",2)(2,"mat-sidenav",3,0)(4,"mat-nav-list")(5,"a",4),Y("click",function(){return ge(o),ve(r.onClick())}),x(6,"mat-icon"),A(7,"search"),E(),x(8,"span",5),A(9,"Search"),E()(),x(10,"a",6),Y("click",function(){return ge(o),ve(r.onClick())}),x(11,"mat-icon"),A(12,"mic"),E(),x(13,"span",5),A(14,"Recognize"),E()(),x(15,"a",7),Y("click",function(){return ge(o),ve(r.onClick())}),x(16,"mat-icon"),A(17,"list"),E(),x(18,"span",5),A(19,"Browse"),E()(),be(20,Jce,5,0,"a",8),be(21,ede,5,0,"a",9),be(22,tde,5,0,"a",10),be(23,nde,5,0,"a",11),be(24,ide,5,0,"a",12),x(25,"a",13),Y("click",function(){return ge(o),ve(r.onClick())}),x(26,"mat-icon"),A(27,"info"),E(),x(28,"span",5),A(29,"About"),E()()()(),x(30,"mat-sidenav-content",14)(31,"div")(32,"div",15),Ne(33,"router-outlet"),E()()()()}i&2&&(ye(r.toolbarVisible?0:-1),M(2),ce("mode",r.sidenavMode())("opened",!r.isHandset),M(18),ye(r.signedIn?20:-1),M(),ye(r.signedIn?21:-1),M(),ye(r.signedIn?22:-1),M(),ye(r.signedIn?-1:23),M(),ye(r.signedIn?24:-1))},dependencies:[KN,er,ki,AN,qD,EN,Wr,ir,Lv,wr,hp],encapsulation:2})}return t})();var GB=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-about"]],decls:63,vars:0,consts:[[1,"mat-body"],[1,"mat-h2"],[1,"mat-h3"],["href","https://tunepal.org"],["href","https://thesession.org"]],template:function(i,r){i&1&&(qe(0,"div",0)(1,"h2",1),A(2,"About Tune Browser"),$e(),qe(3,"h3",2),A(4,"Release"),$e(),qe(5,"p"),A(6,"Version: 0.35.1 (2026-02-17)"),$e(),qe(7,"h3",2),A(8,"Features"),$e(),qe(9,"ul")(10,"li"),A(11,"Browse tune books in ABC notation"),$e(),qe(12,"li"),A(13,"Create PDF files of tunes or books for printing"),$e(),qe(14,"li"),A(15,"Create and edit your own tune books on Google Drive"),$e(),qe(16,"li"),A(17,"Add tags to tunes (requires Google Drive)"),$e(),qe(18,"li"),A(19,"Find tunes by title or number, key, rhythm, books or tags"),$e(),qe(20,"li"),A(21,"Play tunes and adjust tempo"),$e(),qe(22,"li"),A(23,"Create repertoires and get practice assignments (requires Google Drive)"),$e(),qe(24,"li"),A(25,"Create tune sets (requires Google Drive)"),$e(),qe(26,"li"),A(27,"Record audio samples and recognize tunes from thesession.org"),$e()(),qe(28,"h3",2),A(29,"Getting started"),$e(),qe(30,"p"),A(31," Tune Browser is a web application which should work in any modern web browser, including mobile browsers on smartphones or tablets. "),$e(),qe(32,"p"),A(33," On mobile devices, you can create a shortcut on your home screen which makes Tune Browser work in full screen mode, almost like a native app, without requiring installation from Play Store or App Store. "),$e(),qe(34,"p"),A(35," If you have a Google account, you can create and edit your own tune books and store them on Google Drive. Before you can do so, you will have to log in to your Google account from Tune Browser. The login dialogue uses a separate browser window which directly communicates with Google. Tune Browser will create a folder "),qe(36,"code"),A(37,"Tune Browser"),$e(),A(38," containing your tune books. "),$e(),qe(39,"h3",2),A(40,"Practicing"),$e(),qe(41,"p"),A(42," With a Google account, you can create one or more repertoires (e.g. for different instruments) with tunes from existing books and generate daily practice assignments. "),$e(),qe(43,"p"),A(44," For each tune in a given repertoire, Tune Browser records the date you last practiced the tune and the date you added it. Based on this information, new tunes will be included in your assignment every day for the first week, and then in longer intervals in the following weeks. Older tunes will be rescheduled once a month. Some randomness gets applied to avoid repetitive assignments. "),$e(),qe(45,"h3",2),A(46,"Recognize tunes"),$e(),qe(47,"p"),A(48," You can record audio snippets and recognize tunes based on Bryan Duggan's MATT2 matching algorithm as published in "),qe(49,"a",3),A(50,"tunepal.org"),$e(),A(51,". "),$e(),qe(52,"p"),A(53," Tune Browser matches your audio against the tune corpus of "),qe(54,"a",4),A(55,"thesession.org"),$e(),A(56,". The best matches are listed by confidence level and are linked to the corresponding pages on thesession.org. "),$e(),qe(57,"h3",2),A(58,"Privacy"),$e(),qe(59,"p"),A(60,"Tune Browser does not collect any personal data from its users."),$e(),qe(61,"p"),A(62," Tune Browser is hosted on GitHub Pages and on Google Cloud Run. It optionally uses Google Drive for storing your tune books. If you are worried about privacy, please review the terms of service of these providers. Tune Browser has no influence on user tracking performed by these services. "),$e()())},encapsulation:2})}return t})();var rde=`
%%header "$P0		$P1"
%%titleformat "T, R-1 C1"
%%pagewidth      21cm
%%pageheight     29.7cm
%%topmargin      1.5cm
%%botmargin      1.5cm
%%leftmargin     1.5cm
%%rightmargin    1.5cm
%%topspace       0cm
`,il=(()=>{class t{httpClient=m(na);saveAsPdf(e){this.httpClient.post("https://abc2pdf-vkhoermztq-ew.a.run.app/print",rde+e,{responseType:"arraybuffer"}).subscribe(i=>this.downloadFile(i,"application/pdf"))}downloadFile(e,i){let r=document.createElement("a");r.href=window.URL.createObjectURL(new Blob([e],{type:i})),r.target="pdf",document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var YB=(()=>{class t{route=m(Zt);router=m(gn);index=m(pn);pdfService=m(il);bookId;constructor(){this.index.tuneBookReady.subscribe(e=>this.onReady(e)),this.route.paramMap.subscribe(e=>{this.bookId=e.get("id"),this.onReady(this.bookId)})}onReady(e){let i=this.index.findAllTunesInBook(e).map(o=>o.abc).join(`
`),r=this.index.getBookById(e).descriptor.name;this.pdfService.saveAsPdf(`%%footer ${r}
${i}`),this.router.navigate(["/books"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-book-print"]],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();function ode(t,n){t&1&&(x(0,"mat-icon"),A(1,"edit"),E())}function ade(t,n){if(t&1&&(x(0,"mat-list-item")(1,"div",3)(2,"div",4)(3,"button",5),be(4,ode,2,0,"mat-icon"),E()(),x(5,"div",4)(6,"button",6)(7,"mat-icon"),A(8,"print"),E()()(),x(9,"div",7)(10,"div",8),A(11),E(),x(12,"div",9),A(13),E()()()()),t&2){let e=n.$implicit,i=Q();M(3),ce("routerLink",jr("../edit/",e.descriptor.id))("disabled",!i.isEditable(e)),M(),ye(i.isEditable(e)?4:-1),M(2),ce("routerLink",jr("../print/",e.descriptor.id)),M(4),ce("routerLink",jr("../book/",e.descriptor.id)),M(),vt("",e.descriptor.name," "),M(2),ht(e.descriptor.description)}}var QB=(()=>{class t{collectionService=m(to);googleAuth=m(rr);books=[];signedIn=!1;constructor(){this.googleAuth.authState.subscribe(e=>{this.signedIn=!!e}),this.collectionService.collectionLoaded.subscribe(()=>this.books=this.collectionService.getBooks())}isEditable(e){return e.descriptor.storage==="googledrive"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-books-list"]],decls:8,vars:1,consts:[[1,"mat-h2"],[1,"tunebook-list"],["mat-raised-button","","routerLink","../createBook","color","primary",1,"create-book-button",3,"disabled"],[1,"tunebook-row"],[1,"tunebook-button"],["mat-icon-button","",3,"routerLink","disabled"],["mat-icon-button","",3,"routerLink"],[1,"tunebook-item"],[1,"tunebook-link",3,"routerLink"],[1,"tunebook-description"]],template:function(i,r){i&1&&(x(0,"div")(1,"h2",0),A(2,"Tunebooks"),E(),x(3,"mat-list",1),Ut(4,ade,14,10,"mat-list-item",null,qn),E(),x(6,"button",2),A(7,"New Book"),E()()),i&2&&(M(4),qt(r.books),M(2),ce("disabled",!r.signedIn))},dependencies:[ca,Wr,er,ir,ki,Vt],encapsulation:2})}return t})();var KB=(()=>{class t{snackBar=m(Ya);googleDrive=m(or);tuneBookCollectionService=m(to);title;description;id;createBook(){return te(this,null,function*(){let e=`${this.id}.abc`,i=yield this.googleDrive.createTextFile(e,""),r={description:this.description,id:this.id,name:this.title,storage:"googledrive",uri:i};yield this.tuneBookCollectionService.addBook(r),this.snackBar.open(`Created ${e} on Google Drive`,"Dismiss",{duration:3e3})})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-create-book"]],decls:13,vars:3,consts:[[1,"mat-h2"],[1,"create-book-panel"],[1,"query"],["matInput","","name","title","type","text","placeholder","Title",3,"ngModelChange","ngModel"],["matInput","","name","description","type","text","placeholder","Description",3,"ngModelChange","ngModel"],["matInput","","name","id","type","text","placeholder","ID used in URL or file name",3,"ngModelChange","ngModel"],["mat-raised-button","","label","Create","color","primary",1,"create-book-button",3,"click"]],template:function(i,r){i&1&&(x(0,"div")(1,"h2",0),A(2,"New tunebook"),E()(),x(3,"div",1)(4,"form")(5,"mat-form-field",2)(6,"input",3),Nt("ngModelChange",function(a){return Lt(r.title,a)||(r.title=a),a}),E()(),x(7,"mat-form-field",2)(8,"input",4),Nt("ngModelChange",function(a){return Lt(r.description,a)||(r.description=a),a}),E()(),x(9,"mat-form-field",2)(10,"input",5),Nt("ngModelChange",function(a){return Lt(r.id,a)||(r.id=a),a}),E()(),x(11,"button",6),Y("click",function(){return r.createBook()}),A(12,"Create Book"),E()()()),i&2&&(M(6),Ot("ngModel",r.title),M(2),Ot("ngModel",r.description),M(2),Ot("ngModel",r.id))},dependencies:[En,Ns,Dn,Wn,Os,pi,Ki,kn,Gn,Vt],encapsulation:2})}return t})();var XB=(()=>{class t{route=m(Zt);router=m(gn);zone=m(he);googleAuth=m(rr);loginPending=!1;constructor(){this.route.url.subscribe(e=>this.onAction()),this.googleAuth.authState.subscribe(e=>{this.loginPending&&(this.loginPending=!1,this.zone.run(()=>this.router.navigate(["/books"])))})}onAction(){this.loginPending=!0,this.googleAuth.signIn()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-login"]],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();var ZB=(()=>{class t{route=m(Zt);router=m(gn);googleAuth=m(rr);constructor(){this.route.url.subscribe(()=>this.onAction())}onAction(){this.googleAuth.signOut(),this.router.navigate(["/books"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-logout"]],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();var JB=no(as());function e7(t){let n=t.split(`
`),e=[],i=[];for(let r of n)if(/^[A-Za-z]:/.test(r))/^[XMLK]:/.test(r)&&e.push(r);else if(i.push(...r.split("|")),i.length>2){e.push(i.slice(0,3).join("|"));break}return e.join(`
`)}function ls(t){let n=t.replace(/^\d+[a-z]?\s*/,"");return n.endsWith(", The")&&(n=n.replace(/, The$/,""),n="The "+n),n}function t7(t){let n=t.split(`
`),e=[],i=!1;for(let r of n)/^[A-Za-z]:/.test(r)?(/^[TMLK]:/.test(r)&&e.push(r.trim()),/^L:/.test(r)&&(i=!0)):(i||(e.push("L:1/8"),i=!0),r.trim().length>0&&e.push(r.trim()));return e.join(`
`)}var $b=(()=>{class t{httpClient=m(na);findBestMatches(e){return te(this,null,function*(){return this.httpClient.get("https://matt-vkhoermztq-ew.a.run.app/match/"+e).toPromise()})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function sde(t,n){t&1&&Ne(0,"mat-progress-bar",2)}function lde(t,n){if(t&1&&(x(0,"mat-list-item")(1,"div",4)(2,"div",5)(3,"a",6),A(4),E(),x(5,"div",7),A(6),E()(),x(7,"div",8),A(8),E()()()),t&2){let e=n.$implicit,i=Q();M(3),ce("href",Es("https://thesession.org/tunes/",e.tune,"#setting",e.setting),S0),M(),ht(i.title(e)),M(2),ht(i.getRhythmAndKey(e)),M(2),vt(" ",i.confidencePercentage(e)," % ")}}var n7=(()=>{class t{route=m(Zt);tuneMatcher=m($b);tunes;constructor(){this.route.paramMap.subscribe(e=>this.matchTranscription(e))}matchTranscription(e){return te(this,null,function*(){let i=e.get("transcription");this.tunes=yield this.tuneMatcher.findBestMatches(i)})}confidencePercentage(e){return Math.round(e.confidence*100)}title(e){return ls(e.name)}getRhythmAndKey(e){return`${e.rhythm} in ${e.key}`}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-matcher"]],decls:7,vars:1,consts:[[1,"mat-h2"],["id","progress"],["mode","indeterminate"],[1,"tune-list"],["matLine",""],[1,"tune-item"],["target","thesession",1,"tune-link","md-accent",3,"href"],[1,"mat-small"],[1,"confidence"]],template:function(i,r){i&1&&(x(0,"h2",0),A(1,"Matching tunes"),E(),x(2,"div",1),be(3,sde,1,0,"mat-progress-bar",2),E(),x(4,"mat-list",3),Ut(5,lde,9,6,"mat-list-item",null,qn),E()),i&2&&(M(3),ye(r.tunes?-1:3),M(2),qt(r.tunes))},dependencies:[Nv,ca,Wr],encapsulation:2})}return t})();function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wb(t)}function I2(t){if(t===null||t===!0||t===!1)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Ho(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function rl(t){Ho(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||Wb(t)==="object"&&n==="[object Date]"?new Date(t.getTime()):typeof t=="number"||n==="[object Number]"?new Date(t):((typeof t=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Uu(t,n){Ho(2,arguments);var e=rl(t),i=I2(n);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function Gb(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}function Yb(t){Ho(1,arguments);var n=rl(t);return n.setHours(0,0,0,0),n}var cde=864e5;function A2(t,n){Ho(2,arguments);var e=Yb(t),i=Yb(n),r=e.getTime()-Gb(e),o=i.getTime()-Gb(i);return Math.round((r-o)/cde)}function i7(t,n){var e=t.getFullYear()-n.getFullYear()||t.getMonth()-n.getMonth()||t.getDate()-n.getDate()||t.getHours()-n.getHours()||t.getMinutes()-n.getMinutes()||t.getSeconds()-n.getSeconds()||t.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function Ac(t,n){Ho(2,arguments);var e=rl(t),i=rl(n),r=i7(e,i),o=Math.abs(A2(e,i));e.setDate(e.getDate()-r*o);var a=+(i7(e,i)===-r),s=r*(o-a);return s===0?0:s}var r7="repertoire-collection.json",Kb=[1,1,1,1,1,1,2,2,2,3,3,6,6,15];function dde(t,n){if(t==="added"||t==="due"||t==="lastPracticed")return new Date(n);if(t==="items")return n.map(e=>new Qb(e.tune,e.added,e.timesPracticed,e.lastPracticed));if(t==="instrument"){this.name=n;return}return n}function ude(t,n){if(t!=="due")return n}var Qb=class{tune;added;timesPracticed;lastPracticed;due;constructor(n,e,i,r){this.tune=n,this.added=e,this.timesPracticed=i,this.lastPracticed=r}practicedOn(n){this.lastPracticed=n,this.timesPracticed++}referencedBy(n){return n?this.tune.bookId===n.bookId&&this.tune.tuneId===n.tuneId:!1}},_a=(()=>{class t{googleDrive=m(or);collectionFileId;currentAssignment;repertoireCollection;load(){return te(this,null,function*(){if(!(yield this.googleDrive.isSignedIn()))return{repertoires:[]};if(this.repertoireCollection)return this.repertoireCollection;let e=yield this.googleDrive.findOrCreateFolder(vc),r=(yield this.googleDrive.listTextFiles(e)).find(a=>a.name===r7),o;return r===void 0?(o='{"repertoires": []}',this.collectionFileId=yield this.googleDrive.createTextFile(r7,o)):(this.collectionFileId=r.id,o=yield this.googleDrive.getTextFile(r.id)),this.repertoireCollection=JSON.parse(o,dde),this.repertoireCollection})}saveCollection(e){return te(this,null,function*(){return this.googleDrive.updateTextFile(this.collectionFileId,JSON.stringify(e,ude))})}save(){return te(this,null,function*(){return this.repertoireCollection?this.saveCollection(this.repertoireCollection):null})}addRepertoireItem(e,i){return te(this,null,function*(){let r=yield this.load(),o=yield this.findRepertoire(i.name);o===void 0&&(o={name:i.name,maxAge:30,numTunesPerAssignment:10,items:[]},r.repertoires.push(o),r.current=i.name);let a=o.items.find(s=>s.referencedBy(e));return a?a.added=i.added:o.items.push(new Qb(e,i.added,0)),this.saveCollection(r)})}deleteRepertoireItem(e,i){return te(this,null,function*(){let r=yield this.load(),o=yield this.findRepertoire(i);if(o!==void 0){let a=o.items.findIndex(s=>s.referencedBy(e));if(a>=0)return o.items.splice(a,1),this.saveCollection(r)}return""})}findRepertoire(e){return te(this,null,function*(){let i=yield this.load();return e||(e=i.current),e?i.repertoires.find(r=>r.name===e):i.repertoires[0]})}deleteRepertoire(e){return te(this,null,function*(){let i=yield this.load(),r=i.repertoires.findIndex(o=>o.name===e);return r==-1?"":(i.repertoires.splice(r,1),this.saveCollection(i))})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function R2(t){let n=Math.trunc(Math.random()*3)-1;return Uu(t,n)}var Xb=(()=>{class t{buildPracticeAssignment(e,i){let r=[...e.items];r.forEach(s=>this.computeDueDate(s,e,i)),r.sort((s,l)=>Ac(s.due,l.due));let o=r.filter(s=>this.isDueOnDay(s,i));if(o.length>=e.numTunesPerAssignment){let s=o.slice(0,e.numTunesPerAssignment),c=o.slice(e.numTunesPerAssignment+1).filter(u=>u.timesPracticed<=Kb.length);if(c.length>0){c.sort((h,f)=>h.timesPracticed-f.timesPracticed);let u=c.slice(0,e.numTunesPerAssignment/2),d=s.slice(0,e.numTunesPerAssignment-u.length);return u.concat(d)}else return o.slice(0,e.numTunesPerAssignment)}let a=r.filter(s=>!this.isDueOnDay(s,i)&&!this.isRecentOnDay(s,i));return o.concat(a.slice(0,e.numTunesPerAssignment-o.length))}isDueOnDay(e,i){return Ac(e.due,i)<=0}isRecentOnDay(e,i){return Ac(i,e.added)<=30}computeDueDate(e,i,r){if(Ac(R2(r||new Date),e.added)>i.maxAge||e.timesPracticed>=Kb.length){let a=e.lastPracticed||e.added;e.due=Uu(R2(a),i.maxAge)}else if(e.timesPracticed>0){let a=Kb[e.timesPracticed];e.due=Uu(R2(e.lastPracticed),a)}else e.due=e.added}markAsPracticed(e,i){e.forEach(r=>r.practicedOn(i))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function hde(t,n){if(t&1&&(x(0,"mat-option",5),A(1),E()),t&2){let e=n.$implicit;ce("value",e.name),M(),vt(" ",e.name," ")}}function fde(t,n){if(t&1){let e=Ke();x(0,"div",1)(1,"div",3)(2,"mat-form-field")(3,"mat-label"),A(4,"Repertoire"),E(),x(5,"mat-select",4),Nt("valueChange",function(r){ge(e);let o=Q();return Lt(o.repertoire,r)||(o.repertoire=r),ve(r)}),Ut(6,hde,2,2,"mat-option",5,qn),E()(),x(8,"mat-form-field",6)(9,"input",7),Nt("ngModelChange",function(r){ge(e);let o=Q();return Lt(o.maxAge,r)||(o.maxAge=r),ve(r)}),E()(),x(10,"mat-form-field",8)(11,"input",9),Nt("ngModelChange",function(r){ge(e);let o=Q();return Lt(o.numTunes,r)||(o.numTunes=r),ve(r)}),E()()(),x(12,"button",10),Y("click",function(){ge(e);let r=Q();return ve(r.buildAssignment())}),A(13,"Get assignment"),E()()}if(t&2){let e=Q();M(5),Ot("value",e.repertoire),M(),qt(e.repertoires()),M(3),Ot("ngModel",e.maxAge),M(2),Ot("ngModel",e.numTunes)}}function pde(t,n){if(t&1&&(x(0,"mat-list-item")(1,"div",12),A(2),E()()),t&2){let e=n.$implicit,i=Q(2);M(),ce("routerLink",Es("../tune/",e.book,"/",e.id)),M(),vt(" ",i.titleWithoutNumber(e.title))}}function mde(t,n){if(t&1){let e=Ke();x(0,"div",2)(1,"mat-list"),Ut(2,pde,3,4,"mat-list-item",null,qn),E(),x(4,"button",11),Y("click",function(){ge(e);let r=Q();return ve(r.markAsPracticed())}),A(5,"All done"),E()()}if(t&2){let e=Q();M(2),qt(e.entries),M(2),ce("disabled",e.saved)}}var o7=(()=>{class t{snackBar=m(Ya);repertoireRepository=m(_a);googleAuth=m(rr);practiceService=m(Xb);index=m(pn);assignment;entries;repertoire;numTunes;maxAge;saved=!1;titleWithoutNumber=ls;repertoireCollection;constructor(){this.googleAuth.authState.subscribe(()=>this.loadRepertoires())}loadRepertoires(){return te(this,null,function*(){this.repertoireCollection=yield this.repertoireRepository.load(),this.repertoireCollection.current&&(this.repertoire=this.repertoireCollection.current);let e=yield this.repertoireRepository.findRepertoire();e&&(this.numTunes=e.numTunesPerAssignment,this.maxAge=e.maxAge,this.repertoireRepository.currentAssignment&&(this.assignment=this.repertoireRepository.currentAssignment,this.entries=this.assignment.map(i=>this.index.findEntryByTuneReference(i.tune))))})}hasAssignment(){return this.entries!==void 0}buildAssignment(){return te(this,null,function*(){let e=yield this.repertoireRepository.findRepertoire(this.repertoire);this.numTunes>0&&(e.numTunesPerAssignment=this.numTunes,e.maxAge=this.maxAge,this.repertoireCollection.current=this.repertoire),this.assignment=this.practiceService.buildPracticeAssignment(e,new Date),this.repertoireRepository.currentAssignment=this.assignment,this.entries=this.assignment.map(i=>this.index.findEntryByTuneReference(i.tune))})}markAsPracticed(){return te(this,null,function*(){this.practiceService.markAsPracticed(this.assignment,new Date),(yield this.repertoireRepository.save())?(this.saved=!0,this.snackBar.open("Updated repertoire on Google Drive","Dismiss",{duration:3e3})):this.snackBar.open("ERROR SAVING REPERTOIRE","Dismiss",{duration:3e3})})}repertoires(){return this.repertoireCollection===void 0?[]:this.repertoireCollection.repertoires}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-practice"]],decls:5,vars:2,consts:[[1,"mat-h2"],["id","initial"],["id","assignment"],[1,"form-container"],[3,"valueChange","value"],[3,"value"],[1,"max-age"],["matInput","","name","maxAge","type","number","placeholder","Maximum age in days",3,"ngModelChange","ngModel"],[1,"num-tunes"],["matInput","","name","numTunes","type","number","placeholder","Number of tunes",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",1,"search-button",3,"click"],["mat-raised-button","","label","All done","color","primary",1,"search-button",3,"click","disabled"],[1,"tune-link",3,"routerLink"]],template:function(i,r){i&1&&(x(0,"div")(1,"h2",0),A(2,"Practice"),E(),be(3,fde,14,3,"div",1),be(4,mde,6,1,"div",2),E()),i&2&&(M(3),ye(r.hasAssignment()?-1:3),M(),ye(r.hasAssignment()?4:-1))},dependencies:[kn,vi,Fv,Zi,Gn,En,Dn,zx,Wn,pi,Vt,ca,Wr,ir],encapsulation:2})}return t})();var Zb=(()=>{class t{instance;audioContext(){return te(this,null,function*(){if(!this.instance){let e=window.AudioContext||window.webkitAudioContext;this.instance=new e,this.instance.state==="suspended"&&(yield this.instance.resume())}return this.instance})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var s7=Symbol("Comlink.proxy"),gde=Symbol("Comlink.endpoint"),vde=Symbol("Comlink.releaseProxy"),O2=Symbol("Comlink.finalizer"),ey=Symbol("Comlink.thrown"),l7=t=>typeof t=="object"&&t!==null||typeof t=="function",_de={canHandle:t=>l7(t)&&t[s7],serialize(t){let{port1:n,port2:e}=new MessageChannel;return d7(t,n),[e,[e]]},deserialize(t){return t.start(),F2(t)}},bde={canHandle:t=>l7(t)&&ey in t,serialize({value:t}){let n;return t instanceof Error?n={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:n={isError:!1,value:t},[n,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},c7=new Map([["proxy",_de],["throw",bde]]);function yde(t,n){for(let e of t)if(n===e||e==="*"||e instanceof RegExp&&e.test(n))return!0;return!1}function d7(t,n=globalThis,e=["*"]){n.addEventListener("message",function i(r){if(!r||!r.data)return;if(!yde(e,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}let{id:o,type:a,path:s}=Object.assign({path:[]},r.data),l=(r.data.argumentList||[]).map(Rc),c;try{let u=s.slice(0,-1).reduce((h,f)=>h[f],t),d=s.reduce((h,f)=>h[f],t);switch(a){case"GET":c=d;break;case"SET":u[s.slice(-1)[0]]=Rc(r.data.value),c=!0;break;case"APPLY":c=d.apply(u,l);break;case"CONSTRUCT":{let h=new d(...l);c=Sde(h)}break;case"ENDPOINT":{let{port1:h,port2:f}=new MessageChannel;d7(t,f),c=Ede(h,[h])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[ey]:0}}Promise.resolve(c).catch(u=>({value:u,[ey]:0})).then(u=>{let[d,h]=iy(u);n.postMessage(Object.assign(Object.assign({},d),{id:o}),h),a==="RELEASE"&&(n.removeEventListener("message",i),u7(n),O2 in t&&typeof t[O2]=="function"&&t[O2]())}).catch(u=>{let[d,h]=iy({value:new TypeError("Unserializable return value"),[ey]:0});n.postMessage(Object.assign(Object.assign({},d),{id:o}),h)})}),n.start&&n.start()}function wde(t){return t.constructor.name==="MessagePort"}function u7(t){wde(t)&&t.close()}function F2(t,n){let e=new Map;return t.addEventListener("message",function(r){let{data:o}=r;if(!o||!o.id)return;let a=e.get(o.id);if(a)try{a(o)}finally{e.delete(o.id)}}),N2(t,e,[],n)}function Jb(t){if(t)throw new Error("Proxy has been released and is not useable")}function h7(t){return qu(t,new Map,{type:"RELEASE"}).then(()=>{u7(t)})}var ty=new WeakMap,ny="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{let n=(ty.get(t)||0)-1;ty.set(t,n),n===0&&h7(t)});function Cde(t,n){let e=(ty.get(n)||0)+1;ty.set(n,e),ny&&ny.register(t,n,t)}function xde(t){ny&&ny.unregister(t)}function N2(t,n,e=[],i=function(){}){let r=!1,o=new Proxy(i,{get(a,s){if(Jb(r),s===vde)return()=>{xde(o),h7(t),n.clear(),r=!0};if(s==="then"){if(e.length===0)return{then:()=>o};let l=qu(t,n,{type:"GET",path:e.map(c=>c.toString())}).then(Rc);return l.then.bind(l)}return N2(t,n,[...e,s])},set(a,s,l){Jb(r);let[c,u]=iy(l);return qu(t,n,{type:"SET",path:[...e,s].map(d=>d.toString()),value:c},u).then(Rc)},apply(a,s,l){Jb(r);let c=e[e.length-1];if(c===gde)return qu(t,n,{type:"ENDPOINT"}).then(Rc);if(c==="bind")return N2(t,n,e.slice(0,-1));let[u,d]=a7(l);return qu(t,n,{type:"APPLY",path:e.map(h=>h.toString()),argumentList:u},d).then(Rc)},construct(a,s){Jb(r);let[l,c]=a7(s);return qu(t,n,{type:"CONSTRUCT",path:e.map(u=>u.toString()),argumentList:l},c).then(Rc)}});return Cde(o,t),o}function Dde(t){return Array.prototype.concat.apply([],t)}function a7(t){let n=t.map(iy);return[n.map(e=>e[0]),Dde(n.map(e=>e[1]))]}var f7=new WeakMap;function Ede(t,n){return f7.set(t,n),t}function Sde(t){return Object.assign(t,{[s7]:!0})}function iy(t){for(let[n,e]of c7)if(e.canHandle(t)){let[i,r]=e.serialize(t);return[{type:"HANDLER",name:n,value:i},r]}return[{type:"RAW",value:t},f7.get(t)||[]]}function Rc(t){switch(t.type){case"HANDLER":return c7.get(t.name).deserialize(t.value);case"RAW":return t.value}}function qu(t,n,e,i){return new Promise(r=>{let o=kde();n.set(o,r),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),i)})}function kde(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var ry=(()=>{class t{instance;transcriber(){if(!this.instance){let e=new Worker(new URL("worker-OL34NMXO.js",import.meta.url),{name:"transcriber",type:"module"});this.instance=F2(e)}return this.instance}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var Mde=.01,Tde=4096,oy=(()=>{class t{audioContextProvider=m(Zb);transcriberProvider=m(ry);zone=m(he);status;audioContext;timeRecorded=0;transcriber;stream;input;tickTime=Mde;analyser;timer;subscription;fftBuffer;progressSource=new Wt(0);transcriptionResultSource=new $;analysisProgress;progress=this.progressSource.asObservable();transcriptionResult=this.transcriptionResultSource.asObservable();get sampleTime(){return 12}get blankTime(){return 0}get fundamental(){return"D"}get sampleRate(){return this.audioContext.sampleRate}get progressPercentage(){return 100*this.timeRecorded/(this.blankTime+this.sampleTime)}constructor(){this.transcriber=this.transcriberProvider.transcriber(),this.status=cs.STOPPED}onTranscribed(e){this.zone.run(()=>this.transcriptionResultSource.next(e.transcription))}initAudio(){return te(this,null,function*(){this.audioContext=yield this.audioContextProvider.audioContext();try{if(this.stream=yield navigator.mediaDevices.getUserMedia({audio:!0}),this.stream){this.status=cs.INIT_SUCCEEDED;let e=Tde;this.input=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=e,this.input.connect(this.analyser)}}catch(e){this.status=cs.INIT_FAILED}})}start(){if(!this.stream)return;let e={inputSampleRate:this.audioContext.sampleRate,sampleTime:this.sampleTime,blankTime:this.blankTime,tickTime:this.tickTime,fundamental:this.fundamental};this.transcriber.initialize(e).then(()=>this.status=cs.RECORDING),this.fftBuffer=new Float32Array(this.analyser.frequencyBinCount),this.timer=ro(0,this.tickTime*1e3),this.subscription=this.timer.subscribe(()=>this.pushSpectrum())}pushSpectrum(){return te(this,null,function*(){this.status==cs.RECORDING&&(this.analyser.getFloatFrequencyData(this.fftBuffer),this.transcriber.pushSignal(this.fftBuffer),this.timeRecorded+=this.tickTime,this.zone.run(()=>this.progressSource.next(this.progressPercentage)),this.recordingComplete()&&(this.subscription.unsubscribe(),yield this.analyzeSignal()))})}recordingComplete(){return this.timeRecorded>=this.sampleTime}stop(){this.status=cs.STOPPED,this.timeRecorded=0,this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.input.disconnect(this.analyser)}destroy(){this.stop()}analyzeSignal(){return te(this,null,function*(){this.stop(),this.status=cs.ANALYZING;let e=yield this.transcriber.transcribe();this.status=cs.ANALYSIS_SUCCEEDED,this.onTranscribed(e)})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),cs=(function(t){return t.STOPPED="STOPPED",t.INIT="INIT",t.INIT_SUCCEEDED="INIT_SUCCEEDED",t.INIT_FAILED="INIT_FAILED",t.RECORDING="RECORDING",t.ANALYZING="ANALYZING",t.ANALYSIS_SUCCEEDED="ANALYSIS_SUCCEEDED",t.API_MISSING="API_MISSING",t})(cs||{});var p7=(()=>{class t{router=m(gn);recorder=m(oy);progress;progressbarValue;constructor(){this.recorder.progress.subscribe(e=>this.progress=e),this.recorder.transcriptionResult.subscribe(e=>{this.progress=0,this.progressbarValue=0,e&&this.router.navigate([`/match/${e}`])})}startRecording(){return te(this,null,function*(){let i=Hy(100).subscribe(r=>{this.progressbarValue=this.progress,this.progressbarValue>=100&&i.unsubscribe()});yield this.recorder.initAudio(),this.recorder.start()})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-record"]],decls:8,vars:1,consts:[[1,"mat-h2"],["id","progress"],["mode","determinate",3,"value"],["id","button-container"],["mat-raised-button","","color","primary",1,"search-button",3,"click"]],template:function(i,r){i&1&&(x(0,"div")(1,"h2",0),A(2,"Recognize"),E(),x(3,"div",1),Ne(4,"mat-progress-bar",2),E(),x(5,"div",3)(6,"button",4),Y("click",function(){return r.startRecording()}),A(7,"Start"),E()()()),i&2&&(M(4),ce("value",r.progressbarValue))},dependencies:[Nv,Vt],encapsulation:2})}return t})();var m7=(()=>{class t{dialogRef=m(Mr);instrument=new Ql;maxAge=new Ql(30);numTunesPerAssignment=new Ql(10);onNoClick(){this.dialogRef.close(void 0)}repertoire(){return{name:this.instrument.value,maxAge:this.maxAge.value,numTunesPerAssignment:this.numTunesPerAssignment.value,items:[]}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-new-repertoire"]],decls:14,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"form-container"],["matInput","","name","name","placeholder","Name",3,"formControl"],["matInput","","name","maxAge","placeholder","Maximum age in days",3,"formControl"],["matInput","","name","numTunes","placeholder","Number of tunes per assignment",3,"formControl"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){i&1&&(x(0,"h1",0),A(1,"New repertoire"),E(),x(2,"div",1)(3,"mat-form-field"),Ne(4,"input",2),E(),x(5,"mat-form-field"),Ne(6,"input",3),E(),x(7,"mat-form-field"),Ne(8,"input",4),E()(),x(9,"div",5)(10,"button",6),Y("click",function(){return r.onNoClick()}),A(11,"Cancel"),E(),x(12,"button",7),A(13,"Ok"),E()()),i&2&&(M(4),ce("formControl",r.instrument),M(2),ce("formControl",r.maxAge),M(2),ce("formControl",r.numTunesPerAssignment),M(4),ce("mat-dialog-close",r.repertoire()))},dependencies:[zs,Us,kn,Gn,En,Dn,Wn,Fd,uf,qs,Vt,Tv],encapsulation:2})}return t})();var zp=(()=>{class t{dialogRef=m(Mr);data=m(PD);onConfirm(e){this.dialogRef.close(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-delete-repertoire-item"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"form-container"],[1,"mat-body"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"click"]],template:function(i,r){i&1&&(x(0,"h1",0),A(1,"Confirmation"),E(),x(2,"div",1)(3,"p",2),A(4),E()(),x(5,"div",3)(6,"button",4),Y("click",function(){return r.onConfirm(!1)}),A(7,"Cancel"),E(),x(8,"button",5),Y("click",function(){return r.onConfirm(!0)}),A(9,"Delete"),E()()),i&2&&(M(4),ht(r.data))},dependencies:[zs,Us,qs,Vt],encapsulation:2})}return t})();function Ide(t,n){if(t&1){let e=Ke();x(0,"button",6),Y("click",function(){let r=ge(e).$implicit,o=Q();return ve(o.selectRepertoire(r))}),A(1),E()}if(t&2){let e=n.$implicit;M(),ht(e.name)}}function Ade(t,n){t&1&&(x(0,"th",19),A(1,"Title"),E())}function Rde(t,n){if(t&1&&(x(0,"td",20)(1,"div",21),A(2),E()()),t&2){let e=n.$implicit;M(),ce("routerLink",MC(e.uri)),M(),ht(e.title)}}function Ode(t,n){t&1&&(x(0,"th",19),A(1,"Times practiced"),E())}function Nde(t,n){if(t&1&&(x(0,"td",20),A(1),E()),t&2){let e=n.$implicit;M(),vt(" ",e.item.timesPracticed," ")}}function Fde(t,n){t&1&&(x(0,"th",19),A(1,"Last practiced"),E())}function Pde(t,n){if(t&1&&(x(0,"td",20),A(1),E()),t&2){let e=n.$implicit;M(),vt(" ",e.item.lastPracticed?e.item.lastPracticed.toLocaleDateString():""," ")}}function Lde(t,n){t&1&&(x(0,"th",19),A(1,"Added"),E())}function Bde(t,n){if(t&1&&(x(0,"td",20),A(1),E()),t&2){let e=n.$implicit;M(),vt(" ",e.item.added.toLocaleDateString()," ")}}function Vde(t,n){t&1&&(x(0,"th",22),A(1,"Action"),E())}function jde(t,n){if(t&1){let e=Ke();x(0,"td",20)(1,"button",23)(2,"mat-icon"),A(3,"more_vert"),E()(),x(4,"mat-menu",null,1)(6,"button",6),Y("click",function(){let r=ge(e).$implicit,o=Q();return ve(o.deleteTune(r))}),A(7,"Delete"),E()()()}if(t&2){let e=Cn(5);M(),ce("matMenuTriggerFor",e)}}function Hde(t,n){t&1&&Ne(0,"tr",24)}function zde(t,n){t&1&&Ne(0,"tr",25)}var P2=(()=>{class t{dialog=m(Wa);repertoireRepository=m(_a);index=m(pn);route=m(Zt);router=m(gn);sort;dataSource;tunes=[];displayedColumns=["title","timesPracticed","lastPracticed","added","action"];titleWithoutNumber=ls;currentRepertoire;repertoireCollection;ngOnInit(){this.index.allReady.subscribe(()=>{this.route.paramMap.subscribe(()=>{this.loadRepertoire()})})}newRepertoire(e){e&&(this.repertoireCollection.repertoires.push(e),this.selectRepertoire(e))}openNewRepertoireDialog(){this.dialog.open(m7).afterClosed().subscribe(i=>this.newRepertoire(i))}openDeleteRepertoireDialog(){this.dialog.open(zp,{data:`Delete "${this.currentRepertoire.name}" repertoire?`}).afterClosed().subscribe(i=>{i&&this.deleteCurrentRepertoire()})}selectRepertoire(e){this.router.navigate(["/repertoire",e.name])}repertoires(){return this.repertoireCollection===void 0?[]:this.repertoireCollection.repertoires}deleteTune(e){return te(this,null,function*(){this.dialog.open(zp,{data:`Delete "${e.title}" from repertoire?`}).afterClosed().subscribe(r=>{r&&this.doDeleteTune(e)})})}doDeleteTune(e){return te(this,null,function*(){yield this.repertoireRepository.deleteRepertoireItem(e.item.tune,this.currentRepertoire.name),this.prepareTunes()})}deleteCurrentRepertoire(){return te(this,null,function*(){yield this.repertoireRepository.deleteRepertoire(this.currentRepertoire.name),yield this.loadRepertoire()})}loadRepertoire(){return te(this,null,function*(){this.repertoireCollection=yield this.repertoireRepository.load();let e=this.route.snapshot.paramMap.get("name"),i;e?(i=this.repertoireCollection.repertoires.find(r=>r.name===e),i||(i=yield this.repertoireRepository.findRepertoire())):i=yield this.repertoireRepository.findRepertoire(),this.currentRepertoire=i,i&&this.prepareTunes()})}prepareTunes(){this.tunes=this.currentRepertoire.items.map(e=>this.toRepertoireTune(e)),this.dataSource=new ru(this.tunes),this.dataSource.sort=this.sort}toRepertoireTune(e){let i=this.index.findEntryByTuneReference(e.tune);return{item:e,added:e.added,lastPracticed:e.lastPracticed,timesPracticed:e.timesPracticed,title:ls(i.title),uri:`/tune/${e.tune.bookId}/${e.tune.tuneId}`}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-repertoire"]],viewQuery:function(i,r){if(i&1&&Xe(oc,7),i&2){let o;ne(o=ie())&&(r.sort=o.first)}},decls:35,vars:6,consts:[["repertoireMenu","matMenu"],["tuneMenu","matMenu"],[1,"repertoire-header"],[1,"mat-h2"],["mat-mini-fab","","color","accent",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"mat-body"],["mat-table","","matSort","",1,"repertoire",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","timesPracticed"],["matColumnDef","lastPracticed"],["matColumnDef","added"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"tune-link",3,"routerLink"],["mat-header-cell",""],["mat-icon-button","","color","none",3,"matMenuTriggerFor"],["mat-header-row",""],["mat-row",""]],template:function(i,r){if(i&1){let o=Ke();x(0,"div")(1,"div",2)(2,"h2",3),A(3),E(),x(4,"button",4)(5,"mat-icon"),A(6,"more_vert"),E()(),x(7,"mat-menu",null,0),Ut(9,Ide,2,1,"button",5,qn),x(11,"button",6),Y("click",function(){return ge(o),ve(r.openNewRepertoireDialog())}),A(12,"New repertoire"),E(),x(13,"button",6),Y("click",function(){return ge(o),ve(r.openDeleteRepertoireDialog())}),A(14,"Delete current repertoire"),E()()(),x(15,"p",7),A(16),E(),x(17,"table",8),ai(18,9),xt(19,Ade,2,0,"th",10)(20,Rde,3,3,"td",11),si(),ai(21,12),xt(22,Ode,2,0,"th",10)(23,Nde,2,1,"td",11),si(),ai(24,13),xt(25,Fde,2,0,"th",10)(26,Pde,2,1,"td",11),si(),ai(27,14),xt(28,Lde,2,0,"th",10)(29,Bde,2,1,"td",11),si(),ai(30,15),xt(31,Vde,2,0,"th",16)(32,jde,8,1,"td",11),si(),xt(33,Hde,1,0,"tr",17)(34,zde,1,0,"tr",18),E()()}if(i&2){let o=Cn(8);M(3),vt("",r.currentRepertoire?r.currentRepertoire.name+" ":"","Repertoire"),M(),ce("matMenuTriggerFor",o),M(5),qt(r.repertoires()),M(7),vt("",r.tunes.length," tunes"),M(),ce("dataSource",r.dataSource),M(16),ce("matHeaderRowDef",r.displayedColumns),M(),ce("matRowDefColumns",r.displayedColumns)}},dependencies:[kO,Ov,ki,$s,rc,$v,oc,Yv,Gv,Qv,Vv,Wv,Kv,ir,er,Xv,Jv,Zv,e_],encapsulation:2})}return t})();function Up(t){if(t)return t.split(/\s*,\s*/).filter(n=>n.length>0)}var $u=class{title;rhythm;key;books;tags;constructor(n,e,i,r,o){this.title=n,this.rhythm=e,this.key=i,this.books=r,this.tags=o}matchesRef(n){return this.allBooks()?!0:this.books.includes(n.descriptor.id)}matchesName(n){return this.allBooks()?!0:this.books.includes(n)}allBooks(){return!this.books||this.books.length===0}};var g7=no(as());var Ude=["snippet"],v7=(()=>{class t{zone=m(he);tune="";div;rendered=!1;ngAfterViewInit(){this.renderSnippet()}ngOnChanges(){this.rendered=!1,this.zone.runOutsideAngular(()=>this.renderSnippet())}renderSnippet(){if(this.div!==void 0&&this.tune&&!this.rendered){let e=e7(this.tune);g7.default.renderAbc(this.div.nativeElement,e,{scale:.8,paddingtop:0,paddingbottom:0}),this.rendered=!0}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-snippet-view"]],viewQuery:function(i,r){if(i&1&&Xe(Ude,5),i&2){let o;ne(o=ie())&&(r.div=o.first)}},inputs:{tune:"tune"},features:[lt],decls:2,vars:0,consts:[["snippet",""]],template:function(i,r){i&1&&on(0,"div",null,0)},encapsulation:2})}return t})();function qde(t,n){if(t&1&&(x(0,"mat-option",10),A(1),E()),t&2){let e=n.$implicit;ce("value",e.descriptor.id),M(),vt("",e.descriptor.name," ")}}function $de(t,n){t&1&&(x(0,"div",14)(1,"p",16),A(2,"No matching tunes"),E()())}function Wde(t,n){if(t&1&&(x(0,"div",22),A(1),E()),t&2){let e=Q().$implicit,i=Q(2);M(),vt("Tags: ",i.getTags(e))}}function Gde(t,n){if(t&1){let e=Ke();x(0,"tr",19)(1,"td",20)(2,"div")(3,"span",21),Y("click",function(){let r=ge(e).$implicit,o=Q(2);return ve(o.navigateToTune(r))}),A(4),E()(),x(5,"div",22),A(6),E(),x(7,"div",22),A(8),E(),be(9,Wde,2,1,"div",22),E(),x(10,"td",23),Y("click",function(){let r=ge(e).$implicit,o=Q(2);return ve(o.navigateToTune(r))}),Ne(11,"app-snippet-view",24),E()()}if(t&2){let e=n.$implicit,i=Q(2);M(4),ht(e.title),M(2),_o("",i.getBookName(e)," #",e.id),M(2),ht(i.getRhythmAndKey(e)),M(),ye(i.hasTags(e)?9:-1),M(2),ce("tune",i.getAbc(e))}}function Yde(t,n){if(t&1&&(x(0,"div",15)(1,"p",16),A(2),E(),x(3,"cdk-virtual-scroll-viewport",17)(4,"table")(5,"tbody"),xt(6,Gde,12,6,"tr",18),E()()()()),t&2){let e=Q();M(2),vt("",e.tunes.length," tunes"),M(4),ce("cdkVirtualForOf",e.tunes)("cdkVirtualForTemplateCacheSize",0)}}var Qde=(()=>{class t extends Dg{contentScrolledSource=new $;constructor(){super(100,800,1200),this.contentScrolledSource.asObservable().pipe(oo(200)).subscribe(()=>{super.onContentScrolled()})}onContentScrolled(){this.contentScrolledSource.next("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),_7=(()=>{class t{tuneBookIndex=m(pn);route=m(Zt);router=m(gn);query;rhythm;key;tags;tunes=[];selectedBooks=[];searchCompleted=!1;indexReady=!1;queryParams;ngOnInit(){this.selectedBooks=[this.tuneBookIndex.defaultBook],this.route.queryParamMap.subscribe(e=>this.consumeParameters(e)),this.tuneBookIndex.allReady.subscribe(e=>{this.indexReady=e,this.extractParamsAndRunQuery()})}extractParamsAndRunQuery(){this.indexReady&&this.queryParams.keys.length>0&&(this.query=this.queryParams.get("q"),this.key=this.queryParams.get("key"),this.rhythm=this.queryParams.get("rhythm"),this.selectedBooks=this.queryParams.getAll("book"),this.tags=this.queryParams.getAll("tag").join(", "),this.runQuery())}consumeParameters(e){this.queryParams=e,this.extractParamsAndRunQuery()}noResults(){return this.searchCompleted&&this.tunes.length===0}uniqueResult(){return this.tunes.length===1}multipleResults(){return this.tunes.length>=2}currentTune(){return this.uniqueResult()?this.tuneBookIndex.getAbc(this.tunes[0]):""}findTunes(){this.router.navigate(["/search"],{queryParams:{q:this.query,rhythm:this.rhythm,key:this.key,book:this.selectedBooks,tag:Up(this.tags)}})}runQuery(){(this.selectedBooks===void 0||this.selectedBooks.length===0)&&(this.selectedBooks=[this.tuneBookIndex.getBooks()[0].descriptor.id]);let e=this.rhythm&&this.rhythm.toLowerCase(),i=new $u(this.query,e,this.key,this.selectedBooks,Up(this.tags));this.tunes=this.tuneBookIndex.findTunes(i),this.searchCompleted=!0,this.uniqueResult()&&this.navigateToTune(this.tunes[0])}navigateToTune(e){let i=e.book,r=e.id;this.router.navigate([`/tune/${i}/${r}`])}getAbc(e){return this.tuneBookIndex.getAbc(e)}getBookName(e){return this.tuneBookIndex.getBook(e).descriptor.name}getRhythmAndKey(e){return e.rhythm===void 0&&e.key===void 0?"":e.key===void 0?e.rhythm:e.rhythm===void 0?e.key:`${e.rhythm} in ${e.key}`}hasTags(e){return e.tags&&e.tags.length>0}getTags(e){return e.tags.join(", ")}books(){return this.tuneBookIndex.getBooks()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-search"]],features:[We([{provide:xx,useClass:Qde}])],decls:33,vars:8,consts:[[1,"search-panel"],[3,"expanded"],[1,"query"],["matInput","","name","query","type","text",3,"ngModelChange","ngModel"],[1,"rhythm"],["matInput","","name","rhythm","type","text",3,"ngModelChange","ngModel"],[1,"key"],["matInput","","name","key","type","text",3,"ngModelChange","ngModel"],[1,"tunebooks"],["multiple","",3,"valueChange","value"],[3,"value"],[1,"tags"],["matInput","","name","tags","type","text",3,"ngModelChange","ngModel"],["mat-raised-button","","label","Search","color","primary",1,"search-button",3,"click"],["id","noMatches"],["id","overview"],[1,"mat-body"],[1,"search-result-viewport"],["class","tune-preview",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[1,"tune-preview"],[1,"tune-link","tune-title"],[1,"tune-link","mat-body",3,"click"],[1,"mat-small"],[1,"tune-link",3,"click"],[3,"tune"]],template:function(i,r){i&1&&(x(0,"div",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),A(4,"Find tunes"),E()(),x(5,"form")(6,"mat-form-field",2)(7,"mat-label"),A(8,"Tune number or part of title"),E(),x(9,"input",3),Nt("ngModelChange",function(a){return Lt(r.query,a)||(r.query=a),a}),E()(),x(10,"mat-form-field",4)(11,"mat-label"),A(12,"Rhythm"),E(),x(13,"input",5),Nt("ngModelChange",function(a){return Lt(r.rhythm,a)||(r.rhythm=a),a}),E()(),x(14,"mat-form-field",6)(15,"mat-label"),A(16,"Key"),E(),x(17,"input",7),Nt("ngModelChange",function(a){return Lt(r.key,a)||(r.key=a),a}),E()(),x(18,"mat-form-field",8)(19,"mat-label"),A(20,"Tune books"),E(),x(21,"mat-select",9),Nt("valueChange",function(a){return Lt(r.selectedBooks,a)||(r.selectedBooks=a),a}),Ut(22,qde,2,2,"mat-option",10,qn),E()(),x(24,"mat-form-field",11)(25,"mat-label"),A(26,"Tags"),E(),x(27,"input",12),Nt("ngModelChange",function(a){return Lt(r.tags,a)||(r.tags=a),a}),E()(),x(28,"mat-action-row")(29,"button",13),Y("click",function(){return r.findTunes()}),A(30,"Search"),E()()()()(),be(31,$de,3,0,"div",14),be(32,Yde,7,3,"div",15)),i&2&&(M(),ce("expanded",!r.searchCompleted),M(8),Ot("ngModel",r.query),M(4),Ot("ngModel",r.rhythm),M(4),Ot("ngModel",r.key),M(4),Ot("value",r.selectedBooks),M(),qt(r.books()),M(5),Ot("ngModel",r.tags),M(4),ye(r.noResults()?31:-1),M(),ye(r.multipleResults()?32:-1))},dependencies:[LD,lN,cN,En,Ns,Dn,Wn,Os,pi,Ki,kn,vi,Gn,Fv,Zi,sN,Vt,Dx,Ex,v7],encapsulation:2})}return t})();var Kde=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Xde=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Zde(t,n){t&1&&(x(0,"span",3),De(1,1),E())}function Jde(t,n){t&1&&(x(0,"span",6),De(1,2),E())}var eue=["*"];var b7=new L("MatChipAvatar"),y7=new L("MatChipTrailingIcon"),w7=new L("MatChipEdit"),C7=new L("MatChipRemove"),x7=new L("MatChip"),D7=(()=>{class t{_elementRef=m(ue);_parentChip=m(x7);_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}constructor(){m(Ft).load(ti),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","matChipContent",""]],hostAttrs:[1,"mat-mdc-chip-action","mdc-evolution-chip__action","mdc-evolution-chip__action--presentational"],hostVars:8,hostBindings:function(i,r){i&2&&(Oe("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),Ee("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--secondary",!r._isPrimary)("mdc-evolution-chip__action--trailing",!r._isPrimary&&!r._isLeading))},inputs:{disabled:[2,"disabled","disabled",_e],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:xn(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return t})(),tue=(()=>{class t extends D7{_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled?null:this.tabIndex.toString()}_handleClick(e){!this.disabled&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yt(t)))(r||t)}})();static \u0275dir=ee({type:t,selectors:[["","matChipAction",""]],hostVars:3,hostBindings:function(i,r){i&1&&Y("click",function(a){return r._handleClick(a)})("keydown",function(a){return r._handleKeydown(a)}),i&2&&(Oe("tabindex",r._getTabindex()),Ee("mdc-evolution-chip__action--presentational",!1))},features:[Le]})}return t})();var L2=(()=>{class t{_changeDetectorRef=m(Ge);_elementRef=m(ue);_tagName=m(vA);_ngZone=m(he);_focusMonitor=m(ei);_globalRippleOptions=m(qa,{optional:!0});_document=m(Re);_onFocus=new $;_onBlur=new $;_isBasicChip=!1;role=null;_hasFocusInternal=!1;_pendingFocus=!1;_actionChanges;_animationsDisabled=_t();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=m(Rt).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new ae;destroyed=new ae;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=m(wv);_injector=m(Ie);constructor(){let e=m(Ft);e.load(ti),e.load(qr),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=It(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{let r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){let e=[];return this.editIcon&&e.push(this.editIcon),this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),e}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().length>0}_edit(e){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let i=e!==null;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(i&1&&Kt(o,b7,5)(o,w7,5)(o,y7,5)(o,C7,5)(o,b7,5)(o,y7,5)(o,w7,5)(o,C7,5),i&2){let a;ne(a=ie())&&(r.leadingIcon=a.first),ne(a=ie())&&(r.editIcon=a.first),ne(a=ie())&&(r.trailingIcon=a.first),ne(a=ie())&&(r.removeIcon=a.first),ne(a=ie())&&(r._allLeadingIcons=a),ne(a=ie())&&(r._allTrailingIcons=a),ne(a=ie())&&(r._allEditIcons=a),ne(a=ie())&&(r._allRemoveIcons=a)}},viewQuery:function(i,r){if(i&1&&Xe(tue,5),i&2){let o;ne(o=ie())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,r){i&1&&Y("keydown",function(a){return r._handleKeydown(a)}),i&2&&(Zn("id",r.id),Oe("role",r.role)("aria-label",r.ariaLabel),fn("mat-"+(r.color||"primary")),Ee("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",_e],highlighted:[2,"highlighted","highlighted",_e],disableRipple:[2,"disableRipple","disableRipple",_e],disabled:[2,"disabled","disabled",_e]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[We([{provide:x7,useExisting:t}])],ngContentSelectors:Xde,decls:8,vars:2,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipContent",""],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){i&1&&(tt(Kde),Ne(0,"span",0),x(1,"span",1)(2,"span",2),be(3,Zde,2,0,"span",3),x(4,"span",4),De(5),Ne(6,"span",5),E()()(),be(7,Jde,2,0,"span",6)),i&2&&(M(3),ye(r.leadingIcon?3:-1),M(4),ye(r._hasTrailingIcon()?7:-1))},dependencies:[D7],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus-visible .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}
`],encapsulation:2,changeDetection:0})}return t})();var E7=(()=>{class t{_elementRef=m(ue);_changeDetectorRef=m(Ge);_dir=m($t,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new $;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new $i;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(kt(null),en(()=>It(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(kt(this._chips)).subscribe(e=>{let i=[];e.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Ps(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Qe(this._destroyed)).subscribe(({chip:e})=>{let i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Qe(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(kt(null),Qe(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Qe(this._destroyed)).subscribe(e=>{let r=this._chips.toArray().indexOf(e.chip),o=e.chip._hasFocus(),a=e.chip._hadFocusOnRemove&&this._keyManager.activeItem&&e.chip._getActions().includes(this._keyManager.activeItem),s=o||a;this._isValidIndex(r)&&s&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(i&1&&Kt(o,L2,5),i&2){let a;ne(a=ie())&&(r._chips=a)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){i&1&&Y("keydown",function(a){return r._handleKeydown(a)}),i&2&&Oe("role",r.role)},inputs:{disabled:[2,"disabled","disabled",_e],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:xn(e)]},ngContentSelectors:eue,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){i&1&&(tt(),qe(0,"div",0),De(1),$e())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return t})();var S7="tune-sets.json",Wu=5;function nue(t,n){return t==="created"||t==="modified"?new Date(n):t==="sets"&&Array.isArray(n)?n.map(e=>nt(G({},e),{tags:e.tags||[]})):n}var ba=(()=>{class t{googleDrive=m(or);collectionFileId;tuneSetCollection;load(){return te(this,null,function*(){if(!(yield this.googleDrive.isSignedIn()))return{sets:[]};if(this.tuneSetCollection)return this.tuneSetCollection;let e=yield this.googleDrive.findOrCreateFolder(vc),r=(yield this.googleDrive.listTextFiles(e)).find(a=>a.name===S7),o;return r===void 0?(o='{"sets": []}',this.collectionFileId=yield this.googleDrive.createTextFile(S7,o)):(this.collectionFileId=r.id,o=yield this.googleDrive.getTextFile(r.id)),this.tuneSetCollection=JSON.parse(o,nue),this.tuneSetCollection})}save(){return te(this,null,function*(){let e=JSON.stringify(this.tuneSetCollection,null,2);yield this.googleDrive.updateTextFile(this.collectionFileId,e)})}createSet(r){return te(this,arguments,function*(e,i=[]){yield this.load();let o=new Date,a={id:this.generateId(),name:e,tunes:[],tags:i||[],created:o,modified:o};return this.tuneSetCollection.sets.push(a),yield this.save(),a})}updateSet(e){return te(this,null,function*(){yield this.load();let i=this.tuneSetCollection.sets.findIndex(r=>r.id===e.id);i!==-1&&(e.modified=new Date,this.tuneSetCollection.sets[i]=e,yield this.save())})}deleteSet(e){return te(this,null,function*(){yield this.load(),this.tuneSetCollection.sets=this.tuneSetCollection.sets.filter(i=>i.id!==e),yield this.save()})}addTuneToSet(e,i){return te(this,null,function*(){yield this.load();let r=this.tuneSetCollection.sets.find(o=>o.id===e);r&&r.tunes.length<Wu&&(r.tunes.push(i),r.modified=new Date,yield this.save())})}removeTuneFromSet(e,i){return te(this,null,function*(){yield this.load();let r=this.tuneSetCollection.sets.find(o=>o.id===e);r&&i>=0&&i<r.tunes.length&&(r.tunes.splice(i,1),r.modified=new Date,yield this.save())})}reorderTunesInSet(e,i,r){return te(this,null,function*(){yield this.load();let o=this.tuneSetCollection.sets.find(a=>a.id===e);if(o&&i>=0&&i<o.tunes.length&&r>=0&&r<o.tunes.length){let[a]=o.tunes.splice(i,1);o.tunes.splice(r,0,a),o.modified=new Date,yield this.save()}})}getSet(e){return te(this,null,function*(){return yield this.load(),this.tuneSetCollection.sets.find(i=>i.id===e)})}generateId(){return!this.tuneSetCollection||this.tuneSetCollection.sets.length===0?"1":(this.tuneSetCollection.sets.reduce((i,r)=>{let o=parseInt(r.id,10);return!isNaN(o)&&o>i?o:i},0)+1).toString()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var k7=(()=>{class t{setName="";tags="";dialogRef=m(Mr);onCancel(){this.dialogRef.close()}onCreate(){if(this.setName.trim()){let e=this.tags.split(",").map(i=>i.trim()).filter(i=>i.length>0);this.dialogRef.close({name:this.setName.trim(),tags:e})}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-create-set-dialog"]],decls:16,vars:3,consts:[["mat-dialog-title",""],[1,"full-width"],["matInput","","placeholder","Enter set name",3,"ngModelChange","keyup.enter","ngModel"],["matInput","","placeholder","e.g., performance, competition, session",3,"ngModelChange","keyup.enter","ngModel"],["align","end"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click","disabled"]],template:function(i,r){i&1&&(x(0,"h2",0),A(1,"Create New Set"),E(),x(2,"mat-dialog-content")(3,"mat-form-field",1)(4,"mat-label"),A(5,"Set Name"),E(),x(6,"input",2),Nt("ngModelChange",function(a){return Lt(r.setName,a)||(r.setName=a),a}),Y("keyup.enter",function(){return r.onCreate()}),E()(),x(7,"mat-form-field",1)(8,"mat-label"),A(9,"Tags (comma-separated)"),E(),x(10,"input",3),Nt("ngModelChange",function(a){return Lt(r.tags,a)||(r.tags=a),a}),Y("keyup.enter",function(){return r.onCreate()}),E()()(),x(11,"mat-dialog-actions",4)(12,"button",5),Y("click",function(){return r.onCancel()}),A(13,"Cancel"),E(),x(14,"button",6),Y("click",function(){return r.onCreate()}),A(15,"Create"),E()()),i&2&&(M(6),Ot("ngModel",r.setName),M(4),Ot("ngModel",r.tags),M(4),ce("disabled",!r.setName.trim()))},dependencies:[zs,Us,kn,vi,Gn,En,Dn,Wn,pi,qs,Vt],encapsulation:2})}return t})();function iue(t,n){if(t&1){let e=Ke();x(0,"button",21),Y("click",function(){ge(e);let r=Q();return r.filterText="",ve(r.applyFilter())}),x(1,"mat-icon"),A(2,"clear"),E()()}}function rue(t,n){if(t&1&&A(0),t&2){let e=Q();vt(" (filtered from ",e.allSets.length,") ")}}function oue(t,n){t&1&&(x(0,"th",22),A(1,"Name"),E())}function aue(t,n){if(t&1){let e=Ke();x(0,"td",23)(1,"div",24),Y("click",function(){let r=ge(e).$implicit,o=Q();return ve(o.viewSet(r))}),A(2),E()()}if(t&2){let e=n.$implicit;M(2),ht(e.name)}}function sue(t,n){t&1&&(x(0,"th",22),A(1,"Tags"),E())}function lue(t,n){if(t&1&&(x(0,"mat-chip"),A(1),E()),t&2){let e=n.$implicit;M(),ht(e)}}function cue(t,n){if(t&1&&(x(0,"mat-chip-set"),Ut(1,lue,2,1,"mat-chip",null,qn),E()),t&2){let e=Q().$implicit;M(),qt(e.tags)}}function due(t,n){if(t&1&&(x(0,"td",23),be(1,cue,3,0,"mat-chip-set"),E()),t&2){let e=n.$implicit;M(),ye(e.tags&&e.tags.length>0?1:-1)}}function uue(t,n){t&1&&(x(0,"th",22),A(1,"Tunes"),E())}function hue(t,n){if(t&1&&(x(0,"td",23),A(1),E()),t&2){let e=n.$implicit;M(),ht(e.tunes.length)}}function fue(t,n){t&1&&(x(0,"th",22),A(1,"Created"),E())}function pue(t,n){if(t&1&&(x(0,"td",23),A(1),E()),t&2){let e=n.$implicit;M(),ht(e.created.toLocaleDateString())}}function mue(t,n){t&1&&(x(0,"th",22),A(1,"Modified"),E())}function gue(t,n){if(t&1&&(x(0,"td",23),A(1),E()),t&2){let e=n.$implicit;M(),ht(e.modified.toLocaleDateString())}}function vue(t,n){t&1&&(x(0,"th",25),A(1,"Action"),E())}function _ue(t,n){if(t&1){let e=Ke();x(0,"td",23)(1,"button",26)(2,"mat-icon"),A(3,"more_vert"),E()(),x(4,"mat-menu",null,0)(6,"button",27),Y("click",function(){let r=ge(e).$implicit,o=Q();return ve(o.viewSet(r))}),A(7,"View"),E(),x(8,"button",27),Y("click",function(){let r=ge(e).$implicit,o=Q();return ve(o.editSet(r))}),A(9,"Edit"),E(),x(10,"button",27),Y("click",function(){let r=ge(e).$implicit,o=Q();return ve(o.deleteSet(r))}),A(11,"Delete"),E()()()}if(t&2){let e=Cn(5);M(),ce("matMenuTriggerFor",e)}}function bue(t,n){t&1&&Ne(0,"tr",28)}function yue(t,n){t&1&&Ne(0,"tr",29)}var M7=(()=>{class t{dialog=m(Wa);repository=m(ba);index=m(pn);router=m(gn);breakpointObserver=m(wo);sort;dataSource;sets=[];allSets=[];displayedColumns=["name","tags","tuneCount","created","modified","action"];filterText="";constructor(){this.breakpointObserver.observe([Ts.Handset]).subscribe(e=>{e.matches?this.displayedColumns=["name","tags","action"]:this.displayedColumns=["name","tags","tuneCount","created","modified","action"]})}get allTags(){let e=new Set;return this.allSets.forEach(i=>{i.tags&&i.tags.forEach(r=>e.add(r))}),Array.from(e).sort()}ngOnInit(){return te(this,null,function*(){this.index.allReady.subscribe(()=>this.loadSets())})}loadSets(){return te(this,null,function*(){let e=yield this.repository.load();this.allSets=e.sets,this.applyFilter()})}applyFilter(){let e=this.filterText.toLowerCase().trim();e?this.sets=this.allSets.filter(i=>!!(i.name.toLowerCase().includes(e)||i.tags&&i.tags.some(r=>r.toLowerCase().includes(e)))):this.sets=[...this.allSets],this.dataSource=new ru(this.sets),this.dataSource.sort=this.sort}openCreateSetDialog(){this.dialog.open(k7).afterClosed().subscribe(i=>te(this,null,function*(){i&&i.name&&(yield this.repository.createSet(i.name,i.tags),yield this.loadSets())}))}deleteSet(e){return te(this,null,function*(){this.dialog.open(zp,{data:`Delete set "${e.name}"?`}).afterClosed().subscribe(r=>te(this,null,function*(){r&&(yield this.repository.deleteSet(e.id),yield this.loadSets())}))})}viewSet(e){this.router.navigate(["/set",e.id])}editSet(e){this.router.navigate(["/set",e.id,"edit"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-sets-list"]],viewQuery:function(i,r){if(i&1&&Xe(oc,7),i&2){let o;ne(o=ie())&&(r.sort=o.first)}},decls:38,vars:7,consts:[["setMenu","matMenu"],[1,"sets-header"],[1,"mat-h2"],["mat-raised-button","","color","primary",3,"click"],[1,"filter-section"],[1,"filter-field"],["matInput","","placeholder","Type to filter...",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button",""],[1,"mat-body"],["mat-table","","matSort","",1,"sets-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tags"],["matColumnDef","tuneCount"],["matColumnDef","created"],["matColumnDef","modified"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matSuffix","","mat-icon-button","",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"tune-link",3,"click"],["mat-header-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){i&1&&(x(0,"div")(1,"div",1)(2,"h2",2),A(3,"Tune Sets"),E(),x(4,"button",3),Y("click",function(){return r.openCreateSetDialog()}),x(5,"mat-icon"),A(6,"add"),E(),A(7," New Set "),E()(),x(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),A(11,"Filter by name or tag"),E(),x(12,"input",6),Nt("ngModelChange",function(a){return Lt(r.filterText,a)||(r.filterText=a),a}),Y("ngModelChange",function(){return r.applyFilter()}),E(),be(13,iue,3,0,"button",7),E()(),x(14,"p",8),A(15),be(16,rue,1,1),E(),x(17,"table",9),ai(18,10),xt(19,oue,2,0,"th",11)(20,aue,3,1,"td",12),si(),ai(21,13),xt(22,sue,2,0,"th",11)(23,due,2,1,"td",12),si(),ai(24,14),xt(25,uue,2,0,"th",11)(26,hue,2,1,"td",12),si(),ai(27,15),xt(28,fue,2,0,"th",11)(29,pue,2,1,"td",12),si(),ai(30,16),xt(31,mue,2,0,"th",11)(32,gue,2,1,"td",12),si(),ai(33,17),xt(34,vue,2,0,"th",18)(35,_ue,12,1,"td",12),si(),xt(36,bue,1,0,"tr",19)(37,yue,1,0,"tr",20),E()()),i&2&&(M(12),Ot("ngModel",r.filterText),M(),ye(r.filterText?13:-1),M(2),vt("",r.sets.length," sets "),M(),ye(r.filterText?16:-1),M(),ce("dataSource",r.dataSource),M(19),ce("matHeaderRowDef",r.displayedColumns),M(),ce("matRowDefColumns",r.displayedColumns))},dependencies:[En,Dn,Wn,pi,kn,vi,Of,Gn,Vt,er,ki,E7,L2,$v,oc,Yv,Gv,Qv,Vv,Wv,Kv,Ov,$s,rc,Xv,Jv,Zv,e_],encapsulation:2})}return t})();var wue=(t,n)=>n.reference;function Cue(t,n){if(t&1){let e=Ke();x(0,"mat-list-item")(1,"div",12)(2,"span",13),A(3),E(),x(4,"div",14)(5,"button",15),Y("click",function(){let r=ge(e).$index,o=Q(2);return ve(o.moveTuneUp(r))}),x(6,"mat-icon"),A(7,"arrow_upward"),E()(),x(8,"button",15),Y("click",function(){let r=ge(e).$index,o=Q(2);return ve(o.moveTuneDown(r))}),x(9,"mat-icon"),A(10,"arrow_downward"),E()(),x(11,"button",16),Y("click",function(){let r=ge(e).$index,o=Q(2);return ve(o.removeTune(r))}),x(12,"mat-icon"),A(13,"delete"),E()()()()()}if(t&2){let e=n.$implicit,i=n.$index,r=Q(2);M(3),_o("",i+1,". ",e.entry.title),M(2),ce("disabled",i===0),M(3),ce("disabled",i===r.tunesInSet.length-1)}}function xue(t,n){if(t&1){let e=Ke();x(0,"mat-option",19),Y("click",function(){let r=ge(e).$implicit,o=Q(3);return ve(o.addTune(r))}),A(1),E()}if(t&2){let e=n.$implicit;M(),_o(" ",e.title," (",e.book,") ")}}function Due(t,n){if(t&1){let e=Ke();x(0,"div",8)(1,"h4",17),A(2,"Add Tune"),E(),x(3,"mat-form-field",3)(4,"mat-label"),A(5,"Search for a tune"),E(),x(6,"input",18),Nt("ngModelChange",function(r){ge(e);let o=Q(2);return Lt(o.searchText,r)||(o.searchText=r),ve(r)}),Y("ngModelChange",function(){ge(e);let r=Q(2);return ve(r.onSearchTextChange())}),E(),x(7,"mat-autocomplete",null,0),Ut(9,xue,2,2,"mat-option",null,qn),E()()()}if(t&2){let e=Cn(8),i=Q(2);M(6),Ot("ngModel",i.searchText),ce("matAutocomplete",e),M(3),qt(i.filteredTunes)}}function Eue(t,n){if(t&1){let e=Ke();x(0,"div",1)(1,"h2",2),A(2,"Edit Set"),E(),x(3,"mat-form-field",3)(4,"mat-label"),A(5,"Set Name"),E(),x(6,"input",4),Nt("ngModelChange",function(r){ge(e);let o=Q();return Lt(o.set.name,r)||(o.set.name=r),ve(r)}),E()(),x(7,"mat-form-field",3)(8,"mat-label"),A(9,"Tags (comma-separated)"),E(),x(10,"input",5),Nt("ngModelChange",function(r){ge(e);let o=Q();return Lt(o.tagsText,r)||(o.tagsText=r),ve(r)}),E()(),x(11,"div",6)(12,"h3",7),A(13),E(),x(14,"mat-list"),Ut(15,Cue,14,4,"mat-list-item",null,wue),E(),be(17,Due,11,2,"div",8),E(),x(18,"div",9)(19,"button",10),Y("click",function(){ge(e);let r=Q();return ve(r.cancel())}),A(20,"Cancel"),E(),x(21,"button",11),Y("click",function(){ge(e);let r=Q();return ve(r.save())}),A(22,"Save"),E()()()}if(t&2){let e=Q();M(6),Ot("ngModel",e.set.name),M(4),Ot("ngModel",e.tagsText),M(3),_o("Tunes in Set (",e.tunesInSet.length,"/",e.maxTunes,")"),M(2),qt(e.tunesInSet),M(2),ye(e.canAddMore()?17:-1)}}var T7=(()=>{class t{route=m(Zt);router=m(gn);repository=m(ba);index=m(pn);maxTunes=Wu;set;tunesInSet=[];searchText="";filteredTunes=[];tagsText="";ngOnInit(){return te(this,null,function*(){this.index.allReady.subscribe(()=>this.loadSet())})}loadSet(){return te(this,null,function*(){let e=this.route.snapshot.paramMap.get("id");e&&(this.set=yield this.repository.getSet(e),this.set&&(this.loadTunesInSet(),this.tagsText=(this.set.tags||[]).join(", ")))})}loadTunesInSet(){this.tunesInSet=this.set.tunes.map(e=>{let i=this.index.findEntryByTuneReference(e);return{reference:e,entry:i}}).filter(e=>e.entry!==void 0)}onSearchTextChange(){if(this.searchText.trim().length>=2){let e=new $u(this.searchText);this.filteredTunes=this.index.findTunes(e).slice(0,20)}else this.filteredTunes=[]}addTune(e){if(this.set.tunes.length>=Wu){alert(`A set can contain a maximum of ${Wu} tunes.`);return}let i={bookId:e.book,tuneId:e.id};this.set.tunes.push(i),this.loadTunesInSet(),this.searchText="",this.filteredTunes=[]}removeTune(e){this.set.tunes.splice(e,1),this.loadTunesInSet()}moveTuneUp(e){if(e>0){let i=this.set.tunes[e];this.set.tunes[e]=this.set.tunes[e-1],this.set.tunes[e-1]=i,this.loadTunesInSet()}}moveTuneDown(e){if(e<this.set.tunes.length-1){let i=this.set.tunes[e];this.set.tunes[e]=this.set.tunes[e+1],this.set.tunes[e+1]=i,this.loadTunesInSet()}}save(){return te(this,null,function*(){this.set.tags=this.tagsText.split(",").map(e=>e.trim()).filter(e=>e.length>0),yield this.repository.updateSet(this.set),this.router.navigate(["/sets"])})}cancel(){this.router.navigate(["/sets"])}canAddMore(){return this.set&&this.set.tunes.length<Wu}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-set-editor"]],decls:1,vars:1,consts:[["auto","matAutocomplete"],[1,"set-editor-container"],[1,"mat-h2"],[1,"full-width"],["matInput","","placeholder","Enter set name",3,"ngModelChange","ngModel"],["matInput","","placeholder","e.g., performance, competition, session",3,"ngModelChange","ngModel"],[1,"tunes-section"],[1,"mat-h3"],[1,"add-tune-section"],[1,"actions"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"tune-item"],[1,"tune-title"],[1,"tune-actions"],["mat-icon-button","",3,"click","disabled"],["mat-icon-button","",3,"click"],[1,"mat-h4"],["matInput","","placeholder","Type to search...",3,"ngModelChange","ngModel","matAutocomplete"],[3,"click"]],template:function(i,r){i&1&&be(0,Eue,23,5,"div",1),i&2&&ye(r.set?0:-1)},dependencies:[En,Dn,Wn,pi,kn,vi,Gn,Vt,ki,er,bv,Nf,Zi,ca,Wr],encapsulation:2})}return t})();var I7=no(as());var Sue=["notation"],ay=(()=>{class t{tune="";showNumberInTitle=!0;div;ngAfterViewInit(){this.renderNotation()}ngOnChanges(){this.renderNotation()}renderNotation(){this.div!==void 0&&this.tune.length>0&&I7.default.renderAbc(this.div.nativeElement,this.showNumberInTitle?this.includeNumberInTitle(this.tune):this.tune,{paddingleft:0,paddingright:0,paddingtop:0,paddingbottom:0,staffwidth:1e3,responsive:"resize"})}includeNumberInTitle(e){if(e.match(/^T:(\s*)(\d+[a-z]?\s*)/m))return e;let r=e.match(/^X:(\s*)(\w+)/m);if(!r)return e;let o=r[2],a=e.match(/^T:(\s*)(.+?)(, The)?$/m),s=a[2],l=a[3]?"The ":"";return e.replace(a[0],`T: ${o} ${l}${s}`)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-tune-view"]],viewQuery:function(i,r){if(i&1&&Xe(Sue,5),i&2){let o;ne(o=ie())&&(r.div=o.first)}},inputs:{tune:"tune",showNumberInTitle:"showNumberInTitle"},features:[lt],decls:2,vars:0,consts:[["notation",""],[1,"tune-view"]],template:function(i,r){i&1&&on(0,"div",1,0)},encapsulation:2})}return t})();var kue=(t,n)=>n.entry;function Mue(t,n){t&1&&(x(0,"span",10),A(1," | "),E())}function Tue(t,n){if(t&1){let e=Ke();x(0,"span",9),Y("click",function(){let r=ge(e).$implicit,o=Q(3);return ve(o.openTune(r.entry))}),A(1),E(),be(2,Mue,2,0,"span",10)}if(t&2){let e=n.$implicit,i=n.$index,r=n.$count;M(),ht(e.entry.title),M(),ye(i!==r-1?2:-1)}}function Iue(t,n){if(t&1&&(x(0,"div",6),Ut(1,Tue,3,2,null,null,kue),E(),x(3,"div",7),Ne(4,"app-tune-view",8),E()),t&2){let e=Q(2);M(),qt(e.tunesWithAbc),M(3),ce("tune",e.getConcatenatedAbc())("showNumberInTitle",!1)}}function Aue(t,n){t&1&&(x(0,"div",5)(1,"p",11),A(2,' This set is empty. Click "Edit" to add tunes. '),E()())}function Rue(t,n){if(t&1){let e=Ke();x(0,"div",0)(1,"div",1)(2,"h2",2),A(3),E(),x(4,"div",3)(5,"button",4),Y("click",function(){ge(e);let r=Q();return ve(r.editSet())}),x(6,"mat-icon"),A(7,"edit"),E(),A(8," Edit "),E(),x(9,"button",4),Y("click",function(){ge(e);let r=Q();return ve(r.backToList())}),x(10,"mat-icon"),A(11,"arrow_back"),E(),A(12," Back to Sets "),E()()(),be(13,Iue,5,2),be(14,Aue,3,0,"div",5),E()}if(t&2){let e=Q();M(3),ht(e.set.name),M(10),ye(e.tunesWithAbc.length>0?13:-1),M(),ye(e.tunesWithAbc.length===0?14:-1)}}var A7=(()=>{class t{route=m(Zt);router=m(gn);repository=m(ba);index=m(pn);set;tunesWithAbc=[];ngOnInit(){return te(this,null,function*(){this.index.allReady.subscribe(()=>this.loadSet())})}loadSet(){return te(this,null,function*(){let e=this.route.snapshot.paramMap.get("id");e&&(this.set=yield this.repository.getSet(e),this.set&&this.loadTunes())})}loadTunes(){this.tunesWithAbc=this.set.tunes.map(e=>{let i=this.index.findEntryByTuneReference(e);if(i){let r=this.index.getAbc(i);return{entry:i,abc:r}}return null}).filter(e=>e!==null)}editSet(){this.router.navigate(["/set",this.set.id,"edit"])}backToList(){this.router.navigate(["/sets"])}tuneForDisplay(e){return`%%stretchlast
`+e}getConcatenatedAbc(){return`%%stretchlast
X: 1
`+this.tunesWithAbc.map(i=>i.abc.trim()).map(i=>t7(i)).join(`
`)}openTune(e){this.router.navigate(["/tune",e.book,e.id])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-set-view"]],decls:1,vars:1,consts:[[1,"set-view-container"],[1,"set-header"],[1,"mat-h2"],[1,"header-actions"],["mat-button","",3,"click"],[1,"empty-state"],[1,"tunes-list"],[1,"tunes-notation"],[3,"tune","showNumberInTitle"],[1,"mat-h4","tune-link",3,"click"],[1,"separator"],[1,"mat-body"]],template:function(i,r){i&1&&be(0,Rue,15,3,"div",0),i&2&&ye(r.set?0:-1)},dependencies:[ay,Vt,ki],encapsulation:2})}return t})();var sy=no(as());var R7=(()=>{class t{element=m(ue);$element;caret=new ae;ngAfterViewInit(){if(this.$element=this.element.nativeElement,!(this.contentEditable()||this.isTextarea()))throw new Error("appCaretTracker directive can be used either on textarea or contenteditable element only")}contentEditable(){return this.$element.isContentEditable&&this.$element.getAttribute("contenteditable")==="true"}onFocus(e){this.emitEvent(e)}onKeyup(e){this.emitEvent(e)}onMouseup(e){this.onFocus(e)}emitEvent(e){this.caret.emit({textPos:this.getTextPos(),event:e})}getTextPos(){return this.isTextarea()?this.$element.selectionStart:-1}isTextarea(e){let i=e||this.$element;return i.tagName==="TEXTAREA"&&i instanceof HTMLTextAreaElement}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["","appCaretTracker",""]],hostBindings:function(i,r){i&1&&Y("focus",function(a){return r.onFocus(a)})("keyup",function(a){return r.onKeyup(a)})("mouseup",function(a){return r.onMouseup(a)})},outputs:{caret:"caret"}})}return t})();var Oue=["notation"],O7=(()=>{class t{index=m(pn);collectionService=m(to);googleDrive=m(or);pdfService=m(il);route=m(Zt);snackBar=m(Ya);abc="";bookId;bookRef;set tune(e){this.abc=e}get tune(){return this.abc}div;constructor(){this.route.paramMap.subscribe(e=>{this.bookId=e.get("id"),this.bookRef=this.index.getBookById(this.bookId),this.tune=this.bookRef.abc}),this.index.tuneBookReady.subscribe(e=>{e===this.bookId&&(this.bookRef=this.index.getBookById(this.bookId),this.tune=this.bookRef.abc,this.renderNotation(this.abc))})}ngAfterViewInit(){this.renderNotation(this.abc)}onCaret(e){this.renderNotation(this.extractTuneAtCaret(e.textPos))}save(){return te(this,null,function*(){yield this.googleDrive.updateTextFile(this.bookRef.descriptor.uri,this.tune),this.bookRef.abc=this.tune,this.bookRef.tuneBook=new sy.TuneBook(this.tune),this.index.updateTuneBook(this.bookRef),this.snackBar.open(`Updated ${this.bookRef.descriptor.name} on Google Drive`,"Dismiss",{duration:3e3})})}delete(){return te(this,null,function*(){yield this.collectionService.removeBook(this.bookId),this.snackBar.open(`Removed ${this.bookRef.descriptor.name} from collection`,"Dismiss",{duration:3e3})})}exportAsPdf(){return te(this,null,function*(){this.pdfService.saveAsPdf(this.tune),this.snackBar.open("PDF will be displayed in separate window","Dismiss",{duration:3e3})})}renderNotation(e){this.div!==void 0&&e.length>0&&sy.default.renderAbc(this.div.nativeElement,e,{paddingleft:0,paddingright:0,paddingtop:0,paddingbottom:0,staffwidth:1e3,responsive:"resize"})}extractTuneAtCaret(e){let i=Math.max(0,this.abc.lastIndexOf("X:",e)),r=this.abc.indexOf("X:",i+2);return r===-1&&(r=this.abc.length),this.abc.substring(i,r)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-tune-editor"]],viewQuery:function(i,r){if(i&1&&Xe(Oue,5),i&2){let o;ne(o=ie())&&(r.div=o.first)}},inputs:{tune:"tune"},decls:12,vars:1,consts:[["notation",""],[1,"example-form"],[1,"editor"],["appCaretTracker","","matInput","","name","abc-area","placeholder","Enter ABC notation",3,"caret","ngModelChange","ngModel"],["mat-raised-button","","label","Save","color","primary",1,"search-button",3,"click"],["mat-raised-button","","label","Delete","color","primary",1,"tune-button",3,"click"],["mat-raised-button","","color","primary",1,"tune-button",3,"click"],[1,"tune-view"]],template:function(i,r){if(i&1){let o=Ke();x(0,"form",1)(1,"mat-form-field",2)(2,"textarea",3),Y("caret",function(s){return ge(o),ve(r.onCaret(s))}),Nt("ngModelChange",function(s){return ge(o),Lt(r.tune,s)||(r.tune=s),ve(s)}),E()(),x(3,"button",4),Y("click",function(){return ge(o),ve(r.save())}),A(4,"Save"),E(),x(5,"button",5),Y("click",function(){return ge(o),ve(r.delete())}),A(6,"Delete"),E(),x(7,"button",6),Y("click",function(){return ge(o),ve(r.exportAsPdf())}),x(8,"mat-icon"),A(9,"print"),E()()(),Ne(10,"div",7,0)}i&2&&(M(2),Ot("ngModel",r.tune))},dependencies:[En,Ns,Dn,Wn,Os,pi,Ki,kn,Gn,R7,Vt,ki],encapsulation:2})}return t})();function Nue(t,n){if(t&1&&(x(0,"mat-option",5),A(1),E()),t&2){let e=n.$implicit;ce("value",e.name),M(),vt(" ",e.name," ")}}var N7=(()=>{class t{dialogRef=m(Mr);repertoireRepository=m(_a);added=new Ql(new Date);repertoire=new Ql;repertoireCollection;ngOnInit(){return te(this,null,function*(){this.repertoireCollection=yield this.repertoireRepository.load()})}onNoClick(){this.dialogRef.close(void 0)}repertoires(){return this.repertoireCollection===void 0?[]:this.repertoireCollection.repertoires}repertoireName(e){return e.name}selection(){return{name:this.repertoire.value,added:this.added.value}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-add-to-repertoire"]],decls:21,vars:6,consts:[["auto","matAutocomplete"],["myDatepicker",""],["mat-dialog-title",""],["mat-dialog-content","",1,"form-container"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"value"],["matInput","","name","added","placeholder","Added on",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){if(i&1){let o=Ke();x(0,"h1",2),A(1,"Add to repertoire"),E(),x(2,"div",3)(3,"mat-form-field")(4,"mat-label"),A(5,"Repertoire"),E(),Ne(6,"input",4),E(),x(7,"mat-autocomplete",null,0),Ut(9,Nue,2,2,"mat-option",5,qn),E(),x(11,"mat-form-field"),Ne(12,"input",6)(13,"mat-datepicker",null,1)(15,"mat-datepicker-toggle",7),E()(),x(16,"div",8)(17,"button",9),Y("click",function(){return ge(o),ve(r.onNoClick())}),A(18,"Cancel"),E(),x(19,"button",10),A(20,"Ok"),E()()}if(i&2){let o=Cn(8),a=Cn(14);M(6),ce("formControl",r.repertoire)("matAutocomplete",o),M(3),qt(r.repertoires()),M(3),ce("matDatepicker",a)("formControl",r.added),M(3),ce("for",a),M(4),ce("mat-dialog-close",r.selection())}},dependencies:[zs,Us,kn,vi,Gn,En,Dn,Wn,Nf,Fd,uf,bv,Zi,Sv,qO,AD,Of,qs,Vt,Tv],encapsulation:2})}return t})();var ly=no(as());var Fue=["midiplayer"],F7=(()=>{class t{bpm=100;abc="";parsedTune;synthControl;synthControlLoaded=!1;tempoSource=new Wt(100);div;set tune(e){this.abc=e,this.parsedTune=ly.default.renderAbc("*",this.abc)[0]}get tune(){return this.abc}set tempo(e){this.bpm=e,this.tempoSource.next(e)}get tempo(){return this.bpm}constructor(){this.synthControl=new ly.default.synth.SynthController,this.tempoSource.pipe(Wy(500,zi,{trailing:!0})).subscribe(e=>{this.synthControlLoaded&&this.synthControl.setWarp(e)})}ngAfterViewInit(){this.renderMidiPlayer()}ngOnChanges(){this.renderMidiPlayer()}renderMidiPlayer(){return te(this,null,function*(){if(this.div!==void 0&&this.tune.length>0){console.log("reload player"),this.synthControl.load(this.div.nativeElement,null,{displayLoop:!0,displayRestart:!0,displayPlay:!0,displayProgress:!0,displayWarp:!0}),this.parsedTune.metaText.tempo={bpm:this.bpm,startChar:0,endChar:0};let e=this.synthControl.setTune(this.parsedTune,!0,{chordsOff:!0,program:this.instrumentByName("flute")});return this.synthControlLoaded=!0,e}})}instrumentByName(e){return ly.default.synth.instrumentIndexToName.indexOf(e.toLowerCase())}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-tune-player"]],viewQuery:function(i,r){if(i&1&&Xe(Fue,7),i&2){let o;ne(o=ie())&&(r.div=o.first)}},inputs:{tune:"tune",tempo:"tempo"},features:[lt],decls:2,vars:0,consts:[["midiplayer",""],[1,"midi-player"]],template:function(i,r){i&1&&on(0,"div",1,0)},encapsulation:2})}return t})();var Pue=(t,n)=>n.id,Lue=(t,n)=>n.name;function Bue(t,n){if(t&1&&(x(0,"li",19)(1,"a",20),A(2),E()()),t&2){let e=n.$implicit;M(),ce("routerLink",jr("/set/",e.id)),M(),ht(e.name)}}function Vue(t,n){if(t&1&&(x(0,"div",17)(1,"h4",18),A(2,"Tune Sets:"),E(),x(3,"ul"),Ut(4,Bue,3,3,"li",19,Pue),E()()),t&2){let e=Q(2);M(4),qt(e.containingSets)}}function jue(t,n){if(t&1&&(x(0,"li",19)(1,"a",20),A(2),E()()),t&2){let e=n.$implicit;M(),ce("routerLink",jr("/repertoire/",e.name)),M(),ht(e.name)}}function Hue(t,n){if(t&1&&(x(0,"div",17)(1,"h4",18),A(2,"Repertoires:"),E(),x(3,"ul"),Ut(4,jue,3,3,"li",19,Lue),E()()),t&2){let e=Q(2);M(4),qt(e.containingRepertoires)}}function zue(t,n){if(t&1&&(x(0,"div",15)(1,"h3",16),A(2,"This tune appears in:"),E(),be(3,Vue,6,0,"div",17),be(4,Hue,6,0,"div",17),E()),t&2){let e=Q();M(3),ye(e.containingSets.length>0?3:-1),M(),ye(e.containingRepertoires.length>0?4:-1)}}var P7=(()=>{class t{index=m(pn);googleAuth=m(rr);pdfService=m(il);route=m(Zt);snackBar=m(Ya);dialog=m(Wa);collectionService=m(to);repertoireRepository=m(_a);tuneSetRepository=m(ba);tune="";allTags="";signedIn=!1;prevRef;nextRef;containingSets=[];containingRepertoires=[];bookId;ref;constructor(){this.googleAuth.authState.subscribe(e=>{this.signedIn=!!e})}ngOnInit(){this.route.paramMap.subscribe(e=>this.consumeRef(e)),this.index.tuneBookReady.subscribe(()=>{this.displayTune(this.bookId,this.ref)})}save(){return te(this,null,function*(){let e=Up(this.allTags),i=yield this.collectionService.setTagsForTune(this.ref,this.bookId,e);return this.snackBar.open("Updated tags on Google Drive","Dismiss",{duration:3e3}),i})}openDialog(){return te(this,null,function*(){this.dialog.open(N7).afterClosed().subscribe(i=>this.addToRepertoire(i))})}exportAsPdf(){return te(this,null,function*(){this.pdfService.saveAsPdf(this.tune),this.snackBar.open("PDF will be displayed in separate window","Dismiss",{duration:3e3})})}tuneForDisplay(){return`%%stretchlast
`+this.tune}addToRepertoire(e){return te(this,null,function*(){if(!e)return;let i={bookId:this.bookId,tuneId:this.ref};yield this.repertoireRepository.addRepertoireItem(i,e),this.snackBar.open("Added to repertoire on Google Drive","Dismiss",{duration:3e3})})}consumeRef(e){this.ref=e.get("ref"),this.bookId=e.get("bookId"),this.displayTune(this.bookId,this.ref)}displayTune(e,i){return te(this,null,function*(){if(i!==void 0&&this.index.isReady()){let r=this.index.findEntryByTuneReference({bookId:e,tuneId:i});if(r){this.tune=this.index.getAbc(r),r.tags?this.allTags=r.tags.join(", "):this.allTags="";let o=this.index.getBookById(e);this.prevRef=void 0,this.nextRef=void 0;let a=r.pos-1;a>=0&&(this.prevRef=o.tuneBook.tunes[a].id);let s=r.pos+1;s<o.tuneBook.tunes.length&&(this.nextRef=o.tuneBook.tunes[s].id),yield this.findContainingSetsAndRepertoires(e,i)}}})}findContainingSetsAndRepertoires(e,i){return te(this,null,function*(){if(this.containingSets=[],this.containingRepertoires=[],!this.signedIn)return;let r=yield this.tuneSetRepository.load();this.containingSets=r.sets.filter(a=>a.tunes.some(s=>s.bookId===e&&s.tuneId===i));let o=yield this.repertoireRepository.load();this.containingRepertoires=o.repertoires.filter(a=>a.items.some(s=>s.tune.bookId===e&&s.tune.tuneId===i))})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-tune-page"]],decls:25,vars:17,consts:[["player",""],[1,"player-controls"],[1,"player"],[3,"tune"],[1,"tempo-slider"],[1,"mat-body","tempo-label"],["thumbLabel","","color","accent",3,"min","max"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"tags-form"],[1,"tags"],["name","tags","matInput","","placeholder","Tags",3,"ngModelChange","ngModel","readOnly"],["mat-raised-button","","label","Save","color","primary",1,"search-button",3,"click","disabled"],["mat-raised-button","","color","primary",1,"repertoire-button",3,"click","disabled"],["mat-raised-button","","color","primary",1,"tune-button",3,"click"],["mat-raised-button","","color","primary",1,"tune-button",3,"routerLink","disabled"],[1,"containing-collections"],[1,"mat-h3"],[1,"containing-section"],[1,"mat-body-strong"],[1,"mat-body"],[3,"routerLink"]],template:function(i,r){if(i&1){let o=Ke();x(0,"div",1)(1,"div",2),Ne(2,"app-tune-player",3,0),E(),x(4,"div",4)(5,"mat-label",5),A(6),E(),x(7,"mat-slider",6)(8,"input",7),Nt("ngModelChange",function(s){ge(o);let l=Cn(3);return Lt(l.tempo,s)||(l.tempo=s),ve(s)}),E()()()(),Ne(9,"app-tune-view",3),x(10,"form",8)(11,"mat-form-field",9)(12,"input",10),Nt("ngModelChange",function(s){return ge(o),Lt(r.allTags,s)||(r.allTags=s),ve(s)}),E()(),x(13,"button",11),Y("click",function(){return ge(o),ve(r.save())}),A(14,"Save"),E()(),x(15,"button",12),Y("click",function(){return ge(o),ve(r.openDialog())}),A(16,"Add to repertoire"),E(),x(17,"button",13),Y("click",function(){return ge(o),ve(r.exportAsPdf())}),x(18,"mat-icon"),A(19,"print"),E()(),x(20,"button",14),A(21,"Previous tune"),E(),x(22,"button",14),A(23,"Next tune"),E(),be(24,zue,5,2,"div",15)}if(i&2){let o=Cn(3);M(2),ce("tune",r.tune),M(4),vt("Tempo ",o.tempo),M(),ce("min",50)("max",200),M(),Ot("ngModel",o.tempo),M(),ce("tune",r.tuneForDisplay()),M(3),Ot("ngModel",r.allTags),ce("readOnly",!r.signedIn),M(),ce("disabled",!r.signedIn),M(2),ce("disabled",!r.signedIn),M(5),ce("routerLink",jr("../",r.prevRef))("disabled",!r.prevRef),M(2),ce("routerLink",jr("../",r.nextRef))("disabled",!r.nextRef),M(2),ye(r.signedIn&&(r.containingSets.length>0||r.containingRepertoires.length>0)?24:-1)}},dependencies:[F7,vi,FN,WD,En,Ns,Dn,Wn,Os,pi,Ki,ay,kn,Gn,Vt,ki,ir],encapsulation:2})}return t})();function Uue(t,n){if(t&1&&(x(0,"mat-list-item")(1,"div",1)(2,"div",2),A(3),E(),x(4,"div",3),A(5),E()()()),t&2){let e=n.$implicit,i=Q();M(2),ce("routerLink",Es("../../tune/",i.bookId,"/",e.id)),M(),ht(e.id),M(),ce("routerLink",Es("../../tune/",i.bookId,"/",e.id)),M(),vt(" ",i.titleWithoutNumber(e.title))}}var L7=(()=>{class t{index=m(pn);route=m(Zt);entries=[];bookId;titleWithoutNumber=ls;constructor(){this.index.tuneBookReady.subscribe(e=>this.onReady(e)),this.route.paramMap.subscribe(e=>{this.bookId=e.get("id"),this.onReady(this.bookId)})}bookName(){return this.index.getBookById(this.bookId)?.descriptor.name}onReady(e){e==this.bookId&&(this.entries=this.index.findAllTunesInBook(e))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["app-tunes-list"]],decls:6,vars:1,consts:[[1,"mat-h2"],[1,"tune-row"],[1,"tune-id",3,"routerLink"],[1,"tune-link",3,"routerLink"]],template:function(i,r){i&1&&(x(0,"div")(1,"h2",0),A(2),E(),x(3,"mat-list"),Ut(4,Uue,6,8,"mat-list-item",null,qn),E()()),i&2&&(M(2),ht(r.bookName()),M(2),qt(r.entries))},dependencies:[ca,Wr,ir],encapsulation:2})}return t})();var B7=(()=>{class t{handlers={};shouldDetach(e){let i=e.routeConfig?.path;return!(i==="set/:id"||i==="set/:id/edit")}store(e,i){this.handlers[e.url.join("/")||e.parent.url.join("/")]=i}shouldAttach(e){return!!this.handlers[e.url.join("/")||e.parent.url.join("/")]}retrieve(e){return this.handlers[e.url.join("/")||e.parent.url.join("/")]}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var B2={production:!0};var que="98237286064-bf0vbgpqqklhj434vifvfafvtckaja12.apps.googleusercontent.com",$ue=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],Wue="https://www.googleapis.com/auth/drive.appfolder https://www.googleapis.com/auth/drive.file",Gue={client_id:que,discoveryDocs:$ue,scope:Wue,prompt:""},Yue=[{path:"about",component:GB},{path:"books",component:QB},{path:"createBook",component:KB},{path:"edit/:id",component:O7},{path:"book/:id",component:L7},{path:"print/:id",component:YB},{path:"login",component:XB},{path:"logout",component:ZB},{path:"match/:transcription",component:n7},{path:"practice",component:o7},{path:"record",component:p7},{path:"repertoire/:name",component:P2},{path:"repertoire",component:P2},{path:"search",component:_7},{path:"sets",component:M7},{path:"set/:id",component:A7},{path:"set/:id/edit",component:T7},{path:"tune/:bookId/:ref",component:P7},{path:"",redirectTo:"/search",pathMatch:"full"}];(0,cy.configure)({level:cy.LogLevel.INFO,virtualConsole:!1});B2.production&&void 0;Jx(WB,{providers:[Vm(KF,bf,JP.forRoot({provide:sS,useValue:Gue}),En,p3,wO,Yd,$O,eN,dN,ic,vN,yN,SN,kN,MO,TN,IN,RN,PN,VN,HN,QN,XN,Fd,Gl,ZP.register("ngsw-worker.js",{enabled:B2.production})),Zb,oy,or,zb,il,Xb,_a,$b,ba,{provide:Y_,useClass:B7},ry,to,pn,qb,Ox(Nx()),oS(Yue),yA({eventCoalescing:!0})]}).catch(t=>console.error(t));
