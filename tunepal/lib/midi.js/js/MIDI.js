function MidiFile(e){function t(e){var t=e.read(4),n=e.readInt32();return{id:t,length:n,data:e.read(n)}}function n(e){var t={};t.deltaTime=e.readVarInt();var n=e.readInt8();if(240==(240&n)){if(255==n){t.type="meta";var o=e.readInt8(),i=e.readVarInt();switch(o){case 0:if(t.subtype="sequenceNumber",2!=i)throw"Expected length for sequenceNumber event is 2, got "+i;return t.number=e.readInt16(),t;case 1:return t.subtype="text",t.text=e.read(i),t;case 2:return t.subtype="copyrightNotice",t.text=e.read(i),t;case 3:return t.subtype="trackName",t.text=e.read(i),t;case 4:return t.subtype="instrumentName",t.text=e.read(i),t;case 5:return t.subtype="lyrics",t.text=e.read(i),t;case 6:return t.subtype="marker",t.text=e.read(i),t;case 7:return t.subtype="cuePoint",t.text=e.read(i),t;case 32:if(t.subtype="midiChannelPrefix",1!=i)throw"Expected length for midiChannelPrefix event is 1, got "+i;return t.channel=e.readInt8(),t;case 47:if(t.subtype="endOfTrack",0!=i)throw"Expected length for endOfTrack event is 0, got "+i;return t;case 81:if(t.subtype="setTempo",3!=i)throw"Expected length for setTempo event is 3, got "+i;return t.microsecondsPerBeat=(e.readInt8()<<16)+(e.readInt8()<<8)+e.readInt8(),t;case 84:if(t.subtype="smpteOffset",5!=i)throw"Expected length for smpteOffset event is 5, got "+i;var a=e.readInt8();return t.frameRate={0:24,32:25,64:29,96:30}[96&a],t.hour=31&a,t.min=e.readInt8(),t.sec=e.readInt8(),t.frame=e.readInt8(),t.subframe=e.readInt8(),t;case 88:if(t.subtype="timeSignature",4!=i)throw"Expected length for timeSignature event is 4, got "+i;return t.numerator=e.readInt8(),t.denominator=Math.pow(2,e.readInt8()),t.metronome=e.readInt8(),t.thirtyseconds=e.readInt8(),t;case 89:if(t.subtype="keySignature",2!=i)throw"Expected length for keySignature event is 2, got "+i;return t.key=e.readInt8(!0),t.scale=e.readInt8(),t;case 127:return t.subtype="sequencerSpecific",t.data=e.read(i),t;default:return t.subtype="unknown",t.data=e.read(i),t}return t.data=e.read(i),t}if(240==n){t.type="sysEx";var i=e.readVarInt();return t.data=e.read(i),t}if(247==n){t.type="dividedSysEx";var i=e.readVarInt();return t.data=e.read(i),t}throw"Unrecognised MIDI event type byte: "+n}var s;0==(128&n)?(s=n,n=r):(s=e.readInt8(),r=n);var u=n>>4;switch(t.channel=15&n,t.type="channel",u){case 8:return t.subtype="noteOff",t.noteNumber=s,t.velocity=e.readInt8(),t;case 9:return t.noteNumber=s,t.velocity=e.readInt8(),0==t.velocity?t.subtype="noteOff":t.subtype="noteOn",t;case 10:return t.subtype="noteAftertouch",t.noteNumber=s,t.amount=e.readInt8(),t;case 11:return t.subtype="controller",t.controllerType=s,t.value=e.readInt8(),t;case 12:return t.subtype="programChange",t.programNumber=s,t;case 13:return t.subtype="channelAftertouch",t.amount=s,t;case 14:return t.subtype="pitchBend",t.value=s+(e.readInt8()<<7),t;default:throw"Unrecognised MIDI event type: "+u}}var r;stream=Stream(e);var o=t(stream);if("MThd"!=o.id||6!=o.length)throw"Bad .mid file - header not found";var i=Stream(o.data),a=i.readInt16(),s=i.readInt16(),u=i.readInt16();if(32768&u)throw"Expressing time division in SMTPE frames is not supported yet";ticksPerBeat=u;for(var c={formatType:a,trackCount:s,ticksPerBeat:ticksPerBeat},l=[],d=0;d<c.trackCount;d++){l[d]=[];var f=t(stream);if("MTrk"!=f.id)throw"Unexpected chunk - expected MTrk, got "+f.id;for(var p=Stream(f.data);!p.eof();){var h=n(p);l[d].push(h)}}return{header:c,tracks:l}}function Replayer(e,t,n,r){function o(){for(var t=null,n=null,r=null,o=0;o<a.length;o++)null!=a[o].ticksToNextEvent&&(null==t||a[o].ticksToNextEvent<t)&&(t=a[o].ticksToNextEvent,n=o,r=a[o].nextEventIndex);if(null!=n){var i=e.tracks[n][r];e.tracks[n][r+1]?a[n].ticksToNextEvent+=e.tracks[n][r+1].deltaTime:a[n].ticksToNextEvent=null,a[n].nextEventIndex+=1;for(var o=0;o<a.length;o++)null!=a[o].ticksToNextEvent&&(a[o].ticksToNextEvent-=t);return{ticksToEvent:t,event:i,track:n}}return null}function i(){function e(){u||"meta"!=d.event.type||"setTempo"!=d.event.subtype||(s=6e7/d.event.microsecondsPerBeat);var e=0,n=0;d.ticksToEvent>0&&(e=d.ticksToEvent/c,n=e/(s/60));var r=1e3*n*t||0;f.push([d,r]),d=o()}if(d=o())for(;d;)e(!0)}for(var a=[],s=r?r:120,u=!!r,c=e.header.ticksPerBeat,l=0;l<e.tracks.length;l++)a[l]={nextEventIndex:0,ticksToNextEvent:e.tracks[l].length?e.tracks[l][0].deltaTime:null};var d,f=[];return i(),{getData:function(){return clone(f)}}}function Stream(e){function t(t){var n=e.substr(s,t);return s+=t,n}function n(){var t=(e.charCodeAt(s)<<24)+(e.charCodeAt(s+1)<<16)+(e.charCodeAt(s+2)<<8)+e.charCodeAt(s+3);return s+=4,t}function r(){var t=(e.charCodeAt(s)<<8)+e.charCodeAt(s+1);return s+=2,t}function o(t){var n=e.charCodeAt(s);return t&&n>127&&(n-=256),s+=1,n}function i(){return s>=e.length}function a(){for(var e=0;;){var t=o();if(!(128&t))return e+t;e+=127&t,e<<=7}}var s=0;return{eof:i,read:t,readInt32:n,readInt16:r,readInt8:o,readVarInt:a}}!function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var r,o,i=0,a=n,s="";t.charAt(0|i)||(a="=",i%1);s+=a.charAt(63&r>>8-i%1*8)){if(o=t.charCodeAt(i+=.75),o>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return s}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,i=0,a=0,s="";o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?s+=String.fromCharCode(255&r>>(-2*i&6)):0)o=n.indexOf(o);return s})}();var Base64Binary={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var t=Math.ceil(3*e.length/4),n=new ArrayBuffer(t);return this.decode(e,n),n},decode:function(e,t){var n=this._keyStr.indexOf(e.charAt(e.length-1)),r=this._keyStr.indexOf(e.charAt(e.length-1)),o=Math.ceil(3*e.length/4);64==n&&o--,64==r&&o--;var i,a,s,u,c,l,d,f,p=0,h=0;for(i=t?new Uint8Array(t):new Uint8Array(o),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),p=0;p<o;p+=3)c=this._keyStr.indexOf(e.charAt(h++)),l=this._keyStr.indexOf(e.charAt(h++)),d=this._keyStr.indexOf(e.charAt(h++)),f=this._keyStr.indexOf(e.charAt(h++)),a=c<<2|l>>4,s=(15&l)<<4|d>>2,u=(3&d)<<6|f,i[p]=a,64!=d&&(i[p+1]=s),64!=f&&(i[p+2]=u);return i}};window.AudioContext=window.AudioContext||window.webkitAudioContext||null,window.OfflineAudioContext=window.OfflineAudioContext||window.webkitOfflineAudioContext||null,function(e){var t,n,r,o=function(e){return"[object Function]"===Object.prototype.toString.call(e)||"[object AudioContextConstructor]"===Object.prototype.toString.call(e)},i=[["createGainNode","createGain"],["createDelayNode","createDelay"],["createJavaScriptNode","createScriptProcessor"]];o(e)&&(n=new e,n.destination&&n.sampleRate&&(t=e.prototype,r=Object.getPrototypeOf(n.createBufferSource()),o(r.start)||o(r.noteOn)&&(r.start=function(e,t,n){switch(arguments.length){case 0:throw new Error("Not enough arguments.");case 1:this.noteOn(e);break;case 2:if(!this.buffer)throw new Error("Missing AudioBuffer");this.noteGrainOn(e,t,this.buffer.duration-t);break;case 3:this.noteGrainOn(e,t,n)}}),o(r.noteOn)||(r.noteOn=r.start),o(r.noteGrainOn)||(r.noteGrainOn=r.start),o(r.stop)||(r.stop=r.noteOff),o(r.noteOff)||(r.noteOff=r.stop),i.forEach(function(e){for(var t,n;e.length;)t=e.pop(),o(this[t])?this[e.pop()]=this[t]:(n=e.pop(),this[t]=this[n])},t)))}(window.AudioContext),function(e){"use strict";function t(){}function n(){this.inputInUse=!1,this.outputInUse=!1;var e=document.createElement("object");e.id="_Jazz"+Math.random()+"ie",e.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",this.activeX=e;var t=document.createElement("object");t.id="_Jazz"+Math.random(),t.type="audio/x-jazz",e.appendChild(t),this.objRef=t;var n=document.createElement("p");n.appendChild(document.createTextNode("This page requires the "));var r=document.createElement("a");r.appendChild(document.createTextNode("Jazz plugin")),r.href="http://jazz-soft.net/",n.appendChild(r),n.appendChild(document.createTextNode(".")),t.appendChild(n);var o=document.getElementById("MIDIPlugin");if(!o){var o=document.createElement("div");o.id="MIDIPlugin",o.style.position="absolute",o.style.visibility="hidden",o.style.left="-9999px",o.style.top="-9999px",document.body.appendChild(o)}o.appendChild(e),this.objRef.isJazz?this._Jazz=this.objRef:this.activeX.isJazz?this._Jazz=this.activeX:this._Jazz=null,this._Jazz&&(this._Jazz._jazzTimeZero=this._Jazz.Time(),this._Jazz._perfTimeZero=window.performance.now())}function r(){this._promise&&this._promise.fail({code:1})}function o(){this.jazz.MidiOutLong(this.data)}var i,a,s,u,c,l;t.prototype.then=function(e,t){this.accept=e,this.reject=t},t.prototype.succeed=function(e){this.accept&&this.accept(e)},t.prototype.fail=function(e){this.reject&&this.reject(e)},i=function(){var e=new a;return e._promise},a=function(){this._jazzInstances=new Array,this._jazzInstances.push(new n),this._promise=new t,this._jazzInstances[0]._Jazz?(this._Jazz=this._jazzInstances[0]._Jazz,window.setTimeout(s.bind(this),3)):window.setTimeout(r.bind(this),3)},s=function(){this._promise&&this._promise.succeed(this)},a.prototype.inputs=function(){if(!this._Jazz)return null;for(var e=this._Jazz.MidiInList(),t=new Array(e.length),n=0;n<e.length;n++)t[n]=new u(this,e[n],n);return t},a.prototype.outputs=function(){if(!this._Jazz)return null;for(var e=this._Jazz.MidiOutList(),t=new Array(e.length),n=0;n<e.length;n++)t[n]=new c(this,e[n],n);return t},u=function(e,t,r){this._listeners=[],this._midiAccess=e,this._index=r,this._inLongSysexMessage=!1,this._sysexBuffer=new Uint8Array,this.id=""+r+"."+t,this.manufacturer="",this.name=t,this.type="input",this.version="",this.onmidimessage=null;for(var o=null,i=0;i<e._jazzInstances.length&&!o;i++)e._jazzInstances[i].inputInUse||(o=e._jazzInstances[i]);o||(o=new n,e._jazzInstances.push(o)),o.inputInUse=!0,this._jazzInstance=o._Jazz,this._input=this._jazzInstance.MidiInOpen(this._index,l.bind(this))},u.prototype.addEventListener=function(e,t,n){if("midimessage"===e){for(var r=0;r<this._listeners.length;r++)if(this._listeners[r]==t)return;this._listeners.push(t)}},u.prototype.removeEventListener=function(e,t,n){if("midimessage"===e)for(var r=0;r<this._listeners.length;r++)if(this._listeners[r]==t)return void this._listeners.splice(r,1)},u.prototype.preventDefault=function(){this._pvtDef=!0},u.prototype.dispatchEvent=function(e){this._pvtDef=!1;for(var t=0;t<this._listeners.length;t++)this._listeners[t].handleEvent?this._listeners[t].handleEvent.bind(this)(e):this._listeners[t].bind(this)(e);return this.onmidimessage&&this.onmidimessage(e),this._pvtDef},u.prototype.appendToSysexBuffer=function(e){var t=this._sysexBuffer.length,n=new Uint8Array(t+e.length);n.set(this._sysexBuffer),n.set(e,t),this._sysexBuffer=n},u.prototype.bufferLongSysex=function(e,t){for(var n=t;n<e.length;){if(247==e[n])return n++,this.appendToSysexBuffer(e.slice(t,n)),n;n++}return this.appendToSysexBuffer(e.slice(t,n)),this._inLongSysexMessage=!0,n},l=function(e,t){var n,r=0,o=!1;for(n=0;n<t.length;n+=r){if(this._inLongSysexMessage){if(n=this.bufferLongSysex(t,n),247!=t[n-1])return;o=!0}else switch(o=!1,240&t[n]){case 128:case 144:case 160:case 176:case 224:r=3;break;case 192:case 208:r=2;break;case 240:switch(t[n]){case 240:if(n=this.bufferLongSysex(t,n),247!=t[n-1])return;o=!0;break;case 241:case 243:r=2;break;case 242:r=3;break;default:r=1}}var i=document.createEvent("Event");i.initEvent("midimessage",!1,!1),i.receivedTime=parseFloat(e.toString())+this._jazzInstance._perfTimeZero,o||this._inLongSysexMessage?(i.data=new Uint8Array(this._sysexBuffer),this._sysexBuffer=new Uint8Array(0),this._inLongSysexMessage=!1):i.data=new Uint8Array(t.slice(n,r+n)),this.dispatchEvent(i)}},c=function(e,t,r){this._listeners=[],this._midiAccess=e,this._index=r,this.id=""+r+"."+t,this.manufacturer="",this.name=t,this.type="output",this.version="";for(var o=null,i=0;i<e._jazzInstances.length&&!o;i++)e._jazzInstances[i].outputInUse||(o=e._jazzInstances[i]);o||(o=new n,e._jazzInstances.push(o)),o.outputInUse=!0,this._jazzInstance=o._Jazz,this._jazzInstance.MidiOutOpen(this.name)},c.prototype.send=function(e,t){var n=0;if(0===e.length)return!1;if(t&&(n=Math.floor(t-window.performance.now())),t&&n>1){var r=new Object;r.jazz=this._jazzInstance,r.data=e,window.setTimeout(o.bind(r),n)}else this._jazzInstance.MidiOutLong(e);return!0},window.navigator.requestMIDIAccess||(window.navigator.requestMIDIAccess=i)}(window),function(e){function t(){for(var t=["moz","webkit","o","ms"],n=t.length,r={value:function(e){return function(){return Date.now()-e}}(Date.now())};n>=0;n--)if(t[n]+"Now"in e.performance)return r.value=function(t){return function(){e.performance[t]()}}(t[n]+"Now"),r;return"timing"in e.performance&&"connectStart"in e.performance.timing&&(r.value=function(e){return function(){Date.now()-e}}(e.performance.timing.connectStart)),r}var n,r={};"performance"in e&&"now"in e.performance||("performance"in e||Object.defineProperty(e,"performance",{get:function(){return r}}),n=t(),Object.defineProperty(e.performance,"now",n))}(window);var clone=function(e){if("object"!=typeof e)return e;if(null==e)return e;var t="number"==typeof e.length?[]:{};for(var n in e)t[n]=clone(e[n]);return t};if("undefined"==typeof MIDI&&(MIDI={}),function(e){"use strict";var t={},n=0,r=function(e){n++;var r=document.body,o=new Audio,i=e.split(";")[0];o.id="audio",o.setAttribute("preload","auto"),o.setAttribute("audiobuffer",!0),o.addEventListener("error",function(){r.removeChild(o),t[i]=!1,n--},!1),o.addEventListener("canplaythrough",function(){r.removeChild(o),t[i]=!0,n--},!1),o.src="data:"+e,r.appendChild(o)};e.audioDetect=function(e){if(navigator.requestMIDIAccess){var o=Function.prototype.toString.call(navigator.requestMIDIAccess).indexOf("[native code]");if(o)t.webmidi=!0;else for(var i=0;navigator.plugins.length>i;i++){var a=navigator.plugins[i];a.name.indexOf("Jazz-Plugin")>=0&&(t.webmidi=!0)}}if("undefined"==typeof Audio)return e({});t.audiotag=!0,(window.AudioContext||window.webkitAudioContext)&&(t.webaudio=!0);var s=new Audio;if("undefined"==typeof s.canPlayType)return e(t);var u=s.canPlayType('audio/ogg; codecs="vorbis"');u="probably"===u||"maybe"===u;var c=s.canPlayType("audio/mpeg");if(c="probably"===c||"maybe"===c,!u&&!c)return void e(t);u&&r("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA="),c&&r("audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");var l=(new Date).getTime(),d=window.setInterval(function(){var r=(new Date).getTime(),o=r-l>5e3;n&&!o||(window.clearInterval(d),e(t))},1)}}(MIDI),function(e){"use strict";e.GM=function(e){var t=function(e){return e.replace(/[^a-z0-9 ]/gi,"").replace(/[ ]/g,"_").toLowerCase()},n={byName:{},byId:{},byCategory:{}};for(var r in e)for(var o=e[r],i=0,a=o.length;i<a;i++){var s=o[i];if(s){var u=parseInt(s.substr(0,s.indexOf(" ")),10);s=s.replace(u+" ",""),n.byId[--u]=n.byName[t(s)]=n.byCategory[t(r)]={id:t(s),instrument:s,number:u,category:r}}}return n}({Piano:["1 Acoustic Grand Piano","2 Bright Acoustic Piano","3 Electric Grand Piano","4 Honky-tonk Piano","5 Electric Piano 1","6 Electric Piano 2","7 Harpsichord","8 Clavinet"],"Chromatic Percussion":["9 Celesta","10 Glockenspiel","11 Music Box","12 Vibraphone","13 Marimba","14 Xylophone","15 Tubular Bells","16 Dulcimer"],Organ:["17 Drawbar Organ","18 Percussive Organ","19 Rock Organ","20 Church Organ","21 Reed Organ","22 Accordion","23 Harmonica","24 Tango Accordion"],Guitar:["25 Acoustic Guitar (nylon)","26 Acoustic Guitar (steel)","27 Electric Guitar (jazz)","28 Electric Guitar (clean)","29 Electric Guitar (muted)","30 Overdriven Guitar","31 Distortion Guitar","32 Guitar Harmonics"],Bass:["33 Acoustic Bass","34 Electric Bass (finger)","35 Electric Bass (pick)","36 Fretless Bass","37 Slap Bass 1","38 Slap Bass 2","39 Synth Bass 1","40 Synth Bass 2"],Strings:["41 Violin","42 Viola","43 Cello","44 Contrabass","45 Tremolo Strings","46 Pizzicato Strings","47 Orchestral Harp","48 Timpani"],Ensemble:["49 String Ensemble 1","50 String Ensemble 2","51 Synth Strings 1","52 Synth Strings 2","53 Choir Aahs","54 Voice Oohs","55 Synth Choir","56 Orchestra Hit"],Brass:["57 Trumpet","58 Trombone","59 Tuba","60 Muted Trumpet","61 French Horn","62 Brass Section","63 Synth Brass 1","64 Synth Brass 2"],Reed:["65 Soprano Sax","66 Alto Sax","67 Tenor Sax","68 Baritone Sax","69 Oboe","70 English Horn","71 Bassoon","72 Clarinet"],Pipe:["73 Piccolo","74 Flute","75 Recorder","76 Pan Flute","77 Blown Bottle","78 Shakuhachi","79 Whistle","80 Ocarina"],"Synth Lead":["81 Lead 1 (square)","82 Lead 2 (sawtooth)","83 Lead 3 (calliope)","84 Lead 4 (chiff)","85 Lead 5 (charang)","86 Lead 6 (voice)","87 Lead 7 (fifths)","88 Lead 8 (bass + lead)"],"Synth Pad":["89 Pad 1 (new age)","90 Pad 2 (warm)","91 Pad 3 (polysynth)","92 Pad 4 (choir)","93 Pad 5 (bowed)","94 Pad 6 (metallic)","95 Pad 7 (halo)","96 Pad 8 (sweep)"],"Synth Effects":["97 FX 1 (rain)","98 FX 2 (soundtrack)","99 FX 3 (crystal)","100 FX 4 (atmosphere)","101 FX 5 (brightness)","102 FX 6 (goblins)","103 FX 7 (echoes)","104 FX 8 (sci-fi)"],Ethnic:["105 Sitar","106 Banjo","107 Shamisen","108 Koto","109 Kalimba","110 Bagpipe","111 Fiddle","112 Shanai"],Percussive:["113 Tinkle Bell","114 Agogo","115 Steel Drums","116 Woodblock","117 Taiko Drum","118 Melodic Tom","119 Synth Drum"],"Sound effects":["120 Reverse Cymbal","121 Guitar Fret Noise","122 Breath Noise","123 Seashore","124 Bird Tweet","125 Telephone Ring","126 Helicopter","127 Applause","128 Gunshot"]}),e.getInstrument=function(t){var n=e.channels[t];return n&&n.instrument},e.setInstrument=function(t,n,r){var o=e.channels[t];return r?setTimeout(function(){o.instrument=n},r):void(o.instrument=n)},e.getMono=function(t){var n=e.channels[t];return n&&n.mono},e.setMono=function(t,n,r){var o=e.channels[t];return r?setTimeout(function(){o.mono=n},r):void(o.mono=n)},e.getOmni=function(t){var n=e.channels[t];return n&&n.omni},e.setOmni=function(t,n){var r=e.channels[t];return delay?setTimeout(function(){r.omni=n},delay):void(r.omni=n)},e.getSolo=function(t){var n=e.channels[t];return n&&n.solo},e.setSolo=function(t,n){var r=e.channels[t];return delay?setTimeout(function(){r.solo=n},delay):void(r.solo=n)},e.channels=function(){for(var e={},t=0;t<16;t++)e[t]={instrument:t,pitchBend:0,mute:!1,mono:!1,omni:!1,solo:!1};return e}(),e.keyToNote={},e.noteToKey={},function(){for(var t=21,n=108,r=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],o=t;o<=n;o++){var i=(o-12)/12>>0,a=r[o%12]+i;e.keyToNote[a]=o,e.noteToKey[o]=a}}()}(MIDI),"undefined"==typeof MIDI&&(MIDI={}),MIDI.Soundfont=MIDI.Soundfont||{},MIDI.Player=MIDI.Player||{},function(e){"use strict";e.DEBUG=!0,e.USE_XHR=!0,e.soundfontUrl="./soundfont/",e.loadPlugin=function(n){"function"==typeof n&&(n={onsuccess:n}),e.soundfontUrl=n.soundfontUrl||e.soundfontUrl,e.audioDetect(function(r){var o=window.location.hash,i="";if(r[n.api]?i=n.api:r[o.substr(1)]?i=o.substr(1):r.webmidi?i="webmidi":window.AudioContext?i="webaudio":window.Audio&&(i="audiotag"),t[i]){if(n.targetFormat)var a=n.targetFormat;else var a=r["audio/ogg"]?"ogg":"mp3";e.__api=i,e.__audioFormat=a,e.supports=r,e.loadResource(n)}})},e.loadResource=function(n){var r=n.instruments||n.instrument||"acoustic_grand_piano";"object"!=typeof r&&(r=r||0===r?[r]:[]);for(var o=0;o<r.length;o++){var i=r[o];i===+i&&e.GM.byId[i]&&(r[o]=e.GM.byId[i].id)}n.format=e.__audioFormat,n.instruments=r,t[e.__api](n)};var t={webmidi:function(t){e.WebMIDI.connect(t)},audiotag:function(e){n(e,"AudioTag")},webaudio:function(e){n(e,"WebAudio")}},n=function(t,n){for(var o=t.format,i=t.instruments,a=t.onprogress,s=t.onerror,u=i.length,c=u,l=function(){--c||(a&&a("load",1),e[n].connect(t))},d=0;d<u;d++){var f=i[d];MIDI.Soundfont[f]?l():r(i[d],o,function(e,t){var n=t/u,r=(u-c)/u;a&&a("load",n+r,f)},function(){l()},s)}},r=function(t,n,r,o,i){var a=e.soundfontUrl+t+"-"+n+".js";e.USE_XHR?e.util.request({url:a,format:"text",onerror:i,onprogress:r,onsuccess:function(e,t){var n=document.createElement("script");n.language="javascript",n.type="text/javascript",n.text=t,document.body.appendChild(n),o()}}):dom.loadScript.add({url:a,verify:'MIDI.Soundfont["'+t+'"]',onerror:i,onsuccess:function(){o()}})};e.setDefaultPlugin=function(t){for(var n in t)e[n]=t[n]}}(MIDI),"undefined"==typeof MIDI&&(MIDI={}),"undefined"==typeof MIDI.Player&&(MIDI.Player={}),function(){"use strict";var e=MIDI.Player;e.currentTime=0,e.endTime=0,e.restart=0,e.playing=!1,e.timeWarp=1,e.startDelay=0,e.BPM=120,e.start=e.resume=function(t){e.currentTime<-1&&(e.currentTime=-1),d(e.currentTime,null,t)},e.pause=function(){var t=e.restart;f(),e.restart=t},e.stop=function(){f(),e.restart=0,e.currentTime=0},e.addListener=function(e){a=e},e.removeListener=function(){a=void 0},e.clearAnimation=function(){e.animationFrameId&&cancelAnimationFrame(e.animationFrameId)},e.setAnimation=function(t){var n=0,r=0,o=0;e.clearAnimation();var a=function(){if(e.animationFrameId=requestAnimationFrame(a),0!==e.endTime){e.playing?(n=o===e.currentTime?r-Date.now():0,n=0===e.currentTime?0:e.currentTime-n,o!==e.currentTime&&(r=Date.now(),o=e.currentTime)):n=e.currentTime;var s=e.endTime,u=n/1e3,c=u/60,l=u-60*c,d=60*c+l,f=s/1e3;f-d<-1||t({now:d,end:f,events:i})}};requestAnimationFrame(a)},e.loadMidiFile=function(t,n,r){try{e.replayer=new Replayer(MidiFile(e.currentData),e.timeWarp,null,e.BPM),e.data=e.replayer.getData(),e.endTime=c(),MIDI.loadPlugin({onsuccess:t,onprogress:n,onerror:r})}catch(o){r&&r(o)}},e.loadFile=function(t,n,r,o){if(e.stop(),t.indexOf("base64,")!==-1){var i=window.atob(t.split(",")[1]);e.currentData=i,e.loadMidiFile(n,r,o)}else{var a=new XMLHttpRequest;a.open("GET",t),a.overrideMimeType("text/plain; charset=x-user-defined"),a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){for(var t=this.responseText||"",i=[],a=t.length,s=String.fromCharCode,u=0;u<a;u++)i[u]=s(255&t.charCodeAt(u));var c=i.join("");e.currentData=c,e.loadMidiFile(n,r,o)}else o&&o("Unable to load MIDI file")},a.send()}},e.getFileInstruments=function(){for(var t={},n={},r=0;r<e.data.length;r++){var o=e.data[r][0].event;if("channel"===o.type){var i=o.channel;switch(o.subtype){case"controller":break;case"programChange":n[i]=o.programNumber;break;case"noteOn":var a=n[i],s=MIDI.GM.byId[isFinite(a)?a:i];t[s.id]=!0}}}var u=[];for(var c in t)u.push(c);return u};var t,n,r=[],o=0,i={},a=void 0,s=function(n,o,s,u,c,l,f){return setTimeout(function(){var u={channel:n,note:o,now:s,end:e.endTime,message:c,velocity:l};128===c?delete i[o]:i[o]=u,a&&a(u),e.currentTime=s,r.shift(),r.length<1e3?d(t,!0):e.currentTime===t&&t<e.endTime&&d(t,!0)},s-u)},u=function(){return"webaudio"===MIDI.api?MIDI.WebAudio.getContext():(e.ctx={currentTime:0},e.ctx)},c=function(){for(var t=e.data,n=t.length,r=.5,o=0;o<n;o++)r+=t[o][1];return r},l=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()},d=function(i,a,d){if(e.replayer){a||("undefined"==typeof i&&(i=e.restart),e.playing&&f(),e.playing=!0,e.data=e.replayer.getData(),e.endTime=c());var p,h=0,m=0,g=e.data,v=u(),A=g.length;t=.5;var y=(r[0]&&r[0].interval||0,i-e.currentTime);if("webaudio"!==MIDI.api){var b=l();n=n||b,v.currentTime=(b-n)/1e3}o=v.currentTime;for(var w=0;w<A&&m<100;w++){var I=g[w];if((t+=I[1])<=i)h=t;else{i=t-h;var q=I[0].event;if("channel"===q.type){var S=q.channel,F=MIDI.channels[S],T=v.currentTime+(i+y+e.startDelay)/1e3,x=t-h+e.startDelay;switch(q.subtype){case"controller":MIDI.setController(S,q.controllerType,q.value,T);break;case"programChange":MIDI.programChange(S,q.programNumber,T);break;case"pitchBend":MIDI.pitchBend(S,q.value,T);break;case"noteOn":if(F.mute)break;p=q.noteNumber-(e.MIDIOffset||0),r.push({event:q,time:x,source:MIDI.noteOn(S,q.noteNumber,q.velocity,T),interval:s(S,p,t+e.startDelay,h-y,144,q.velocity)}),m++;break;case"noteOff":if(F.mute)break;p=q.noteNumber-(e.MIDIOffset||0),r.push({event:q,time:x,source:MIDI.noteOff(S,q.noteNumber,T),interval:s(S,p,t,h-y,128,0)})}}}}d&&d(r)}},f=function(){var t=u();for(e.playing=!1,e.restart+=1e3*(t.currentTime-o);r.length;){var n=r.pop();window.clearInterval(n.interval),n.source&&("number"==typeof n.source?window.clearTimeout(n.source):n.source.disconnect(0))}for(var s in i){var n=i[s];144===i[s].message&&a&&a({channel:n.channel,note:n.note,now:n.now,end:n.end,message:128,velocity:n.velocity})}i={}}}(),function(e){"use strict";window.Audio&&function(){for(var t=e.AudioTag={api:"audiotag"},n={},r=127,o=-1,i=[],a=[],s={},u=0;u<12;u++)i[u]=new Audio;var c=function(t,n){if(e.channels[t]){var u=e.channels[t].instrument,c=e.GM.byId[u].id,n=s[n];if(n){var l=c+""+n.id,d=(o+1)%i.length,f=i[d];if(a[d]=l,!e.Soundfont[c])return void e.DEBUG;f.src=e.Soundfont[c][n.id],f.volume=r/127,f.play(),o=d}}},l=function(t,n){if(e.channels[t]){var r=e.channels[t].instrument,u=e.GM.byId[r].id,n=s[n];if(n)for(var c=u+""+n.id,l=0,d=i.length;l<d;l++){var f=(l+o+1)%d,p=a[f];if(p&&p==c)return i[f].pause(),void(a[f]=null)}}};t.audioBuffers=i,t.send=function(e,t){},t.setController=function(e,t,n,r){},t.setVolume=function(e,t){r=t},t.programChange=function(t,n){e.channels[t].instrument=n},t.pitchBend=function(e,t,n){},t.noteOn=function(e,t,r,o){var i=n[t];if(s[i])return o?setTimeout(function(){c(e,i)},1e3*o):void c(e,i)},t.noteOff=function(e,t,n){},t.chordOn=function(e,t,r,o){for(var i=0;i<t.length;i++){var a=t[i],u=n[a];if(s[u]){if(o)return setTimeout(function(){c(e,u)},1e3*o);c(e,u)}}},t.chordOff=function(e,t,r){for(var o=0;o<t.length;o++){var i=t[o],a=n[i];if(s[a]){if(r)return setTimeout(function(){l(e,a)},1e3*r);l(e,a)}}},t.stopAllNotes=function(){for(var e=0,t=i.length;e<t;e++)i[e].pause()},t.connect=function(r){e.setDefaultPlugin(t);for(var o in e.keyToNote)n[e.keyToNote[o]]=o,s[o]={id:o};r.onsuccess&&r.onsuccess()}}()}(MIDI),function(e){"use strict";window.AudioContext&&function(){function t(e,t,n){if(o){var i=new Audio;i.src=e,i.controls=!1,i.autoplay=!1,i.preload=!1,i.addEventListener("canplay",function(){t&&t(i)}),i.addEventListener("error",function(e){n&&n(e)}),document.body.appendChild(i)}else if(0===e.indexOf("data:audio")){var a=e.split(",")[1],s=Base64Binary.decodeArrayBuffer(a);r.decodeAudioData(s,t,n)}else{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=function(){r.decodeAudioData(u.response,t,n)},u.send()}}function n(){return new(window.AudioContext||window.webkitAudioContext)}var r,o=!1,i=e.WebAudio={api:"webaudio"},a={},s={},u=127,c={};i.audioBuffers=c,i.send=function(e,t){},i.setController=function(e,t,n,r){},i.setVolume=function(e,t,n){n?setTimeout(function(){u=t},1e3*n):u=t},i.programChange=function(t,n,r){var o=e.channels[t];o.instrument=n},i.pitchBend=function(t,n,r){var o=e.channels[t];o.pitchBend=n},i.noteOn=function(t,n,i,l){l=l||0;var d=e.channels[t],f=d.instrument,p=f+""+n,h=c[p];if(h){if(l<r.currentTime&&(l+=r.currentTime),o)var m=r.createMediaElementSource(h);else{var m=r.createBufferSource();m.buffer=h}if(s){var g=m;for(var v in s)g.connect(s[v].input),g=s[v]}var A=i/127*(u/127)*2-1;if(m.connect(r.destination),m.playbackRate.value=1,m.gainNode=r.createGain(),m.gainNode.connect(r.destination),m.gainNode.gain.value=Math.min(1,Math.max(-1,A)),m.connect(m.gainNode),o){if(l)return setTimeout(function(){h.currentTime=0,h.play()},1e3*l);h.currentTime=0,h.play()}else m.start(l||0);return a[t+""+n]=m,m}},i.noteOff=function(t,n,i){i=i||0;var s=e.channels[t],u=s.instrument,l=u+""+n,d=c[l];if(d){i<r.currentTime&&(i+=r.currentTime);var f=a[t+""+n];if(f){if(f.gainNode){var p=f.gainNode.gain;p.linearRampToValueAtTime(p.value,i),p.linearRampToValueAtTime(-1,i+.3)}return o?i?setTimeout(function(){d.pause()},1e3*i):d.pause():f.noteOff?f.noteOff(i+.5):f.stop(i+.5),delete a[t+""+n],f}}},i.chordOn=function(e,t,n,r){for(var o,a={},s=0,u=t.length;s<u;s++)a[o=t[s]]=i.noteOn(e,o,n,r);return a},i.chordOff=function(e,t,n){for(var r,o={},a=0,s=t.length;a<s;a++)o[r=t[a]]=i.noteOff(e,r,n);return o},i.stopAllNotes=function(){for(var e in a){var t=0;t<r.currentTime&&(t+=r.currentTime);var n=a[e];n.gain.linearRampToValueAtTime(1,t),n.gain.linearRampToValueAtTime(0,t+.3),n.noteOff?n.noteOff(t+.3):n.stop(t+.3),delete a[e]}},i.setEffects=function(e){if(r.tunajs)for(var t=0;t<e.length;t++){var n=e[t],o=new r.tunajs[n.type](n);o.connect(r.destination),s[n.type]=o}},i.connect=function(t){e.setDefaultPlugin(i),i.setContext(r||n(),t.onsuccess)},i.getContext=function(){return r},i.setContext=function(n,o,i,a){r=n,"undefined"==typeof Tuna||r.tunajs||(r.tunajs=new Tuna(r));
var s=[],u=e.keyToNote;for(var l in u)s.push(l);var d=function(e){for(var t in p)if(p[t])return;o&&(o(),o=null)},f=function(n,r,o,i){var a=n[i];a&&(p[r]++,t(a,function(t){t.id=i;var o=e.keyToNote[i];if(c[r+""+o]=t,0===--p[r]){n.isLoaded=!0,d(h)}},function(e){}))},p={};for(var h in e.Soundfont){var m=e.Soundfont[h];if(!m.isLoaded){var g=e.GM.byName[h],v=g.number;p[v]=0;for(var A=0;A<s.length;A++){var l=s[A];f(m,v,A,l)}}}setTimeout(d,1)}}()}(MIDI),function(e){"use strict";var t=null,n=null,r=e.WebMIDI={api:"webmidi"};r.send=function(e,t){n.send(e,1e3*t)},r.setController=function(e,t,r,o){n.send([e,t,r],1e3*o)},r.setVolume=function(e,t,r){n.send([176+e,7,t],1e3*r)},r.programChange=function(e,t,r){n.send([192+e,t],1e3*r)},r.pitchBend=function(e,t,r){n.send([224+e,t],1e3*r)},r.noteOn=function(e,t,r,o){n.send([144+e,t,r],1e3*o)},r.noteOff=function(e,t,r){n.send([128+e,t,0],1e3*r)},r.chordOn=function(e,t,r,o){for(var i=0;i<t.length;i++){var a=t[i];n.send([144+e,a,r],1e3*o)}},r.chordOff=function(e,t,r){for(var o=0;o<t.length;o++){var i=t[o];n.send([128+e,i,0],1e3*r)}},r.stopAllNotes=function(){n.cancel();for(var e=0;e<16;e++)n.send([176+e,123,0])},r.connect=function(o){e.setDefaultPlugin(r);var i=function(t){if(window.AudioContext)o.api="webaudio";else{if(!window.Audio)return;o.api="audiotag"}e.loadPlugin(o)};navigator.requestMIDIAccess().then(function(e){t=e;var r=t.outputs;n="function"==typeof r?r()[0]:r[0],void 0===n?i():o.onsuccess&&o.onsuccess()},i)}}(MIDI),"undefined"==typeof MIDI)var MIDI={};if(MIDI.Synesthesia=MIDI.Synesthesia||{},function(e){e.data={"Isaac Newton (1704)":{format:"HSL",ref:"Gerstner, p.167",english:["red",null,"orange",null,"yellow","green",null,"blue",null,"indigo",null,"violet"],0:[0,96,51],1:[0,0,0],2:[29,94,52],3:[0,0,0],4:[60,90,60],5:[135,76,32],6:[0,0,0],7:[248,82,28],8:[0,0,0],9:[302,88,26],10:[0,0,0],11:[325,84,46]},"Louis Bertrand Castel (1734)":{format:"HSL",ref:"Peacock, p.400",english:["blue","blue-green","green","olive green","yellow","yellow-orange","orange","red","crimson","violet","agate","indigo"],0:[248,82,28],1:[172,68,34],2:[135,76,32],3:[79,59,36],4:[60,90,60],5:[49,90,60],6:[29,94,52],7:[360,96,51],8:[1,89,33],9:[325,84,46],10:[273,80,27],11:[302,88,26]},"George Field (1816)":{format:"HSL",ref:"Klein, p.69",english:["blue",null,"purple",null,"red","orange",null,"yellow",null,"yellow green",null,"green"],0:[248,82,28],1:[0,0,0],2:[302,88,26],3:[0,0,0],4:[360,96,51],5:[29,94,52],6:[0,0,0],7:[60,90,60],8:[0,0,0],9:[79,59,36],10:[0,0,0],11:[135,76,32]},"D. D. Jameson (1844)":{format:"HSL",ref:"Jameson, p.12",english:["red","red-orange","orange","orange-yellow","yellow","green","green-blue","blue","blue-purple","purple","purple-violet","violet"],0:[360,96,51],1:[14,91,51],2:[29,94,52],3:[49,90,60],4:[60,90,60],5:[135,76,32],6:[172,68,34],7:[248,82,28],8:[273,80,27],9:[302,88,26],10:[313,78,37],11:[325,84,46]},"Theodor Seemann (1881)":{format:"HSL",ref:"Klein, p.86",english:["carmine","scarlet","orange","yellow-orange","yellow","green","green blue","blue","indigo","violet","brown","black"],0:[0,58,26],1:[360,96,51],2:[29,94,52],3:[49,90,60],4:[60,90,60],5:[135,76,32],6:[172,68,34],7:[248,82,28],8:[302,88,26],9:[325,84,46],10:[0,58,26],11:[0,0,3]},"A. Wallace Rimington (1893)":{format:"HSL",ref:"Peacock, p.402",english:["deep red","crimson","orange-crimson","orange","yellow","yellow-green","green","blueish green","blue-green","indigo","deep blue","violet"],0:[360,96,51],1:[1,89,33],2:[14,91,51],3:[29,94,52],4:[60,90,60],5:[79,59,36],6:[135,76,32],7:[163,62,40],8:[172,68,34],9:[302,88,26],10:[248,82,28],11:[325,84,46]},"Bainbridge Bishop (1893)":{format:"HSL",ref:"Bishop, p.11",english:["red","orange-red or scarlet","orange","gold or yellow-orange","yellow or green-gold","yellow-green","green","greenish-blue or aquamarine","blue","indigo or violet-blue","violet","violet-red","red"],0:[360,96,51],1:[1,89,33],2:[29,94,52],3:[50,93,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[163,62,40],8:[302,88,26],9:[325,84,46],10:[343,79,47],11:[360,96,51]},"H. von Helmholtz (1910)":{format:"HSL",ref:"Helmholtz, p.22",english:["yellow","green","greenish blue","cayan-blue","indigo blue","violet","end of red","red","red","red","red orange","orange"],0:[60,90,60],1:[135,76,32],2:[172,68,34],3:[211,70,37],4:[302,88,26],5:[325,84,46],6:[330,84,34],7:[360,96,51],8:[10,91,43],9:[10,91,43],10:[8,93,51],11:[28,89,50]},"Alexander Scriabin (1911)":{format:"HSL",ref:"Jones, p.104",english:["red","violet","yellow","steely with the glint of metal","pearly blue the shimmer of moonshine","dark red","bright blue","rosy orange","purple","green","steely with a glint of metal","pearly blue the shimmer of moonshine"],0:[360,96,51],1:[325,84,46],2:[60,90,60],3:[245,21,43],4:[211,70,37],5:[1,89,33],6:[248,82,28],7:[29,94,52],8:[302,88,26],9:[135,76,32],10:[245,21,43],11:[211,70,37]},"Adrian Bernard Klein (1930)":{format:"HSL",ref:"Klein, p.209",english:["dark red","red","red orange","orange","yellow","yellow green","green","blue-green","blue","blue violet","violet","dark violet"],0:[0,91,40],1:[360,96,51],2:[14,91,51],3:[29,94,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[172,68,34],8:[248,82,28],9:[292,70,31],10:[325,84,46],11:[330,84,34]},"August Aeppli (1940)":{format:"HSL",ref:"Gerstner, p.169",english:["red",null,"orange",null,"yellow",null,"green","blue-green",null,"ultramarine blue","violet","purple"],0:[0,96,51],1:[0,0,0],2:[29,94,52],3:[0,0,0],4:[60,90,60],5:[0,0,0],6:[135,76,32],7:[172,68,34],8:[0,0,0],9:[211,70,37],10:[273,80,27],11:[302,88,26]},"I. J. Belmont (1944)":{ref:"Belmont, p.226",english:["red","red-orange","orange","yellow-orange","yellow","yellow-green","green","blue-green","blue","blue-violet","violet","red-violet"],0:[360,96,51],1:[14,91,51],2:[29,94,52],3:[50,93,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[172,68,34],8:[248,82,28],9:[313,78,37],10:[325,84,46],11:[338,85,37]},"Steve Zieverink (2004)":{format:"HSL",ref:"Cincinnati Contemporary Art Center",english:["yellow-green","green","blue-green","blue","indigo","violet","ultra violet","infra red","red","orange","yellow-white","yellow"],0:[73,73,55],1:[135,76,32],2:[172,68,34],3:[248,82,28],4:[302,88,26],5:[325,84,46],6:[326,79,24],7:[1,89,33],8:[360,96,51],9:[29,94,52],10:[62,78,74],11:[60,90,60]},"Circle of Fifths (Johnston 2003)":{format:"RGB",ref:"Joseph Johnston",english:["yellow","blue","orange","teal","red","green","purple","light orange","light blue","dark orange","dark green","violet"],0:[255,255,0],1:[50,0,255],2:[255,150,0],3:[0,210,180],4:[255,0,0],5:[130,255,0],6:[150,0,200],7:[255,195,0],8:[30,130,255],9:[255,100,0],10:[0,200,0],11:[225,0,225]},"Circle of Fifths (Wheatman 2002)":{format:"HEX",ref:"Stuart Wheatman",english:[],data:["#122400","#2E002E","#002914","#470000","#002142","#2E2E00","#290052","#003D00","#520029","#003D3D","#522900","#000080","#244700","#570057","#004D26","#7A0000","#003B75","#4C4D00","#47008F","#006100","#850042","#005C5C","#804000","#0000C7","#366B00","#80007F","#00753B","#B80000","#0057AD","#6B6B00","#6600CC","#008A00","#B8005C","#007F80","#B35900","#2424FF","#478F00","#AD00AD","#00994D","#F00000","#0073E6","#8F8F00","#8A14FF","#00AD00","#EB0075","#00A3A3","#E07000","#6B6BFF","#5CB800","#DB00DB","#00C261","#FF5757","#3399FF","#ADAD00","#B56BFF","#00D600","#FF57AB","#00C7C7","#FF9124","#9999FF","#6EDB00","#FF29FF","#00E070","#FF9999","#7ABDFF","#D1D100","#D1A3FF","#00FA00","#FFA3D1","#00E5E6","#FFC285","#C2C2FF","#80FF00","#FFA8FF","#00E070","#FFCCCC","#C2E0FF","#F0F000","#EBD6FF","#ADFFAD","#FFD6EB","#8AFFFF","#FFEBD6","#EBEBFF","#E0FFC2","#FFEBFF","#E5FFF2","#FFF5F5"]}},e.map=function(t){for(var n,r,o,i,a={},s=function(e,t){return[.5*e[0]+.5*t[0]+.5>>0,.5*e[1]+.5*t[1]+.5>>0,.5*e[2]+.5*t[2]+.5>>0]},u=e.data,c=u[t]||u["D. D. Jameson (1844)"],l=0;l<=88;l++)if(c.data)a[l]={hsl:c.data[l],hex:c.data[l]};else{var d=c[(l+9)%12];switch(c.format){case"RGB":d=Color.Space(d,"RGB>HSL"),r=d.H>>0,o=d.S>>0,i=d.L>>0;break;case"HSL":r=d[0],o=d[1],i=d[2]}r===o&&o===i&&(d=s(n,c[(l+10)%12])),a[l]={hsl:"hsla("+r+","+o+"%,"+i+"%, 1)",hex:Color.Space({H:r,S:o,L:i},"HSL>RGB>HEX>W3")},n=d}return a}}(MIDI.Synesthesia),"undefined"==typeof MIDI&&(MIDI={}),function(e){var t=e.util||(e.util={});if(t.request=function(t,r,o,i){"use strict";"string"==typeof t&&(t={url:t});var a=t.data,s=t.url,u=t.method||(t.data?"POST":"GET"),c=t.format,l=t.headers,d=t.responseType,f=t.withCredentials||!1,r=r||t.onsuccess,o=o||t.onerror,i=i||t.onprogress;if("undefined"!=typeof n&&e.loc.isLocalUrl(s))return void n.readFile(s,"utf8",function(e,t){e?o&&o(e):r&&r({responseText:t})});var p=new XMLHttpRequest;if(p.open(u,s,!0),l)for(var h in l)p.setRequestHeader(h,l[h]);else a&&p.setRequestHeader("Content-type","application/x-www-form-urlencoded");return"binary"===c&&p.overrideMimeType&&p.overrideMimeType("text/plain; charset=x-user-defined"),d&&(p.responseType=d),f&&(p.withCredentials="true"),o&&"onerror"in p&&(p.onerror=o),i&&p.upload&&"onprogress"in p.upload&&(a?p.upload.onprogress=function(e){i.call(p,e,event.loaded/event.total)}:p.addEventListener("progress",function(e){var t=0;if(e.lengthComputable)t=e.total;else if(p.totalBytes)t=p.totalBytes;else{var n=parseInt(p.getResponseHeader("Content-Length-Raw"));if(!isFinite(n))return;p.totalBytes=t=n}i.call(p,e,e.loaded/t)})),p.onreadystatechange=function(t){if(4===p.readyState)if(200===p.status||304===p.status||308===p.status||0===p.status&&e.client.cordova){if(r){var n;if("xml"===c)n=t.target.responseXML;else if("text"===c)n=t.target.responseText;else if("json"===c)try{n=JSON.parse(t.target.response)}catch(i){o&&o.call(p,t)}r.call(p,t,n)}}else o&&o.call(p,t)},p.send(a),p},"undefined"!=typeof module&&module.exports){var n=require("fs");XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,module.exports=e.util.request}}(MIDI),"undefined"==typeof dom)var dom={};!function(){"use strict";dom.loadScript=function(){return this.loaded={},this.loading={},this},dom.loadScript.prototype.add=function(t){var n=this;"string"==typeof t&&(t={url:t});var r=t.urls;"undefined"==typeof r&&(r=[{url:t.url,verify:t.verify}]);var o=document.getElementsByTagName("head")[0],i=function(t,r){n.loaded[t.url]||r&&e(r)===!1||(n.loaded[t.url]=!0,n.loading[t.url]&&n.loading[t.url](),delete n.loading[t.url],t.onsuccess&&t.onsuccess(),"undefined"!=typeof f&&f())},a=!1,s=[],u=function(e){if("string"==typeof e&&(e={url:e,verify:t.verify}),/([\w\d.\[\]\'\"])$/.test(e.verify)){var r=e.test=e.verify;if("object"==typeof r)for(var u=0;u<r.length;u++)s.push(r[u]);else s.push(r)}if(!n.loaded[e.url]){var l=document.createElement("script");l.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||i(e)},l.onload=function(){i(e)},l.onerror=function(){if(a=!0,delete n.loading[e.url],"object"==typeof e.test)for(var t in e.test)c(e.test[t]);else c(e.test)},l.setAttribute("type","text/javascript"),l.setAttribute("src",e.url),o.appendChild(l),n.loading[e.url]=function(){}}},c=function(e){for(var t=[],n=0;n<s.length;n++)s[n]!==e&&t.push(s[n]);s=t},l=function(n){if(n)i(n,n.test);else for(var o=0;o<r.length;o++)i(r[o],r[o].test);for(var u=!0,o=0;o<s.length;o++)e(s[o])===!1&&(u=!1);!t.strictOrder&&u?a?t.error&&t.error():t.onsuccess&&t.onsuccess():setTimeout(function(){l(n)},10)};if(t.strictOrder){var d=-1,f=function(){if(d++,r[d]){var e=r[d],o=e.url;n.loading[o]?n.loading[o]=function(){e.onsuccess&&e.onsuccess(),f()}:n.loaded[o]?f():(u(e),l(e))}else a?t.error&&t.error():t.onsuccess&&t.onsuccess()};f()}else for(var d=0;d<r.length;d++)u(r[d]),l(r[d])},dom.loadScript=new dom.loadScript;var e=function(e,t){try{e=e.split('"').join("").split("'").join("").split("]").join("").split("[").join(".");for(var n=e.split("."),r=n.length,o=t||window,i=0;i<r;i++){var a=n[i];if(null==o[a])return!1;o=o[a]}return!0}catch(s){return!1}}}(),"undefined"!=typeof module&&module.exports&&(module.exports=dom.loadScript);